import{i as dt,g as ct,a as xt,r as a,o as mt,c as X,b as ee,j as e,X as $e,C as Ye,M as ut,L as ht,d as te,e as be,B as K,f as gt,h as ae,k as oe,S as le,l as we,P as je,m as ke,n as pt,p as bt,q as ft,s as jt,t as Nt,F as vt,T as yt,u as ne,v as wt,w as Le,x as kt,y as St,z as Ct,A as J,D as G,E as fe,G as Oe,H as q,U as Dt,I as Tt,J as zt,K as Mt,N as se,O as Se,Q as Ce,R as De,V as ie,W as At,Y as Ne,Z as It,_ as Et,$ as Ft,a0 as Pt,a1 as $t,a2 as Yt}from"./vendor-vbg2oam3.js";(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))f(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&f(i)}).observe(document,{childList:!0,subtree:!0});function m(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerPolicy&&(l.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?l.credentials="include":t.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function f(t){if(t.ep)return;t.ep=!0;const l=m(t);fetch(t.href,l)}})();const de=typeof __firebase_config<"u";let ve=null;de?ve=JSON.parse(__firebase_config):ve={apiKey:"AIzaSyBAFxF6ybj4g1EpBathg0oGael7TnYBrWE",authDomain:"smartplanner-3838c.firebaseapp.com",projectId:"smartplanner-3838c",storageBucket:"smartplanner-3838c.firebasestorage.app",messagingSenderId:"461929417011",appId:"1:461929417011:web:c814b579543e89b1371646",measurementId:"G-4KYNCYKCJK"};const Re=dt(ve),_=ct(Re),p=xt(Re),A=de&&typeof __app_id<"u"?__app_id:"smartplanner-3838c",Lt="AIzaSyBM_neRfdZl0LP0qm6upTPz3x2ke7kZZQU",Ot=async(r,u,m=5)=>{const f=[1e3,2e3,4e3,8e3,16e3];for(let t=0;t<m;t++)try{const l=await fetch(r,u);if(!l.ok){const i=await l.json().catch(()=>({}));throw new Error(i?.error?.message||`HTTP error! status: ${l.status}`)}return await l.json()}catch(l){if(t===m-1)throw l;await new Promise(i=>setTimeout(i,f[t]))}},Rt=async(r,u,m,f,t,l)=>{const h=`https://generativelanguage.googleapis.com/v1beta/models/${de?"gemini-2.5-flash-preview-09-2025":"gemini-1.5-flash"}:generateContent?key=${Lt}`,o=`You are an expert academic study planner for the subject: "${r}". 
Your task is to analyze a provided syllabus and create a realistic, day-by-day study schedule between the start date and end date.
First, extract the core topics from the provided material.
Crucially, you must evaluate the complexity of each topic. Allocate more time for topics you infer to be hard, and less time for easy topics. 
Do not exceed the user's daily study hours.
IMPORTANT: If a topic is 'Easy', but the user's Max Daily Study Hours is higher than needed, provide a 'suggestion' (hasSuggestion: true) with a 'message' and a 'suggestedHours'.
Return the schedule STRICTLY matching the provided JSON schema.`,j=[];m&&(j.push({inlineData:{mimeType:m.mimeType,data:m.data}}),j.push({text:"Please extract the syllabus topics from the provided document."})),u&&u.trim()&&j.push({text:`Additional Syllabus Text:
${u}`}),j.push({text:`
Parameters:
Start Date: ${f}
End Date: ${t}
Max Daily Study Hours: ${l}`});const F=(await Ot(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({systemInstruction:{parts:[{text:o}]},contents:[{parts:j}],generationConfig:{responseMimeType:"application/json",responseSchema:{type:"OBJECT",properties:{schedule:{type:"ARRAY",items:{type:"OBJECT",properties:{date:{type:"STRING"},dayNumber:{type:"INTEGER"},totalHoursScheduled:{type:"NUMBER"},topics:{type:"ARRAY",items:{type:"OBJECT",properties:{topicName:{type:"STRING"},difficulty:{type:"STRING"},allocatedHours:{type:"NUMBER"},reasoning:{type:"STRING"},suggestion:{type:"OBJECT",properties:{hasSuggestion:{type:"BOOLEAN"},message:{type:"STRING"},suggestedHours:{type:"NUMBER"}}}},required:["topicName","difficulty","allocatedHours","reasoning"]}}},required:["date","dayNumber","totalHoursScheduled","topics"]}}},required:["schedule"]}}})})).candidates?.[0]?.content?.parts?.[0]?.text;if(!F)throw new Error("Failed to parse AI response. Check API quotas or payload formatting.");return{...JSON.parse(F),id:Date.now().toString(),subjectName:r}},_e=({level:r})=>{const m={Easy:"bg-green-100 text-green-800 border-green-200",Medium:"bg-yellow-100 text-yellow-800 border-yellow-200",Hard:"bg-red-100 text-red-800 border-red-200"}[r]||"bg-gray-100 text-gray-800 border-gray-200";return e.jsxs("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium border ${m} flex items-center gap-1 w-max`,children:[e.jsx(Ft,{size:12})," ",r]})},_t=({setActiveTab:r,setTheme:u,currentTheme:m})=>{const f=a.useRef(null),t=["light","dark","cyber","modern","pastel","midnight","forest","sunset"],l=()=>f.current?.scrollIntoView({behavior:"smooth"});return e.jsxs("div",{className:"space-y-16 pb-20 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"text-center py-16 px-4 bg-white rounded-3xl shadow-sm border border-slate-200 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full max-w-2xl h-64 bg-indigo-50 rounded-full blur-3xl opacity-50 pointer-events-none"}),e.jsxs("div",{className:"relative z-10 max-w-3xl mx-auto space-y-6",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-indigo-50 border border-indigo-100 text-indigo-600 text-sm font-semibold mb-4",children:[e.jsx(Oe,{size:16}),e.jsx("span",{children:"All-In-One Study Hub"})]}),e.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 tracking-tight leading-tight",children:["Master your syllabus with ",e.jsx("br",{className:"hidden md:block"})," intelligent scheduling."]}),e.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto leading-relaxed",children:"Upload multiple courseworks and let AI organize your study days. Group your tasks by subject and stay on top of daily goals."}),e.jsx("div",{className:"pt-4 flex items-center justify-center gap-4 flex-wrap",children:e.jsxs("button",{onClick:()=>r("planner"),className:"inline-flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-4 rounded-xl font-bold text-lg shadow-sm transition-all hover:-translate-y-0.5",children:["Start Planning Now ",e.jsx(q,{size:20})]})})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2 px-2",children:[e.jsx(Oe,{className:"text-indigo-500",size:24}),"Explore Features"]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{onClick:()=>r("planner"),className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200 hover:border-indigo-400 hover:shadow-md cursor-pointer transition-all hover:-translate-y-1 group relative",children:[e.jsx("div",{className:"absolute top-6 right-6 opacity-0 group-hover:opacity-100 transition-opacity text-indigo-400",children:e.jsx(q,{size:20})}),e.jsx("div",{className:"w-12 h-12 bg-indigo-100 text-indigo-600 rounded-xl flex items-center justify-center mb-5 group-hover:scale-110 transition-transform",children:e.jsx(K,{size:24})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Multi-Subject AI Planner"}),e.jsxs("p",{className:"text-slate-600 text-sm leading-relaxed",children:["Upload multiple subjects. The AI uses ",e.jsx("strong",{children:"[Inference]"})," to break down topics without overwriting previous subject data."]})]}),e.jsxs("div",{onClick:()=>r("calendar"),className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200 hover:border-indigo-400 hover:shadow-md cursor-pointer transition-all hover:-translate-y-1 group relative",children:[e.jsx("div",{className:"absolute top-6 right-6 opacity-0 group-hover:opacity-100 transition-opacity text-indigo-400",children:e.jsx(q,{size:20})}),e.jsx("div",{className:"w-12 h-12 bg-indigo-100 text-indigo-600 rounded-xl flex items-center justify-center mb-5 group-hover:scale-110 transition-transform",children:e.jsx(ae,{size:24})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Aggregated Calendar"}),e.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:"View all scheduled topics from all subjects in one global calendar view."})]}),e.jsxs("div",{onClick:()=>r("todo"),className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200 hover:border-indigo-400 hover:shadow-md cursor-pointer transition-all hover:-translate-y-1 group relative",children:[e.jsx("div",{className:"absolute top-6 right-6 opacity-0 group-hover:opacity-100 transition-opacity text-indigo-400",children:e.jsx(q,{size:20})}),e.jsx("div",{className:"w-12 h-12 bg-indigo-100 text-indigo-600 rounded-xl flex items-center justify-center mb-5 group-hover:scale-110 transition-transform",children:e.jsx(oe,{size:24})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Priority Task Groups"}),e.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:"Your to-do list groups tasks by subject. Today's items are always pinned at the top."})]}),e.jsxs("div",{onClick:()=>r("notes"),className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200 hover:border-indigo-400 hover:shadow-md cursor-pointer transition-all hover:-translate-y-1 group relative",children:[e.jsx("div",{className:"absolute top-6 right-6 opacity-0 group-hover:opacity-100 transition-opacity text-indigo-400",children:e.jsx(q,{size:20})}),e.jsx("div",{className:"w-12 h-12 bg-indigo-100 text-indigo-600 rounded-xl flex items-center justify-center mb-5 group-hover:scale-110 transition-transform",children:e.jsx(le,{size:24})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Subject Notes"}),e.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:"A dedicated area to jot down notes for each subject separately."})]}),e.jsxs("div",{onClick:()=>r("history"),className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200 hover:border-indigo-400 hover:shadow-md cursor-pointer transition-all hover:-translate-y-1 group relative",children:[e.jsx("div",{className:"absolute top-6 right-6 opacity-0 group-hover:opacity-100 transition-opacity text-indigo-400",children:e.jsx(q,{size:20})}),e.jsx("div",{className:"w-12 h-12 bg-indigo-100 text-indigo-600 rounded-xl flex items-center justify-center mb-5 group-hover:scale-110 transition-transform",children:e.jsx(we,{size:24})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"History & Analysis"}),e.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:"Analyze performance across all subjects. See what you finished and what's left behind."})]}),e.jsxs("div",{onClick:l,className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200 hover:border-indigo-400 hover:shadow-md cursor-pointer transition-all hover:-translate-y-1 group relative",children:[e.jsx("div",{className:"absolute top-6 right-6 opacity-0 group-hover:opacity-100 transition-opacity text-indigo-400",children:e.jsx(ke,{size:20})}),e.jsx("div",{className:"w-12 h-12 bg-indigo-100 text-indigo-600 rounded-xl flex items-center justify-center mb-5 group-hover:scale-110 transition-transform",children:e.jsx(je,{size:24})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Dynamic Themes"}),e.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:"Customize your hub with one of our eight beautiful themes."})]})]})]}),e.jsxs("div",{className:"bg-indigo-900 text-white rounded-3xl p-8 md:p-12 shadow-2xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-800 rounded-full blur-3xl opacity-20 -mr-20 -mt-20"}),e.jsxs("div",{className:"relative z-10 grid md:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-indigo-800/50 border border-indigo-700 px-3 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider",children:[e.jsx(Dt,{size:14})," Meet the Developer"]}),e.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold tracking-tight",children:"Ritik Raj"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 text-indigo-200",children:[e.jsx(Tt,{size:20,className:"shrink-0"}),e.jsx("span",{className:"font-medium",children:"SRM KTR, 1st Year Student"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-indigo-200",children:[e.jsx(zt,{size:20,className:"shrink-0"}),e.jsx("span",{className:"font-medium text-sm",children:"Kattankulathur, Tamil Nadu"})]})]}),e.jsx("p",{className:"text-indigo-100/80 leading-relaxed text-sm max-w-md italic",children:'"Driven by a passion for creating intelligent solutions that simplify academic life. This SmartPlanner is a project designed to help students like myself manage complex curriculums with the power of AI."'}),e.jsx("div",{className:"pt-2",children:e.jsxs("a",{href:"https://redx7988.github.io/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-white text-indigo-900 px-6 py-3 rounded-xl font-bold transition-all hover:scale-105 hover:bg-indigo-50 shadow-lg",children:["Visit Portfolio ",e.jsx(Mt,{size:18})]})})]}),e.jsx("div",{className:"hidden md:flex justify-center items-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-48 h-48 bg-indigo-700 rounded-3xl rotate-12 absolute inset-0 blur-sm opacity-50 group-hover:rotate-6 transition-transform"}),e.jsx("div",{className:"w-48 h-48 bg-indigo-600 rounded-3xl -rotate-6 absolute inset-0 blur-sm opacity-50 group-hover:rotate-0 transition-transform"}),e.jsx("div",{className:"w-48 h-48 bg-indigo-500 rounded-3xl flex items-center justify-center relative border-4 border-white group-hover:scale-105 transition-transform",children:e.jsx(K,{size:80,className:"text-white animate-pulse"})})]})})]})]}),e.jsxs("div",{ref:f,className:"space-y-8 animate-in slide-in-from-bottom-4 duration-700",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("h2",{className:"text-3xl font-extrabold text-slate-900 flex items-center justify-center gap-3",children:[e.jsx(je,{className:"text-indigo-600",size:32}),"Personalize Your Hub"]}),e.jsx("p",{className:"text-slate-500 max-w-lg mx-auto",children:"Select a theme that matches your current study environment."})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 px-2",children:t.map(i=>e.jsxs("button",{onClick:()=>u(i),className:`p-6 rounded-3xl border-2 transition-all flex flex-col items-center gap-4 group ${m===i?"bg-indigo-600 text-white border-indigo-600 shadow-xl scale-105":"bg-white text-slate-700 border-slate-100 hover:border-indigo-300 hover:shadow-lg"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full border-4 border-white shadow-sm flex items-center justify-center transition-transform group-hover:rotate-12 ${i==="light"?"bg-slate-100":""} ${i==="dark"?"bg-slate-800":""} ${i==="cyber"?"bg-green-500":""} ${i==="modern"?"bg-indigo-400":""} ${i==="pastel"?"bg-pink-200":""} ${i==="midnight"?"bg-blue-900":""} ${i==="forest"?"bg-emerald-800":""} ${i==="sunset"?"bg-orange-500":""}`,children:m===i&&e.jsx(se,{size:24})}),e.jsxs("span",{className:"font-bold capitalize text-sm",children:[i," Theme"]})]},i))})]}),e.jsxs("div",{className:"bg-amber-50 p-6 rounded-2xl border border-amber-200 flex gap-4 items-start",children:[e.jsx(te,{className:"text-amber-600 shrink-0 mt-0.5",size:24}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-amber-800 font-bold mb-2",children:"[Unverified] Expected AI Behavior"}),e.jsxs("p",{className:"text-amber-700 text-sm leading-relaxed",children:["Topic extraction and difficulty estimations are ",e.jsx("strong",{children:"[Inference]"})," based on academic knowledge. This is expected behavior, not a guaranteed absolute truth regarding specific demands."]})]})]})]})},ye=({value:r,onChange:u,minDate:m})=>{const[f,t]=a.useState(!1),[l,i]=a.useState(new Date(r||new Date));a.useEffect(()=>{r&&i(new Date(r))},[r]);const h=N=>{const S=new Date(N);return`${S.getFullYear()}-${String(S.getMonth()+1).padStart(2,"0")}-${String(S.getDate()).padStart(2,"0")}`},o=N=>{N.preventDefault(),i(new Date(l.getFullYear(),l.getMonth()+1,1))},j=N=>{N.preventDefault(),i(new Date(l.getFullYear(),l.getMonth()-1,1))},I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],E=["Su","Mo","Tu","We","Th","Fr","Sa"],F=Array(new Date(l.getFullYear(),l.getMonth(),1).getDay()).fill(null),L=Array.from({length:new Date(l.getFullYear(),l.getMonth()+1,0).getDate()},(N,S)=>S+1),P=[...F,...L];return e.jsxs("div",{className:"relative w-full",children:[e.jsxs("div",{onClick:()=>t(!f),className:"w-full pl-9 p-2.5 rounded-xl border border-slate-300 bg-white hover:border-indigo-300 cursor-pointer flex items-center min-h-[46px] transition-colors",children:[e.jsx(ae,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),e.jsx("span",{className:"text-slate-700 text-sm",children:r||"Select date"})]}),f&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>t(!1)}),e.jsxs("div",{className:"absolute left-0 top-full mt-2 w-64 bg-white rounded-2xl shadow-lg border border-slate-200 overflow-hidden z-50 p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("button",{onClick:j,className:"p-1 hover:bg-slate-100 rounded-lg text-slate-600 transition-colors",children:e.jsx(Se,{size:16})}),e.jsxs("span",{className:"font-bold text-slate-800 text-sm",children:[I[l.getMonth()]," ",l.getFullYear()]}),e.jsx("button",{onClick:o,className:"p-1 hover:bg-slate-100 rounded-lg text-slate-600 transition-colors",children:e.jsx(Ce,{size:16})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:E.map(N=>e.jsx("div",{className:"text-center text-[10px] font-bold text-slate-400",children:N},N))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:P.map((N,S)=>{if(!N)return e.jsx("div",{className:"h-8"},`blank-${S}`);const z=h(new Date(l.getFullYear(),l.getMonth(),N)),M=r===z,O=z===h(new Date),$=m&&z<m;return e.jsx("button",{disabled:$,onClick:Y=>{Y.preventDefault(),$||(u(z),t(!1))},className:`h-8 rounded-lg text-xs font-medium flex items-center justify-center transition-all ${$?"text-slate-300 cursor-not-allowed opacity-40":M?"bg-indigo-600 text-white shadow-sm":O?"bg-indigo-50 text-indigo-700 font-bold":"text-slate-700 hover:bg-slate-100"}`,children:N},N)})})]})]})]})},Ht=({todos:r,toggleTodo:u,customTodos:m,addCustomTodo:f,toggleCustomTodo:t,deleteCustomTodo:l,editCustomTodo:i})=>{const h=new Date().toISOString().split("T")[0],[o,j]=a.useState(!0),[I,E]=a.useState(""),[F,L]=a.useState("Medium"),[P,N]=a.useState(h),[S,z]=a.useState(null),[M,O]=a.useState(""),$={High:1,Medium:2,Low:3},Y=(n,b)=>n.completed!==b.completed?n.completed?1:-1:$[n.priority]-$[b.priority],R=[...r].sort((n,b)=>{const y=n.date===h,H=b.date===h;return y!==H?y?-1:1:n.completed!==b.completed?n.completed?1:-1:n.subjectName.localeCompare(b.subjectName)}),x=m.filter(n=>n.dueDate<h&&!n.completed).sort(Y),v=m.filter(n=>n.dueDate===h).sort(Y),D=m.filter(n=>n.dueDate>h).sort(Y),c=n=>n==="High"?"bg-red-100 text-red-700 border-red-200":n==="Medium"?"bg-yellow-100 text-yellow-700 border-yellow-200":"bg-blue-100 text-blue-700 border-blue-200",w=(n,b)=>n.length===0?e.jsx("div",{className:"text-sm text-slate-400 italic py-2",children:b}):e.jsx("div",{className:"space-y-3",children:n.map(y=>e.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-xl border transition-all ${y.completed?"bg-slate-50 border-slate-200 opacity-60":"bg-white border-slate-200 shadow-sm"}`,children:[e.jsx("button",{onClick:()=>t(y.id),className:"shrink-0 mt-0.5",children:y.completed?e.jsx(se,{className:"text-green-500",size:20}):e.jsx(Ne,{className:"text-slate-300 hover:text-indigo-400 transition-colors",size:20})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[S===y.id?e.jsx("input",{value:M,onChange:H=>O(H.target.value),onBlur:()=>{M.trim()&&i(y.id,M),z(null)},onKeyDown:H=>H.key==="Enter"&&z(null),autoFocus:!0,className:"w-full p-1 border-b-2 border-indigo-500 outline-none bg-transparent text-sm"}):e.jsx("p",{className:`font-medium text-sm break-words ${y.completed?"text-slate-500 line-through":"text-slate-800"}`,children:y.text}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs("span",{className:`text-[10px] px-2 py-0.5 rounded-md font-bold border flex items-center gap-1 ${c(y.priority)}`,children:[e.jsx(Pt,{size:10})," ",y.priority]}),e.jsx("span",{className:"text-[10px] text-slate-500 bg-slate-100 px-2 py-0.5 rounded-md font-medium border border-slate-200",children:y.dueDate})]})]}),e.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[S!==y.id&&e.jsx("button",{onClick:()=>{z(y.id),O(y.text)},className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:e.jsx($t,{size:16})}),e.jsx("button",{onClick:()=>l(y.id),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(ne,{size:16})})]})]},y.id))}),k=[...new Set(R.map(n=>n.subjectName))];return e.jsxs("div",{className:"flex flex-col gap-6 h-full min-h-[400px]",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-start flex-1",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden flex flex-col max-h-[700px]",children:[e.jsxs("button",{onClick:()=>j(!o),className:"w-full flex items-center justify-between p-5 hover:bg-slate-50 transition-colors shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(oe,{className:"text-indigo-500"}),e.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Master To-Do List"}),e.jsx("span",{className:"text-xs text-amber-600 bg-amber-50 px-2 py-1 rounded border border-amber-200 ml-2 hidden xl:inline-block",children:"* Multi-Subject"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-slate-500",children:[e.jsxs("span",{className:"text-sm font-medium bg-slate-100 px-2 py-1 rounded-md",children:[r.length," Tasks"]}),o?e.jsx(At,{size:20}):e.jsx(ke,{size:20})]})]}),o&&e.jsx("div",{className:"p-5 border-t border-slate-200 bg-slate-50/50 overflow-y-auto space-y-6",children:R.length===0?e.jsx("div",{className:"text-center text-slate-500 py-8",children:"No AI plans generated yet."}):k.map(n=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-xs font-bold text-indigo-500 uppercase tracking-widest border-b border-indigo-100 pb-1 flex justify-between items-center",children:[e.jsx("span",{children:n}),e.jsx("span",{className:"text-[9px] bg-indigo-100 text-indigo-700 px-1.5 py-0.5 rounded",children:"Grouped"})]}),R.filter(b=>b.subjectName===n).map(b=>e.jsxs("div",{onClick:()=>u(b.id),className:`flex items-center gap-3 p-4 rounded-xl border cursor-pointer transition-all ${b.completed?"bg-slate-100 border-slate-200 opacity-60":b.date===h?"bg-indigo-50 border-indigo-300 shadow-md ring-2 ring-indigo-100":"bg-white border-slate-200 hover:border-indigo-300 shadow-sm"}`,children:[b.completed?e.jsx(se,{className:"text-green-500 shrink-0"}):e.jsx(Ne,{className:"text-slate-300 shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`font-medium ${b.completed?"text-slate-500 line-through":"text-slate-800"}`,children:b.text}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[b.date===h&&e.jsx("span",{className:"text-[10px] bg-indigo-600 text-white px-2 py-0.5 rounded-full font-bold animate-pulse",children:"TODAY"}),e.jsxs("p",{className:"text-[10px] text-slate-500",children:[b.date," â€¢ ",b.allocatedHours," hrs"]})]})]})]},b.id))]},n))})]}),e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[e.jsxs("h3",{className:"text-lg font-bold text-indigo-600 flex items-center gap-2 mb-4",children:[e.jsx(ae,{size:20})," Today's Personal Tasks"]}),w(v,"No personal tasks for today.")]}),x.length>0&&e.jsxs("div",{className:"bg-red-50/30 p-6 rounded-2xl border border-red-100",children:[e.jsxs("h3",{className:"text-lg font-bold text-red-600 flex items-center gap-2 mb-4",children:[e.jsx(te,{size:20})," Overdue Tasks"]}),w(x,"No overdue tasks.")]}),D.length>0&&e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-500 flex items-center gap-2 mb-4",children:[e.jsx(De,{size:20})," Upcoming Tasks"]}),w(D,"No upcoming tasks.")]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 mt-auto",children:[e.jsxs("h2",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[e.jsx(ie,{className:"text-indigo-500",size:20}),"Create New Personal Task"]}),e.jsxs("form",{onSubmit:n=>{n.preventDefault(),I.trim()&&(f(I,F,P),E(""))},className:"flex flex-col lg:flex-row gap-4 bg-slate-50 p-4 rounded-xl border border-slate-200",children:[e.jsx("input",{value:I,onChange:n=>E(n.target.value),placeholder:"What do you need to do?",className:"flex-1 p-3 rounded-xl border border-slate-300 focus:ring-2 focus:ring-indigo-500 outline-none"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("div",{className:"w-full sm:w-44 shrink-0",children:e.jsx(ye,{value:P,minDate:h,onChange:N})}),e.jsxs("select",{value:F,onChange:n=>L(n.target.value),className:"w-full sm:w-auto p-3 rounded-xl border border-slate-300 focus:ring-2 focus:ring-indigo-500 outline-none text-sm bg-white text-slate-700",children:[e.jsx("option",{value:"High",children:"High"}),e.jsx("option",{value:"Medium",children:"Medium"}),e.jsx("option",{value:"Low",children:"Low"})]}),e.jsx("button",{type:"submit",disabled:!I.trim(),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-xl font-bold gap-2 shrink-0",children:"Add"})]})]})]})]})},Bt=({plans:r,dailySchedules:u,addDailySchedule:m,deleteDailySchedule:f})=>{const[t,l]=a.useState(new Date),i=c=>{const w=new Date(c);return`${w.getFullYear()}-${String(w.getMonth()+1).padStart(2,"0")}-${String(w.getDate()).padStart(2,"0")}`},[h,o]=a.useState(i(new Date)),[j,I]=a.useState("09:00"),[E,F]=a.useState("10:00"),[L,P]=a.useState(""),[N,S]=a.useState(""),z=()=>l(new Date(t.getFullYear(),t.getMonth()+1,1)),M=()=>l(new Date(t.getFullYear(),t.getMonth()-1,1)),O=["January","February","March","April","May","June","July","August","September","October","November","December"],$=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Y=Array(new Date(t.getFullYear(),t.getMonth(),1).getDay()).fill(null),R=Array.from({length:new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},(c,w)=>w+1),x=[...Y,...R],v=r.flatMap(c=>{const w=c.schedule.find(k=>k.date===h);return w?w.topics.map(k=>({...k,subjectName:c.subjectName})):[]}),D=u[h]||[];return e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 h-full items-start relative",children:[e.jsxs("div",{className:"flex-1 flex flex-col gap-6 order-2 md:order-1 h-full w-full min-w-0",children:[e.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-200 flex-1 flex flex-col",children:[e.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2 mb-4",children:[e.jsx(oe,{className:"text-indigo-500",size:18}),"My Time Table"]}),D.length===0?e.jsx("p",{className:"text-sm text-slate-500 italic py-8 text-center border border-dashed border-slate-200 rounded-xl flex-1 flex items-center justify-center",children:"No custom schedule set for this date."}):e.jsx("div",{className:"space-y-3 overflow-y-auto pr-1 flex-1 max-h-80",children:D.map(c=>e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-slate-50 border border-slate-200 rounded-xl shadow-sm group hover:border-indigo-200 transition-colors",children:[e.jsxs("div",{className:"text-xs font-bold text-slate-500 w-20 shrink-0 pt-0.5 border-r border-slate-200 pr-2",children:[e.jsx("div",{className:"text-indigo-600",children:c.startTime}),e.jsx("div",{className:"text-slate-400 mt-1",children:c.endTime})]}),e.jsx("div",{className:"flex-1 pl-2",children:e.jsx("p",{className:"text-base font-medium text-slate-800",children:c.activity})}),e.jsx("button",{onClick:()=>f(h,c.id),className:"text-slate-300 hover:text-red-500 transition-colors p-2 bg-white rounded-lg shadow-sm opacity-0 group-hover:opacity-100 focus:opacity-100",children:e.jsx(ne,{size:16})})]},c.id))})]}),e.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[e.jsx(K,{className:"text-indigo-500",size:18}),"Combined AI Topics"]}),e.jsx("span",{className:"text-xs text-amber-600 bg-amber-50 px-2 py-1 rounded border border-amber-200",children:"[Inference] Total Log"})]}),v.length===0?e.jsx("p",{className:"text-sm text-slate-500 italic py-4 text-center bg-slate-50 rounded-xl border border-dashed border-slate-200",children:"No AI topics from any subject for this date."}):e.jsx("div",{className:"space-y-4",children:v.map((c,w)=>e.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-indigo-500 uppercase tracking-widest",children:c.subjectName}),e.jsx(_e,{level:c.difficulty})]}),e.jsx("div",{className:"font-medium text-slate-800 mb-1",children:c.topicName}),e.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1",children:[e.jsx(De,{size:12})," ",c.allocatedHours," hrs"]})]},w))})]}),e.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-200 mt-auto",children:[e.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2 mb-4 text-sm",children:[e.jsx(ie,{className:"text-indigo-500",size:16}),"Add to Schedule"]}),e.jsxs("form",{onSubmit:c=>{if(c.preventDefault(),L.trim()&&j&&E){if(j>=E){S("End time must be after start time.");return}if(u[h]?.some(k=>j<k.endTime&&E>k.startTime)){S("Time overlap detected.");return}S(""),m(h,j,E,L),P("")}},className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsx("input",{type:"time",value:j,onChange:c=>I(c.target.value),required:!0,className:"p-2.5 rounded-lg border border-slate-300 text-sm outline-none focus:ring-2 focus:ring-indigo-500 bg-slate-50"}),e.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"to"}),e.jsx("input",{type:"time",value:E,onChange:c=>F(c.target.value),required:!0,className:"p-2.5 rounded-lg border border-slate-300 text-sm outline-none focus:ring-2 focus:ring-indigo-500 bg-slate-50"})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("input",{type:"text",placeholder:"Activity...",value:L,onChange:c=>P(c.target.value),required:!0,className:"flex-1 p-2.5 rounded-lg border border-slate-300 text-sm outline-none focus:ring-2 focus:ring-indigo-500 bg-slate-50"}),e.jsx("button",{type:"submit",disabled:!L.trim(),className:"bg-indigo-600 hover:bg-indigo-700 text-white p-2.5 rounded-lg transition-colors shrink-0",children:e.jsx(ie,{size:20})})]})]}),N&&e.jsxs("div",{className:"mt-3 p-2 bg-red-50 text-red-700 rounded-lg text-xs flex items-center gap-1.5 border border-red-100 animate-bounce",children:[e.jsx(te,{size:14,className:"shrink-0"}),e.jsx("span",{children:N})]})]})]}),e.jsxs("div",{className:"w-full md:w-80 lg:w-[340px] shrink-0 bg-white p-5 rounded-2xl shadow-sm border border-slate-200 order-1 md:order-2 md:sticky md:top-24 z-10",children:[e.jsxs("div",{className:"flex flex-col items-center mb-6 gap-3",children:[e.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2 w-full justify-center",children:[e.jsx(ae,{className:"text-indigo-500",size:20}),"Global Calendar"]}),e.jsxs("div",{className:"flex items-center justify-between w-full bg-slate-50 rounded-xl border border-slate-200 p-1",children:[e.jsx("button",{onClick:M,className:"p-1.5 hover:bg-slate-200 rounded-lg transition-colors text-slate-600",children:e.jsx(Se,{size:16})}),e.jsxs("span",{className:"font-bold text-slate-800 text-sm text-center",children:[O[t.getMonth()]," ",t.getFullYear()]}),e.jsx("button",{onClick:z,className:"p-1.5 hover:bg-slate-200 rounded-lg transition-colors text-slate-600",children:e.jsx(Ce,{size:16})})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:$.map(c=>e.jsx("div",{className:"text-center font-bold text-[10px] text-slate-400 uppercase tracking-wider py-1",children:c.slice(0,2)},c))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:x.map((c,w)=>{if(!c)return e.jsx("div",{className:"h-10 md:h-12 rounded-lg border border-transparent"},`blank-${w}`);const k=i(new Date(t.getFullYear(),t.getMonth(),c)),n=h===k,b=k===i(new Date),y=r.some(re=>re.schedule.some(V=>V.date===k)),H=(u[k]||[]).length>0;return e.jsxs("div",{onClick:()=>o(k),className:`h-10 md:h-12 rounded-lg border transition-all cursor-pointer flex flex-col items-center justify-center relative group ${n?"bg-indigo-50 border-indigo-400 shadow-sm ring-1 ring-indigo-400":"bg-slate-50 border-slate-200 hover:border-indigo-300 hover:bg-slate-100"}`,children:[e.jsx("span",{className:`text-xs md:text-sm font-semibold flex items-center justify-center rounded-full ${b?"bg-indigo-600 text-white w-6 h-6":n?"text-indigo-700 w-6 h-6 bg-white shadow-sm":"text-slate-700"}`,children:c}),e.jsxs("div",{className:"flex gap-1 absolute bottom-1 md:bottom-1.5",children:[y&&e.jsx("div",{className:"w-1 h-1 md:w-1.5 md:h-1.5 rounded-full bg-indigo-400"}),H&&e.jsx("div",{className:"w-1 h-1 md:w-1.5 md:h-1.5 rounded-full bg-amber-400"})]})]},c)})})]})]})},Ut=({notes:r,setNotes:u})=>{const[m,f]=a.useState(null),t=r.find(o=>o.id===m),l=()=>{const o={id:Date.now().toString(),title:"New Subject",content:"",date:new Date().toISOString().split("T")[0]};u(o),f(o.id)},i=(o,j)=>{u({...t,[o]:j,lastEdited:new Date().toLocaleTimeString()},!0)},h=(o,j)=>{o.stopPropagation(),u({id:j},!1,!0),m===j&&f(null)};return e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 h-full min-h-[600px] items-start relative",children:[e.jsxs("div",{className:"w-full md:w-80 shrink-0 flex flex-col gap-4 order-2 md:order-1 h-[400px] md:h-auto md:sticky md:top-24",children:[e.jsxs("button",{onClick:l,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-3 rounded-2xl shadow-sm transition-colors flex items-center justify-center font-bold gap-2",children:[e.jsx(ie,{size:20}),"Create New Note"]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 flex-1 flex flex-col overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-slate-100 bg-slate-50/50",children:e.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[e.jsx(le,{className:"text-indigo-500",size:18}),"My Notes"]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2 max-h-[400px] md:max-h-[600px]",children:r.length===0?e.jsx("p",{className:"text-sm text-slate-400 italic text-center py-8",children:"No notes created yet."}):r.map(o=>e.jsxs("div",{onClick:()=>f(o.id),className:`p-3 rounded-xl border cursor-pointer transition-all flex items-start justify-between group ${m===o.id?"bg-indigo-50 border-indigo-300 ring-1 ring-indigo-300":"bg-white border-slate-200 hover:border-indigo-200 hover:bg-slate-50"}`,children:[e.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[e.jsx("h4",{className:`font-semibold text-sm truncate ${m===o.id?"text-indigo-900":"text-slate-800"}`,children:o.title||"Untitled"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1 truncate",children:o.content?o.content.substring(0,30)+"...":"No content"})]}),e.jsx("button",{onClick:j=>h(j,o.id),className:`p-1.5 rounded-lg transition-colors shrink-0 ${m===o.id?"text-indigo-400 hover:text-red-500 hover:bg-white":"text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100"}`,title:"Delete note",children:e.jsx(ne,{size:16})})]},o.id))})]})]}),e.jsx("div",{className:"flex-1 w-full flex flex-col order-1 md:order-2 bg-white rounded-2xl shadow-sm border border-slate-200 min-h-[500px] overflow-hidden",children:t?e.jsxs("div",{className:"flex-1 flex flex-col animate-in fade-in duration-200",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center gap-4 bg-slate-50/30",children:[e.jsx("input",{type:"text",value:t.title,onChange:o=>i("title",o.target.value),placeholder:"Subject Name...",className:"flex-1 text-2xl font-bold text-slate-900 bg-transparent border-none outline-none placeholder:text-slate-300"}),e.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-400 shrink-0 px-3 py-1.5 bg-white rounded-lg border border-slate-200",children:[e.jsx(It,{size:14,className:"text-emerald-500"}),"Saved"]})]}),e.jsx("textarea",{value:t.content,onChange:o=>i("content",o.target.value),placeholder:"Write notes here...",className:"flex-1 p-6 w-full resize-none bg-transparent outline-none text-slate-700 leading-relaxed"}),e.jsxs("div",{className:"p-4 border-t border-slate-100 flex justify-between items-center text-xs text-slate-400 bg-slate-50/50",children:[e.jsxs("span",{children:["Created: ",t.date]}),t.lastEdited&&e.jsxs("span",{children:["Last edited: ",t.lastEdited]})]})]}):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400 p-8",children:[e.jsx(le,{size:64,className:"mb-4 text-slate-200"}),e.jsx("h3",{className:"text-xl font-medium text-slate-600 mb-2",children:"No Note Selected"}),e.jsx("p",{className:"text-sm max-w-sm text-center",children:"Select a note from the sidebar to edit."})]})})]})},Gt=({plans:r,customTodos:u,todos:m,dailySchedules:f})=>{const[t,l]=a.useState(new Date),i=x=>{const v=new Date(x);return`${v.getFullYear()}-${String(v.getMonth()+1).padStart(2,"0")}-${String(v.getDate()).padStart(2,"0")}`},[h,o]=a.useState(i(new Date)),j=()=>l(new Date(t.getFullYear(),t.getMonth()+1,1)),I=()=>l(new Date(t.getFullYear(),t.getMonth()-1,1)),E=["January","February","March","April","May","June","July","August","September","October","November","December"],F=["Su","Mo","Tu","We","Th","Fr","Sa"],L=Array(new Date(t.getFullYear(),t.getMonth(),1).getDay()).fill(null),P=Array.from({length:new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},(x,v)=>v+1),N=[...L,...P];f[h];const S=r.flatMap(x=>{const v=x.schedule.find(D=>D.date===h);return v?v.topics.map(D=>({...D,subjectName:x.subjectName})):[]}),z=u.filter(x=>x.dueDate===h),M=m.filter(x=>x.date===h),O=[...z,...M],$=O.filter(x=>x.completed).length,Y=O.length,R=Y===0?0:Math.round($/Y*100);return e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-full items-start relative",children:[e.jsxs("div",{className:"w-full lg:w-80 shrink-0 bg-white p-5 rounded-2xl shadow-sm border border-slate-200 order-1 lg:sticky lg:top-24 z-10",children:[e.jsxs("div",{className:"flex flex-col items-center mb-6 gap-3",children:[e.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2 w-full justify-center",children:[e.jsx(Et,{className:"text-indigo-500",size:20}),"Filter History"]}),e.jsxs("div",{className:"flex items-center justify-between w-full bg-slate-50 rounded-xl border border-slate-200 p-1",children:[e.jsx("button",{onClick:I,className:"p-1.5 hover:bg-slate-200 rounded-lg transition-colors text-slate-600",children:e.jsx(Se,{size:16})}),e.jsxs("span",{className:"font-bold text-slate-800 text-sm text-center",children:[E[t.getMonth()]," ",t.getFullYear()]}),e.jsx("button",{onClick:j,className:"p-1.5 hover:bg-slate-200 rounded-lg transition-colors text-slate-600",children:e.jsx(Ce,{size:16})})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:F.map(x=>e.jsx("div",{className:"text-center font-bold text-[10px] text-slate-400 uppercase tracking-wider py-1",children:x},x))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N.map((x,v)=>{if(!x)return e.jsx("div",{className:"h-10 rounded-lg border border-transparent"},`blank-${v}`);const D=i(new Date(t.getFullYear(),t.getMonth(),x)),c=h===D,w=f[D]?.length>0||r.some(k=>k.schedule.some(n=>n.date===D))||u.some(k=>k.dueDate===D);return e.jsxs("div",{onClick:()=>o(D),className:`h-10 rounded-lg border transition-all cursor-pointer flex flex-col items-center justify-center relative group ${c?"bg-indigo-50 border-indigo-400 shadow-sm ring-1 ring-indigo-400":"bg-slate-50 border-slate-200 hover:border-indigo-300"}`,children:[e.jsx("span",{className:`text-sm font-semibold flex items-center justify-center rounded-full ${D===i(new Date)?"bg-indigo-600 text-white w-7 h-7":c?"text-indigo-700 w-7 h-7 bg-white shadow-sm":"text-slate-700"}`,children:x}),w&&e.jsx("div",{className:"absolute bottom-1 w-1.5 h-1.5 rounded-full bg-emerald-400"})]},x)})})]}),e.jsxs("div",{className:"flex-1 flex flex-col gap-6 order-2 w-full min-w-0",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[e.jsx(we,{className:"text-indigo-500"}),"Analysis Dashboard"]}),e.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:["Showing all subject data for ",e.jsx("span",{className:"font-semibold text-indigo-600",children:new Date(h).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 px-4 py-3 rounded-xl border border-slate-200 w-full md:w-auto",children:[e.jsxs("div",{className:"w-12 h-12 relative flex items-center justify-center",children:[e.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[e.jsx("circle",{cx:"24",cy:"24",r:"20",fill:"transparent",stroke:"currentColor",strokeWidth:"4",className:"text-slate-200"}),e.jsx("circle",{cx:"24",cy:"24",r:"20",fill:"transparent",stroke:"currentColor",strokeWidth:"4",strokeDasharray:"125.6",strokeDashoffset:125.6-125.6*R/100,className:"text-indigo-600"})]}),e.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-[10px] font-bold text-slate-700",children:[R,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Completion"}),e.jsxs("div",{className:"font-bold text-slate-800",children:[$," of ",Y," tasks"]})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[e.jsx(se,{className:"text-emerald-500",size:20})," Combined Tasks"]}),Y===0?e.jsx("p",{className:"text-sm text-slate-500 italic py-6 text-center border border-dashed border-slate-200 rounded-xl bg-slate-50",children:"No activity logged."}):e.jsx("div",{className:"space-y-3",children:O.map((x,v)=>e.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-xl border transition-all ${x.completed?"bg-emerald-50 border-emerald-200 opacity-70":"bg-white border-slate-200"}`,children:[x.completed?e.jsx(se,{className:"text-emerald-500 shrink-0 mt-0.5",size:18}):e.jsx(Ne,{className:"text-slate-300 shrink-0 mt-0.5",size:18}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${x.completed?"text-slate-500 line-through":"text-slate-800"}`,children:x.text}),e.jsx("span",{className:"text-[10px] px-2 py-0.5 mt-1 inline-block rounded-md font-medium border border-slate-200 bg-slate-100 text-slate-500",children:x.subjectName||"Personal"})]})]},v))})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[e.jsx(K,{className:"text-indigo-500",size:20})," AI Study Log"]}),S.length===0?e.jsx("p",{className:"text-sm text-slate-500 italic py-6 text-center bg-slate-50 rounded-xl border border-dashed border-slate-200",children:"No AI topics."}):e.jsx("div",{className:"space-y-3",children:S.map((x,v)=>e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] font-bold text-indigo-500 uppercase tracking-widest",children:x.subjectName}),e.jsx("h4",{className:"font-semibold text-slate-800 text-sm mt-0.5",children:x.topicName})]}),e.jsx(_e,{level:x.difficulty})]}),e.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1",children:[e.jsx(De,{size:12})," ",x.allocatedHours," hours"]})]},v))})]})]})]})},Jt=`
  .theme-dark { background-color: #0f172a !important; color: #f8fafc !important; }
  .theme-dark .bg-slate-50 { background-color: #0f172a !important; }
  .theme-dark .bg-white, .theme-dark .bg-white\\/50 { background-color: #1e293b !important; }
  .theme-dark .text-slate-900, .theme-dark .text-slate-800, .theme-dark .text-slate-700 { color: #f8fafc !important; }
  .theme-dark .border-slate-200 { border-color: #334155 !important; }
  .theme-cyber { background-color: #050505 !important; color: #00ff00 !important; font-family: monospace !important; }
  .theme-cyber .bg-white, .theme-cyber .bg-white\\/50 { background-color: #0a0a0a !important; border: 1px solid #00aa00 !important; }
  .theme-cyber .bg-indigo-600 { background-color: #00ff00 !important; color: #000 !important; }
  .theme-modern { background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%) !important; }
  .theme-modern .bg-white { background-color: rgba(255, 255, 255, 0.7) !important; backdrop-filter: blur(16px); }
  .theme-pastel { background-color: #fff5f8 !important; color: #6d5b7b !important; }
  .theme-pastel .bg-white { background-color: #ffffff !important; border-color: #f8bbd0 !important; }
  .theme-pastel .bg-indigo-600 { background-color: #f8bbd0 !important; color: #6d5b7b !important; }
  .theme-midnight { background-color: #020617 !important; color: #94a3b8 !important; }
  .theme-midnight .bg-white { background-color: #0f172a !important; border-color: #1e293b !important; }
  .theme-midnight .bg-indigo-600 { background-color: #38bdf8 !important; color: #020617 !important; }
  .theme-forest { background-color: #061d15 !important; color: #a3b18a !important; }
  .theme-forest .bg-white { background-color: #1a2f26 !important; border-color: #344e41 !important; }
  .theme-forest .bg-indigo-600 { background-color: #588157 !important; color: #061d15 !important; }
  .theme-sunset { background: linear-gradient(180deg, #2d1b33 0%, #1a1a1a 100%) !important; color: #ffb8b8 !important; }
  .theme-sunset .bg-white { background-color: rgba(60, 30, 70, 0.6) !important; border-color: #ff7e5f !important; }
  .theme-sunset .bg-indigo-600 { background: linear-gradient(90deg, #ff7e5f, #feb47b) !important; color: #2d1b33 !important; }
`;function Wt(){const[r,u]=a.useState("home"),[m,f]=a.useState(()=>localStorage.getItem("smartPlannerTheme")||"light"),[t,l]=a.useState(null),[i,h]=a.useState(!1),[o,j]=a.useState("login"),[I,E]=a.useState(""),[F,L]=a.useState(""),[P,N]=a.useState(!0),[S,z]=a.useState(""),[M,O]=a.useState([]),[$,Y]=a.useState([]),[R,x]=a.useState([]),[v,D]=a.useState({}),[c,w]=a.useState([]),[k,n]=a.useState({}),[b,y]=a.useState(""),[H,re]=a.useState(""),[V,ce]=a.useState(null),[He,xe]=a.useState(""),Be=a.useMemo(()=>new Date().toISOString().split("T")[0],[]),[me,Ue]=a.useState(Be),[Te,Ge]=a.useState(new Date(Date.now()+14*864e5).toISOString().split("T")[0]),[ze,Me]=a.useState(4),[Ae,Ie]=a.useState(!1),[Ee,W]=a.useState(""),[Fe,ue]=a.useState(!1);a.useEffect(()=>{localStorage.setItem("smartPlannerTheme",m)},[m]),a.useEffect(()=>{if(!_){N(!1);return}(async()=>{try{if(de&&typeof __initial_auth_token<"u"&&__initial_auth_token)try{await wt(_,__initial_auth_token)}catch(g){console.warn("Canvas token mismatch. Falling back to anonymous sign-in.",g),_.currentUser||await Le(_).catch(C=>console.warn("Guest mode disabled. Error: ",C))}else _.currentUser||await Le(_).catch(g=>console.warn("Guest mode disabled. Error: ",g))}catch(g){console.error("Auth init error:",g)}})();const d=mt(_,g=>{l(g),N(!1)});return()=>d()},[]);const Je=async s=>{if(s.preventDefault(),!_){z("Firebase connection failed.");return}N(!0),z("");try{o==="login"?await kt(_,I,F):await St(_,I,F),h(!1)}catch(d){d.code==="auth/configuration-not-found"?z("Error: Please enable Email/Password authentication in your Firebase Console."):z(d.message.replace("Firebase: ",""))}finally{N(!1)}},We=async()=>{_&&await Ct(_)};a.useEffect(()=>{if(!t||!p){O([]),x([]),D({}),w([]),n({});return}const s=X(p,"artifacts",A,"users",t.uid,"plans"),d=ee(s,T=>O(T.docs.map(U=>U.data())),T=>console.error(T)),g=X(p,"artifacts",A,"users",t.uid,"customTodos"),C=ee(g,T=>x(T.docs.map(U=>U.data())),T=>console.error(T)),B=X(p,"artifacts",A,"users",t.uid,"notes"),Z=ee(B,T=>w(T.docs.map(U=>U.data())),T=>console.error(T)),he=X(p,"artifacts",A,"users",t.uid,"aiTaskCompletions"),ge=ee(he,T=>{const U={};T.docs.forEach(Q=>{U[Q.id]=Q.data().completed}),n(U)},T=>console.error(T)),pe=X(p,"artifacts",A,"users",t.uid,"dailySchedules"),nt=ee(pe,T=>{const U={};T.docs.forEach(Q=>{U[Q.id]=Q.data().items||[]}),D(U)},T=>console.error(T));return()=>{d(),C(),Z(),ge(),nt()}},[t]),a.useEffect(()=>{const s=M.flatMap(d=>d.schedule.flatMap(g=>g.topics.map((C,B)=>{const Z=`${d.id}-${g.date}-${B}`;return{id:Z,subjectName:d.subjectName,date:g.date,text:C.topicName,completed:k[Z]||!1,allocatedHours:C.allocatedHours,difficulty:C.difficulty}})));Y(s)},[M,k]);const qe=async()=>{if(!b.trim()){W("Please give this subject a name.");return}if(!H.trim()&&!V){W("Please provide syllabus content or upload a PDF.");return}W(""),Ie(!0);try{const s=await Rt(b,H,V,me,Te,ze);t&&p&&await J(G(p,"artifacts",A,"users",t.uid,"plans",s.id),s),y(""),re(""),ce(null),xe(""),u("todo")}catch(s){console.error("AI Generation Error:",s),W(`AI Error: ${s.message}`)}finally{Ie(!1)}},Ke=async s=>{t&&p&&await fe(G(p,"artifacts",A,"users",t.uid,"plans",s))},Ve=async s=>{const d=k[s]||!1;t&&p&&await J(G(p,"artifacts",A,"users",t.uid,"aiTaskCompletions",s),{completed:!d})},Ze=async(s,d,g)=>{const C=Date.now().toString(),B={id:C,text:s,completed:!1,priority:d,dueDate:g};t&&p&&await J(G(p,"artifacts",A,"users",t.uid,"customTodos",C),B)},Qe=async s=>{const d=R.find(g=>g.id===s);d&&t&&p&&await J(G(p,"artifacts",A,"users",t.uid,"customTodos",s),{...d,completed:!d.completed})},Xe=async(s,d)=>{const g=R.find(C=>C.id===s);g&&t&&p&&await J(G(p,"artifacts",A,"users",t.uid,"customTodos",s),{...g,text:d})},et=async s=>{t&&p&&await fe(G(p,"artifacts",A,"users",t.uid,"customTodos",s))},tt=async(s,d,g,C)=>{if(!t||!p)return;const B={id:Date.now().toString(),startTime:d,endTime:g,activity:C},he=[...v[s]||[],B].sort((ge,pe)=>ge.startTime.localeCompare(pe.startTime));await J(G(p,"artifacts",A,"users",t.uid,"dailySchedules",s),{items:he})},st=async(s,d)=>{if(!t||!p)return;const C=(v[s]||[]).filter(B=>B.id!==d);await J(G(p,"artifacts",A,"users",t.uid,"dailySchedules",s),{items:C})},at=async s=>{t&&p&&await J(G(p,"artifacts",A,"users",t.uid,"notes",s.id),s)},rt=(s,d=!1,g=!1)=>{g?t&&p&&fe(G(p,"artifacts",A,"users",t.uid,"notes",s.id)):at(s)},lt=s=>{const d=s.target.files[0];if(!d)return;if(d.type!=="application/pdf"){W("Currently, only PDF files are supported.");return}const g=10;if(d.size>g*1024*1024){W(`File is too large. Please upload a PDF under ${g}MB.`);return}W(""),xe(d.name);const C=new FileReader;C.onloadend=()=>{const B=C.result.replace("data:","").replace(/^.+,/,"");ce({mimeType:d.type,data:B})},C.readAsDataURL(d)},it=()=>{ce(null),xe("")},ot=["light","dark","cyber","modern","pastel","midnight","forest","sunset"],Pe=t?t.isAnonymous:!0;return e.jsxs("div",{className:`min-h-screen bg-slate-50 text-slate-800 font-sans theme-${m}`,children:[e.jsx("style",{children:Jt}),i&&e.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-md w-full shadow-2xl relative border border-slate-200",children:[e.jsx("button",{onClick:()=>h(!1),className:"absolute top-6 right-6 text-slate-400 hover:text-slate-800",children:e.jsx($e,{size:20})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ye,{size:32})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:o==="login"?"Welcome Back":"Create Account"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Save your study progress securely online."})]}),e.jsxs("form",{onSubmit:Je,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Email"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(ut,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"email",value:I,onChange:s=>E(s.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 rounded-xl border border-slate-300 outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Password"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"password",value:F,onChange:s=>L(s.target.value),required:!0,minLength:"6",className:"w-full pl-10 pr-4 py-3 rounded-xl border border-slate-300 outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),S&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-100 text-red-600 text-xs rounded-xl flex items-center gap-2",children:[e.jsx(te,{size:24,className:"shrink-0"})," ",S]}),e.jsx("button",{type:"submit",disabled:P,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-xl flex items-center justify-center gap-2 transition-colors",children:P?e.jsx(be,{size:18,className:"animate-spin"}):o==="login"?"Login":"Sign Up"})]}),e.jsxs("div",{className:"mt-6 text-center text-sm text-slate-600",children:[o==="login"?"Don't have an account? ":"Already have an account? ",e.jsx("button",{onClick:()=>{j(o==="login"?"signup":"login"),z("")},className:"font-bold text-indigo-600 hover:underline",children:o==="login"?"Sign Up":"Login"})]})]})}),e.jsx("nav",{className:"bg-white border-b border-slate-200 sticky top-0 z-50 px-4 md:px-8 shadow-sm",children:e.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between py-3",children:[e.jsxs("div",{onClick:()=>u("home"),className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("div",{className:"bg-indigo-600 p-1.5 rounded-lg text-white",children:e.jsx(K,{size:20})}),e.jsx("h1",{className:"font-bold text-slate-900 hidden sm:block",children:"SmartPlanner"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-1 sm:gap-2 flex-wrap",children:[e.jsxs("button",{onClick:()=>u("planner"),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${r==="planner"?"bg-indigo-50 text-indigo-700":"text-slate-600 hover:bg-slate-50"}`,children:[e.jsx(gt,{size:18}),"Planner"]}),e.jsxs("button",{onClick:()=>u("calendar"),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${r==="calendar"?"bg-indigo-50 text-indigo-700":"text-slate-600 hover:bg-slate-50"}`,children:[e.jsx(ae,{size:18}),"Calendar"]}),e.jsxs("button",{onClick:()=>u("todo"),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${r==="todo"?"bg-indigo-50 text-indigo-700":"text-slate-600 hover:bg-slate-50"}`,children:[e.jsx(oe,{size:18}),"To-Do"]}),e.jsxs("button",{onClick:()=>u("notes"),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${r==="notes"?"bg-indigo-50 text-indigo-700":"text-slate-600 hover:bg-slate-50"}`,children:[e.jsx(le,{size:18}),"Notes"]}),e.jsxs("button",{onClick:()=>u("history"),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${r==="history"?"bg-indigo-50 text-indigo-700":"text-slate-600 hover:bg-slate-50"}`,children:[e.jsx(we,{size:18}),"Analysis"]}),e.jsx("div",{className:"h-6 w-px bg-slate-200 mx-1 sm:mx-2 shrink-0"}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 shrink-0 relative",children:[e.jsx(je,{size:16,className:"text-slate-400 hidden lg:block"}),e.jsxs("button",{onClick:()=>ue(!Fe),className:"flex items-center gap-1 p-1 sm:px-3 sm:py-2 rounded-xl border border-slate-200 text-xs font-medium bg-slate-50 text-slate-700 hover:bg-slate-100 transition-colors pointer-cursor",children:[e.jsx("span",{className:"capitalize",children:m}),e.jsx(ke,{size:14})]}),Fe&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>ue(!1)}),e.jsx("div",{className:"absolute right-0 top-full mt-2 w-32 bg-white rounded-2xl shadow-lg border border-slate-200 overflow-hidden z-50 py-1",children:ot.map(s=>e.jsx("button",{onClick:()=>{f(s),ue(!1)},className:`w-full text-left px-4 py-2 text-sm transition-colors capitalize ${m===s?"text-indigo-600 font-bold bg-indigo-50":"text-slate-700 hover:bg-slate-50"}`,children:s},s))})]})]})]})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-8 space-y-6",children:[e.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-slate-200 shadow-sm flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsx("div",{className:"flex items-center gap-3",children:P?e.jsxs(e.Fragment,{children:[e.jsx(be,{size:18,className:"animate-spin text-slate-400"}),e.jsx("span",{className:"text-sm font-bold text-slate-500",children:"Checking sync status..."})]}):Pe?e.jsxs(e.Fragment,{children:[e.jsx(pt,{size:20,className:"text-amber-500"}),e.jsxs("span",{className:"text-sm font-bold text-slate-700",children:["Guest Mode ",e.jsx("span",{className:"font-normal text-slate-500",children:"(Data not synced)"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{size:20,className:"text-emerald-500"}),e.jsxs("span",{className:"text-sm font-bold text-slate-700",children:["Cloud Sync Active ",e.jsxs("span",{className:"font-normal text-slate-500",children:["(",t?.email,")"]})]})]})}),e.jsx("div",{children:!P&&(Pe?e.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-5 py-2.5 rounded-xl bg-indigo-600 text-white text-xs font-bold shadow-sm hover:opacity-90 transition-opacity",children:[e.jsx(bt,{size:16})," Login to Sync"]}):e.jsxs("button",{onClick:We,className:"flex items-center gap-2 px-5 py-2.5 rounded-xl border border-slate-300 text-slate-600 hover:bg-slate-50 text-xs font-bold transition-colors",children:[e.jsx(ft,{size:16})," Logout"]}))})]}),r==="home"&&e.jsx(_t,{setActiveTab:u,setTheme:f,currentTheme:m}),r==="planner"&&e.jsxs("div",{className:"animate-in fade-in duration-300",children:[e.jsxs("header",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 mb-6",children:[e.jsx("div",{className:"bg-indigo-600 p-2.5 rounded-xl text-white",children:e.jsx(K,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900",children:"Multi-Subject Planner"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Add different subjects to generate a global schedule."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1 space-y-6",children:e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[e.jsx(jt,{size:20,className:"text-indigo-500"}),"Add New Syllabus"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Subject Name"}),e.jsx("input",{value:b,onChange:s=>y(s.target.value),placeholder:"e.g. Physics Final",className:"w-full p-3 rounded-xl border border-slate-300 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Upload PDF"}),V?e.jsxs("div",{className:"flex items-center justify-between p-2 bg-indigo-50 border border-indigo-100 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[e.jsx(vt,{className:"text-indigo-500 shrink-0",size:20}),e.jsx("span",{className:"text-xs font-medium truncate",children:He})]}),e.jsx("button",{onClick:it,className:"p-1 text-indigo-400 hover:text-indigo-600",children:e.jsx($e,{size:16})})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-24 border-2 border-slate-300 border-dashed rounded-xl cursor-pointer bg-slate-50 hover:bg-slate-100 transition-colors",children:[e.jsx(Nt,{className:"w-6 h-6 mb-1 text-slate-400"}),e.jsx("p",{className:"text-xs text-slate-400",children:"Click to upload"}),e.jsx("input",{type:"file",className:"hidden",accept:"application/pdf",onChange:lt})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Paste Content"}),e.jsx("textarea",{value:H,onChange:s=>re(s.target.value),placeholder:"Or paste text here...",className:"w-full h-24 p-3 rounded-xl border border-slate-300 focus:ring-2 focus:ring-indigo-500 outline-none resize-none text-xs"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Start"}),e.jsx(ye,{value:me,onChange:Ue,minDate:new Date().toISOString().split("T")[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"End"}),e.jsx(ye,{value:Te,onChange:Ge,minDate:me})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Daily Study Hours"}),e.jsx("input",{type:"number",min:"1",max:"24",value:ze,onChange:s=>Me(s.target.value),onBlur:s=>{let d=parseInt(s.target.value);Me(isNaN(d)||d<1?1:d>24?24:d)},className:"w-full p-2.5 rounded-xl border border-slate-300 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),Ee&&e.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-xl text-xs flex items-start gap-2",children:[e.jsx(te,{size:18,className:"shrink-0"}),e.jsx("span",{className:"font-medium",children:Ee})]}),e.jsx("button",{onClick:qe,disabled:Ae,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-400 text-white rounded-xl font-bold flex justify-center items-center gap-2",children:Ae?e.jsxs(e.Fragment,{children:[e.jsx(be,{size:18,className:"animate-spin"}),"Analyzing..."]}):e.jsx(e.Fragment,{children:"Generate Plan"})})]})]})}),e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-800 mb-6 flex items-center gap-2",children:[e.jsx(yt,{className:"text-indigo-500"})," Active Subjects"]}),M.length===0?e.jsx("div",{className:"text-center py-12 border-2 border-dashed border-slate-200 rounded-2xl text-slate-400",children:"No active plans."}):e.jsx("div",{className:"grid gap-4",children:M.map(s=>e.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-2xl group relative shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"text-lg font-extrabold text-indigo-700 uppercase tracking-tighter",children:s.subjectName}),e.jsx("button",{onClick:()=>Ke(s.id),className:"p-1 text-slate-300 hover:text-red-500 transition-colors",children:e.jsx(ne,{size:18})})]}),e.jsxs("div",{className:"flex gap-4 text-xs font-bold text-slate-500 uppercase tracking-widest mb-4",children:[e.jsxs("span",{children:[s.schedule.length," Days"]}),e.jsxs("span",{children:[s.schedule[0].date," to ",s.schedule[s.schedule.length-1].date]})]}),e.jsx("div",{className:"space-y-2",children:s.schedule.slice(0,2).map((d,g)=>e.jsxs("div",{className:"bg-white p-3 rounded-xl border border-slate-200 flex justify-between items-center",children:[e.jsx("div",{className:"text-xs font-bold text-slate-800",children:d.date}),e.jsxs("div",{className:"text-[10px] text-slate-400",children:[d.topics.length," topics"]})]},g))}),s.schedule.length>2&&e.jsx("p",{className:"text-[10px] text-center text-slate-400 mt-2 font-bold uppercase tracking-widest",children:"... more in tabs ..."})]},s.id))})]})})]})]}),r==="calendar"&&e.jsx("div",{className:"animate-in fade-in duration-300",children:e.jsx(Bt,{plans:M,dailySchedules:v,addDailySchedule:tt,deleteDailySchedule:st})}),r==="todo"&&e.jsx("div",{className:"animate-in fade-in duration-300",children:e.jsx(Ht,{todos:$,toggleTodo:Ve,customTodos:R,addCustomTodo:Ze,toggleCustomTodo:Qe,deleteCustomTodo:et,editCustomTodo:Xe})}),r==="notes"&&e.jsx("div",{className:"animate-in fade-in duration-300",children:e.jsx(Ut,{notes:c,setNotes:rt})}),r==="history"&&e.jsx("div",{className:"animate-in fade-in duration-300",children:e.jsx(Gt,{plans:M,customTodos:R,todos:$,dailySchedules:v})})]})]})}Yt.createRoot(document.getElementById("root")).render(e.jsx(a.StrictMode,{children:e.jsx(Wt,{})}));
