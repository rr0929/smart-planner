(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var qd={exports:{}},Il={};var Q0;function UT(){if(Q0)return Il;Q0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Il.Fragment=e,Il.jsx=i,Il.jsxs=i,Il}var X0;function zT(){return X0||(X0=1,qd.exports=UT()),qd.exports}var y=zT(),Hd={exports:{}},we={};var $0;function BT(){if($0)return we;$0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,Z={};function ae(O,K,ne){this.props=O,this.context=K,this.refs=Z,this.updater=ne||W}ae.prototype.isReactComponent={},ae.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},ae.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ce(){}ce.prototype=ae.prototype;function fe(O,K,ne){this.props=O,this.context=K,this.refs=Z,this.updater=ne||W}var xe=fe.prototype=new ce;xe.constructor=fe,J(xe,ae.prototype),xe.isPureReactComponent=!0;var Ve=Array.isArray;function Te(){}var w={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function N(O,K,ne){var se=ne.ref;return{$$typeof:s,type:O,key:K,ref:se!==void 0?se:null,props:ne}}function I(O,K){return N(O.type,K,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ne){return K[ne]})}var x=/\/+/g;function pe(O,K){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):K.toString(36)}function Ne(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Te,Te):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,K,ne,se,ve){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var Le=!1;if(O===null)Le=!0;else switch(Ce){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(O.$$typeof){case s:case e:Le=!0;break;case S:return Le=O._init,H(Le(O._payload),K,ne,se,ve)}}if(Le)return ve=ve(O),Le=se===""?"."+pe(O,0):se,Ve(ve)?(ne="",Le!=null&&(ne=Le.replace(x,"$&/")+"/"),H(ve,K,ne,"",function(ui){return ui})):ve!=null&&(D(ve)&&(ve=I(ve,ne+(ve.key==null||O&&O.key===ve.key?"":(""+ve.key).replace(x,"$&/")+"/")+Le)),K.push(ve)),1;Le=0;var _t=se===""?".":se+":";if(Ve(O))for(var ut=0;ut<O.length;ut++)se=O[ut],Ce=_t+pe(se,ut),Le+=H(se,K,ne,Ce,ve);else if(ut=G(O),typeof ut=="function")for(O=ut.call(O),ut=0;!(se=O.next()).done;)se=se.value,Ce=_t+pe(se,ut++),Le+=H(se,K,ne,Ce,ve);else if(Ce==="object"){if(typeof O.then=="function")return H(Ne(O),K,ne,se,ve);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Le}function te(O,K,ne){if(O==null)return O;var se=[],ve=0;return H(O,se,"","",function(Ce){return K.call(ne,Ce,ve++)}),se}function ue(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(ne){(O._status===0||O._status===-1)&&(O._status=1,O._result=ne)},function(ne){(O._status===0||O._status===-1)&&(O._status=2,O._result=ne)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var je=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},$e={map:te,forEach:function(O,K,ne){te(O,function(){K.apply(this,arguments)},ne)},count:function(O){var K=0;return te(O,function(){K++}),K},toArray:function(O){return te(O,function(K){return K})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return we.Activity=R,we.Children=$e,we.Component=ae,we.Fragment=i,we.Profiler=l,we.PureComponent=fe,we.StrictMode=a,we.Suspense=_,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,we.__COMPILER_RUNTIME={__proto__:null,c:function(O){return w.H.useMemoCache(O)}},we.cache=function(O){return function(){return O.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(O,K,ne){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var se=J({},O.props),ve=O.key;if(K!=null)for(Ce in K.key!==void 0&&(ve=""+K.key),K)!A.call(K,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&K.ref===void 0||(se[Ce]=K[Ce]);var Ce=arguments.length-2;if(Ce===1)se.children=ne;else if(1<Ce){for(var Le=Array(Ce),_t=0;_t<Ce;_t++)Le[_t]=arguments[_t+2];se.children=Le}return N(O.type,ve,se)},we.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},we.createElement=function(O,K,ne){var se,ve={},Ce=null;if(K!=null)for(se in K.key!==void 0&&(Ce=""+K.key),K)A.call(K,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ve[se]=K[se]);var Le=arguments.length-2;if(Le===1)ve.children=ne;else if(1<Le){for(var _t=Array(Le),ut=0;ut<Le;ut++)_t[ut]=arguments[ut+2];ve.children=_t}if(O&&O.defaultProps)for(se in Le=O.defaultProps,Le)ve[se]===void 0&&(ve[se]=Le[se]);return N(O,Ce,ve)},we.createRef=function(){return{current:null}},we.forwardRef=function(O){return{$$typeof:g,render:O}},we.isValidElement=D,we.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:ue}},we.memo=function(O,K){return{$$typeof:v,type:O,compare:K===void 0?null:K}},we.startTransition=function(O){var K=w.T,ne={};w.T=ne;try{var se=O(),ve=w.S;ve!==null&&ve(ne,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Te,je)}catch(Ce){je(Ce)}finally{K!==null&&ne.types!==null&&(K.types=ne.types),w.T=K}},we.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},we.use=function(O){return w.H.use(O)},we.useActionState=function(O,K,ne){return w.H.useActionState(O,K,ne)},we.useCallback=function(O,K){return w.H.useCallback(O,K)},we.useContext=function(O){return w.H.useContext(O)},we.useDebugValue=function(){},we.useDeferredValue=function(O,K){return w.H.useDeferredValue(O,K)},we.useEffect=function(O,K){return w.H.useEffect(O,K)},we.useEffectEvent=function(O){return w.H.useEffectEvent(O)},we.useId=function(){return w.H.useId()},we.useImperativeHandle=function(O,K,ne){return w.H.useImperativeHandle(O,K,ne)},we.useInsertionEffect=function(O,K){return w.H.useInsertionEffect(O,K)},we.useLayoutEffect=function(O,K){return w.H.useLayoutEffect(O,K)},we.useMemo=function(O,K){return w.H.useMemo(O,K)},we.useOptimistic=function(O,K){return w.H.useOptimistic(O,K)},we.useReducer=function(O,K,ne){return w.H.useReducer(O,K,ne)},we.useRef=function(O){return w.H.useRef(O)},we.useState=function(O){return w.H.useState(O)},we.useSyncExternalStore=function(O,K,ne){return w.H.useSyncExternalStore(O,K,ne)},we.useTransition=function(){return w.H.useTransition()},we.version="19.2.4",we}var J0;function jm(){return J0||(J0=1,Hd.exports=BT()),Hd.exports}var me=jm(),Fd={exports:{}},Dl={},Gd={exports:{}},Yd={};var Z0;function qT(){return Z0||(Z0=1,(function(s){function e(H,te){var ue=H.length;H.push(te);e:for(;0<ue;){var je=ue-1>>>1,$e=H[je];if(0<l($e,te))H[je]=te,H[ue]=$e,ue=je;else break e}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var te=H[0],ue=H.pop();if(ue!==te){H[0]=ue;e:for(var je=0,$e=H.length,O=$e>>>1;je<O;){var K=2*(je+1)-1,ne=H[K],se=K+1,ve=H[se];if(0>l(ne,ue))se<$e&&0>l(ve,ne)?(H[je]=ve,H[se]=ue,je=se):(H[je]=ne,H[K]=ue,je=K);else if(se<$e&&0>l(ve,ue))H[je]=ve,H[se]=ue,je=se;else break e}}return te}function l(H,te){var ue=H.sortIndex-te.sortIndex;return ue!==0?ue:H.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],v=[],S=1,R=null,V=3,G=!1,W=!1,J=!1,Z=!1,ae=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,fe=typeof setImmediate<"u"?setImmediate:null;function xe(H){for(var te=i(v);te!==null;){if(te.callback===null)a(v);else if(te.startTime<=H)a(v),te.sortIndex=te.expirationTime,e(_,te);else break;te=i(v)}}function Ve(H){if(J=!1,xe(H),!W)if(i(_)!==null)W=!0,Te||(Te=!0,k());else{var te=i(v);te!==null&&Ne(Ve,te.startTime-H)}}var Te=!1,w=-1,A=5,N=-1;function I(){return Z?!0:!(s.unstable_now()-N<A)}function D(){if(Z=!1,Te){var H=s.unstable_now();N=H;var te=!0;try{e:{W=!1,J&&(J=!1,ce(w),w=-1),G=!0;var ue=V;try{t:{for(xe(H),R=i(_);R!==null&&!(R.expirationTime>H&&I());){var je=R.callback;if(typeof je=="function"){R.callback=null,V=R.priorityLevel;var $e=je(R.expirationTime<=H);if(H=s.unstable_now(),typeof $e=="function"){R.callback=$e,xe(H),te=!0;break t}R===i(_)&&a(_),xe(H)}else a(_);R=i(_)}if(R!==null)te=!0;else{var O=i(v);O!==null&&Ne(Ve,O.startTime-H),te=!1}}break e}finally{R=null,V=ue,G=!1}te=void 0}}finally{te?k():Te=!1}}}var k;if(typeof fe=="function")k=function(){fe(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,pe=x.port2;x.port1.onmessage=D,k=function(){pe.postMessage(null)}}else k=function(){ae(D,0)};function Ne(H,te){w=ae(function(){H(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(H){switch(V){case 1:case 2:case 3:var te=3;break;default:te=V}var ue=V;V=te;try{return H()}finally{V=ue}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ue=V;V=H;try{return te()}finally{V=ue}},s.unstable_scheduleCallback=function(H,te,ue){var je=s.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?je+ue:je):ue=je,H){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=ue+$e,H={id:S++,callback:te,priorityLevel:H,startTime:ue,expirationTime:$e,sortIndex:-1},ue>je?(H.sortIndex=ue,e(v,H),i(_)===null&&H===i(v)&&(J?(ce(w),w=-1):J=!0,Ne(Ve,ue-je))):(H.sortIndex=$e,e(_,H),W||G||(W=!0,Te||(Te=!0,k()))),H},s.unstable_shouldYield=I,s.unstable_wrapCallback=function(H){var te=V;return function(){var ue=V;V=te;try{return H.apply(this,arguments)}finally{V=ue}}}})(Yd)),Yd}var W0;function HT(){return W0||(W0=1,Gd.exports=qT()),Gd.exports}var Kd={exports:{}},tn={};var e_;function FT(){if(e_)return tn;e_=1;var s=jm();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,v,S){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:R==null?null:""+R,children:_,containerInfo:v,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,tn.createPortal=function(_,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(_,v,null,S)},tn.flushSync=function(_){var v=d.T,S=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=S,a.d.f()}},tn.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},tn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},tn.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var S=v.as,R=g(S,v.crossOrigin),V=typeof v.integrity=="string"?v.integrity:void 0,G=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:R,integrity:V,fetchPriority:G}):S==="script"&&a.d.X(_,{crossOrigin:R,integrity:V,fetchPriority:G,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},tn.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},tn.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,R=g(S,v.crossOrigin);a.d.L(_,S,{crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},tn.preloadModule=function(_,v){if(typeof _=="string")if(v){var S=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},tn.requestFormReset=function(_){a.d.r(_)},tn.unstable_batchedUpdates=function(_,v){return _(v)},tn.useFormState=function(_,v,S){return d.H.useFormState(_,v,S)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.2.4",tn}var t_;function GT(){if(t_)return Kd.exports;t_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Kd.exports=FT(),Kd.exports}var n_;function YT(){if(n_)return Dl;n_=1;var s=HT(),e=jm(),i=GT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,o=f;break}if(E===o){p=!0,o=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,o=h;break}if(E===o){p=!0,o=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var R=Object.assign,V=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),ce=Symbol.for("react.consumer"),fe=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),Ve=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case ae:return"Profiler";case Z:return"StrictMode";case Ve:return"Suspense";case Te:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case fe:return t.displayName||"Context";case ce:return(t._context.displayName||"Context")+".Consumer";case xe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return n=t.displayName||null,n!==null?n:pe(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return pe(t(n))}catch{}}return null}var Ne=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},je=[],$e=-1;function O(t){return{current:t}}function K(t){0>$e||(t.current=je[$e],je[$e]=null,$e--)}function ne(t,n){$e++,je[$e]=t.current,t.current=n}var se=O(null),ve=O(null),Ce=O(null),Le=O(null);function _t(t,n){switch(ne(Ce,n),ne(ve,t),ne(se,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?y0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=y0(n),t=_0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(se),ne(se,t)}function ut(){K(se),K(ve),K(Ce)}function ui(t){t.memoizedState!==null&&ne(Le,t);var n=se.current,r=_0(n,t.type);n!==r&&(ne(ve,t),ne(se,r))}function qi(t){ve.current===t&&(K(se),K(ve)),Le.current===t&&(K(Le),wl._currentValue=ue)}var hn,Hi;function fn(t){if(hn===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);hn=n&&n[1]||"",Hi=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hn+t+Hi}var vr=!1;function Fi(t,n){if(!t||vr)return"";vr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var z=q}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(q){z=q}t.call(Q.prototype)}}else{try{throw Error()}catch(q){z=q}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var C=p.split(`
`),U=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===U.length)for(o=C.length-1,h=U.length-1;1<=o&&0<=h&&C[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==U[h]){var F=`
`+C[o].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=o&&0<=h);break}}}finally{vr=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?fn(r):""}function br(t,n){switch(t.tag){case 26:case 27:case 5:return fn(t.type);case 16:return fn("Lazy");case 13:return t.child!==n&&n!==null?fn("Suspense Fallback"):fn("Suspense");case 19:return fn("SuspenseList");case 0:case 15:return Fi(t.type,!1);case 11:return Fi(t.type.render,!1);case 1:return Fi(t.type,!0);case 31:return fn("Activity");default:return""}}function Er(t){try{var n="",r=null;do n+=br(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var vt=Object.prototype.hasOwnProperty,St=s.unstable_scheduleCallback,ci=s.unstable_cancelCallback,Co=s.unstable_shouldYield,da=s.unstable_requestPaint,Gt=s.unstable_now,Gi=s.unstable_getCurrentPriorityLevel,Tr=s.unstable_ImmediatePriority,Sr=s.unstable_UserBlockingPriority,hi=s.unstable_NormalPriority,Io=s.unstable_LowPriority,ma=s.unstable_IdlePriority,xr=s.log,ie=s.unstable_setDisableYieldValue,ye=null,Ae=null;function Je(t){if(typeof xr=="function"&&ie(t),Ae&&typeof Ae.setStrictMode=="function")try{Ae.setStrictMode(ye,t)}catch{}}var Ke=Math.clz32?Math.clz32:Ts,fi=Math.log,di=Math.LN2;function Ts(t){return t>>>=0,t===0?32:31-(fi(t)/di|0)|0}var dn=256,Yi=262144,Oe=4194304;function bt(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function en(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=bt(o):(p&=E,p!==0?h=bt(p):r||(r=E&~t,r!==0&&(h=bt(r))))):(E=o&~f,E!==0?h=bt(E):p!==0?h=bt(p):r||(r=o&~t,r!==0&&(h=bt(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Yn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Gh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pu(){var t=Oe;return Oe<<=1,(Oe&62914560)===0&&(Oe=4194304),t}function mi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Ar(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Yh(t,n,r,o,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,U=t.hiddenUpdates;for(r=p&~r;0<r;){var F=31-Ke(r),Q=1<<F;E[F]=0,C[F]=-1;var z=U[F];if(z!==null)for(U[F]=null,F=0;F<z.length;F++){var q=z[F];q!==null&&(q.lane&=-536870913)}r&=~Q}o!==0&&wr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function wr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Ke(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function Do(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-Ke(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function Mo(t,n){var r=n&-n;return r=(r&42)!==0?1:Rr(r),(r&(t.suspendedLanes|n))!==0?0:r}function Rr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yu(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:B0(t.type))}function Kn(t,n){var r=te.p;try{return te.p=t,n()}finally{te.p=r}}var Qn=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Qn,Bt="__reactProps$"+Qn,gi="__reactContainer$"+Qn,ga="__reactEvents$"+Qn,Kh="__reactListeners$"+Qn,_u="__reactHandles$"+Qn,vu="__reactResources$"+Qn,pi="__reactMarker$"+Qn;function pa(t){delete t[Nt],delete t[Bt],delete t[ga],delete t[Kh],delete t[_u]}function yi(t){var n=t[Nt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[gi]||r[Nt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=A0(t);t!==null;){if(r=t[Nt])return r;t=A0(t)}return n}t=r,r=t.parentNode}return null}function Mn(t){if(t=t[Nt]||t[gi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Sn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function _i(t){var n=t[vu];return n||(n=t[vu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ct(t){t[pi]=!0}var Oo=new Set,ko={};function vi(t,n){bi(t,n),bi(t+"Capture",n)}function bi(t,n){for(ko[t]=n,t=0;t<n.length;t++)Oo.add(n[t])}var Vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jo={},Lo={};function bu(t){return vt.call(Lo,t)?!0:vt.call(jo,t)?!1:Vo.test(t)?Lo[t]=!0:(jo[t]=!0,!1)}function ya(t,n,r){if(bu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function xn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function It(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ss(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Po(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function tt(t){if(!t._valueTracker){var n=Ss(t)?"checked":"value";t._valueTracker=Po(t,n,""+t[n])}}function Nr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Ss(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cr=/[\n"\\]/g;function mn(t){return t.replace(Cr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function _a(t,n,r,o,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+qt(n)):t.value!==""+qt(n)&&(t.value=""+qt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Uo(t,p,qt(n)):r!=null?Uo(t,p,qt(r)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+qt(E):t.removeAttribute("name")}function Eu(t,n,r,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){tt(t);return}r=r!=null?""+qt(r):"",n=n!=null?""+qt(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),tt(t)}function Uo(t,n,r){n==="number"&&Ei(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function xs(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+qt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Tu(t,n,r){if(n!=null&&(n=""+qt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+qt(r):""}function As(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Ne(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=qt(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),tt(t)}function gn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zo(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||Su.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Bo(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&zo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&zo(t,f,n[f])}function va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return ws.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Xn(){}var qo=null;function On(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rs=null,Ti=null;function Ir(t){var n=Mn(t);if(n&&(t=n.stateNode)){var r=t[Bt]||null;e:switch(t=n.stateNode,n.type){case"input":if(_a(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+mn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[Bt]||null;if(!h)throw Error(a(90));_a(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&Nr(o)}break e;case"textarea":Tu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&xs(t,!!r.multiple,n,!1)}}}var Ea=!1;function Ns(t,n,r){if(Ea)return t(n,r);Ea=!0;try{var o=t(n);return o}finally{if(Ea=!1,(Rs!==null||Ti!==null)&&(yc(),Rs&&(n=Rs,t=Ti,Ti=Rs=null,Ir(n),t)))for(n=0;n<t.length;n++)Ir(t[n])}}function $n(t,n){var r=t.stateNode;if(r===null)return null;var o=r[Bt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dr=!1;if(kn)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{Dr=!1}var Si=null,Ho=null,Mr=null;function Fo(){if(Mr)return Mr;var t,n=Ho,r=n.length,o,h="value"in Si?Si.value:Si.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return Mr=h.slice(t,1<o?1-o:void 0)}function Or(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Qi(){return!0}function Jn(){return!1}function Yt(t){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qi:Jn,this.isPropagationStopped=Jn,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),n}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=Yt(Xi),Cs=R({},Xi,{view:0,detail:0}),Go=Yt(Cs),Is,Ta,Ai,Sa=R({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ai&&(Ai&&t.type==="mousemove"?(Is=t.screenX-Ai.screenX,Ta=t.screenY-Ai.screenY):Ta=Is=0,Ai=t),Is)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),Yo=Yt(Sa),kr=R({},Sa,{dataTransfer:0}),Au=Yt(kr),wu=R({},Cs,{relatedTarget:0}),Vr=Yt(wu),Ko=R({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ru=Yt(Ko),xa=R({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nu=Yt(xa),Cu=R({},Xi,{data:0}),wi=Yt(Cu),Iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ou(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Mu[t])?!!n[t]:!1}function Ds(){return Ou}var ln=R({},Cs,{key:function(t){if(t.key){var n=Iu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Or(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(t){return t.type==="keypress"?Or(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Or(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ku=Yt(ln),Vu=R({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=Yt(Vu),u=R({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),m=Yt(u),b=R({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Yt(b),L=R({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Yt(L),ee=R({},Xi,{newState:0,oldState:0}),Ie=Yt(ee),xt=[9,13,27,32],Ze=kn&&"CompositionEvent"in window,gt=null;kn&&"documentMode"in document&&(gt=document.documentMode);var Vn=kn&&"TextEvent"in window&&!gt,Ri=kn&&(!Ze||gt&&8<gt&&11>=gt),Zn=" ",Wn=!1;function jr(t,n){switch(t){case"keyup":return xt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wa=!1;function uE(t,n){switch(t){case"compositionend":return Aa(n);case"keypress":return n.which!==32?null:(Wn=!0,Zn);case"textInput":return t=n.data,t===Zn&&Wn?null:t;default:return null}}function cE(t,n){if(wa)return t==="compositionend"||!Ze&&jr(t,n)?(t=Fo(),Mr=Ho=Si=null,wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ri&&n.locale!=="ko"?null:n.data;default:return null}}var hE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!hE[t.type]:n==="textarea"}function Cg(t,n,r,o){Rs?Ti?Ti.push(o):Ti=[o]:Rs=o,n=xc(n,"onChange"),0<n.length&&(r=new xi("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var Qo=null,Xo=null;function fE(t){h0(t,0)}function ju(t){var n=Sn(t);if(Nr(n))return t}function Ig(t,n){if(t==="change")return n}var Dg=!1;if(kn){var Qh;if(kn){var Xh="oninput"in document;if(!Xh){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),Xh=typeof Mg.oninput=="function"}Qh=Xh}else Qh=!1;Dg=Qh&&(!document.documentMode||9<document.documentMode)}function Og(){Qo&&(Qo.detachEvent("onpropertychange",kg),Xo=Qo=null)}function kg(t){if(t.propertyName==="value"&&ju(Xo)){var n=[];Cg(n,Xo,t,On(t)),Ns(fE,n)}}function dE(t,n,r){t==="focusin"?(Og(),Qo=n,Xo=r,Qo.attachEvent("onpropertychange",kg)):t==="focusout"&&Og()}function mE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ju(Xo)}function gE(t,n){if(t==="click")return ju(n)}function pE(t,n){if(t==="input"||t==="change")return ju(n)}function yE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var An=typeof Object.is=="function"?Object.is:yE;function $o(t,n){if(An(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!vt.call(n,h)||!An(t[h],n[h]))return!1}return!0}function Vg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jg(t,n){var r=Vg(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vg(r)}}function Lg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Lg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Pg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ei(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ei(t.document)}return n}function $h(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var _E=kn&&"documentMode"in document&&11>=document.documentMode,Ra=null,Jh=null,Jo=null,Zh=!1;function Ug(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zh||Ra==null||Ra!==Ei(o)||(o=Ra,"selectionStart"in o&&$h(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Jo&&$o(Jo,o)||(Jo=o,o=xc(Jh,"onSelect"),0<o.length&&(n=new xi("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=Ra)))}function Lr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Na={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},Wh={},zg={};kn&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Pr(t){if(Wh[t])return Wh[t];if(!Na[t])return t;var n=Na[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in zg)return Wh[t]=n[r];return t}var Bg=Pr("animationend"),qg=Pr("animationiteration"),Hg=Pr("animationstart"),vE=Pr("transitionrun"),bE=Pr("transitionstart"),EE=Pr("transitioncancel"),Fg=Pr("transitionend"),Gg=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function ei(t,n){Gg.set(t,n),vi(n,[t])}var Lu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},jn=[],Ca=0,tf=0;function Pu(){for(var t=Ca,n=tf=Ca=0;n<t;){var r=jn[n];jn[n++]=null;var o=jn[n];jn[n++]=null;var h=jn[n];jn[n++]=null;var f=jn[n];if(jn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Yg(r,h,f)}}function Uu(t,n,r,o){jn[Ca++]=t,jn[Ca++]=n,jn[Ca++]=r,jn[Ca++]=o,tf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function nf(t,n,r,o){return Uu(t,n,r,o),zu(t)}function Ur(t,n){return Uu(t,null,null,n),zu(t)}function Yg(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Ke(r),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function zu(t){if(50<vl)throw vl=0,fd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ia={};function TE(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,n,r,o){return new TE(t,n,r,o)}function sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ji(t,n){var r=t.alternate;return r===null?(r=wn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Kg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Bu(t,n,r,o,h,f){var p=0;if(o=t,typeof t=="function")sf(t)&&(p=1);else if(typeof t=="string")p=RT(t,r,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=wn(31,r,n,h),t.elementType=N,t.lanes=f,t;case J:return zr(r.children,h,f,n);case Z:p=8,h|=24;break;case ae:return t=wn(12,r,n,h|2),t.elementType=ae,t.lanes=f,t;case Ve:return t=wn(13,r,n,h),t.elementType=Ve,t.lanes=f,t;case Te:return t=wn(19,r,n,h),t.elementType=Te,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fe:p=10;break e;case ce:p=9;break e;case xe:p=11;break e;case w:p=14;break e;case A:p=16,o=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=wn(p,r,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function zr(t,n,r,o){return t=wn(7,t,o,n),t.lanes=r,t}function rf(t,n,r){return t=wn(6,t,null,n),t.lanes=r,t}function Qg(t){var n=wn(18,null,null,0);return n.stateNode=t,n}function af(t,n,r){return n=wn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Xg=new WeakMap;function Ln(t,n){if(typeof t=="object"&&t!==null){var r=Xg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Er(n)},Xg.set(t,n),n)}return{value:t,source:n,stack:Er(n)}}var Da=[],Ma=0,qu=null,Zo=0,Pn=[],Un=0,Ms=null,Ni=1,Ci="";function Zi(t,n){Da[Ma++]=Zo,Da[Ma++]=qu,qu=t,Zo=n}function $g(t,n,r){Pn[Un++]=Ni,Pn[Un++]=Ci,Pn[Un++]=Ms,Ms=t;var o=Ni;t=Ci;var h=32-Ke(o)-1;o&=~(1<<h),r+=1;var f=32-Ke(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Ni=1<<32-Ke(n)+h|r<<h|o,Ci=f+t}else Ni=1<<f|r<<h|o,Ci=t}function of(t){t.return!==null&&(Zi(t,1),$g(t,1,0))}function lf(t){for(;t===qu;)qu=Da[--Ma],Da[Ma]=null,Zo=Da[--Ma],Da[Ma]=null;for(;t===Ms;)Ms=Pn[--Un],Pn[Un]=null,Ci=Pn[--Un],Pn[Un]=null,Ni=Pn[--Un],Pn[Un]=null}function Jg(t,n){Pn[Un++]=Ni,Pn[Un++]=Ci,Pn[Un++]=Ms,Ni=n.id,Ci=n.overflow,Ms=t}var Kt=null,ht=null,Ge=!1,Os=null,zn=!1,uf=Error(a(519));function ks(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wo(Ln(n,t)),uf}function Zg(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[Nt]=t,n[Bt]=o,r){case"dialog":Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":case"embed":Ue("load",n);break;case"video":case"audio":for(r=0;r<El.length;r++)Ue(El[r],n);break;case"source":Ue("error",n);break;case"img":case"image":case"link":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"input":Ue("invalid",n),Eu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ue("invalid",n);break;case"textarea":Ue("invalid",n),As(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||g0(n.textContent,r)?(o.popover!=null&&(Ue("beforetoggle",n),Ue("toggle",n)),o.onScroll!=null&&Ue("scroll",n),o.onScrollEnd!=null&&Ue("scrollend",n),o.onClick!=null&&(n.onclick=Xn),n=!0):n=!1,n||ks(t,!0)}function Wg(t){for(Kt=t.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Kt=Kt.return}}function Oa(t){if(t!==Kt)return!1;if(!Ge)return Wg(t),Ge=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Rd(t.type,t.memoizedProps)),r=!r),r&&ht&&ks(t),Wg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ht=x0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ht=x0(t)}else n===27?(n=ht,Qs(t.type)?(t=Md,Md=null,ht=t):ht=n):ht=Kt?qn(t.stateNode.nextSibling):null;return!0}function Br(){ht=Kt=null,Ge=!1}function cf(){var t=Os;return t!==null&&(vn===null?vn=t:vn.push.apply(vn,t),Os=null),t}function Wo(t){Os===null?Os=[t]:Os.push(t)}var hf=O(null),qr=null,Wi=null;function Vs(t,n,r){ne(hf,n._currentValue),n._currentValue=r}function es(t){t._currentValue=hf.current,K(hf)}function ff(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function df(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),ff(f.return,r,t),o||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),ff(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ka(t,n,r,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;An(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===Le.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(wl):t=[wl])}h=h.return}t!==null&&df(n,t,r,o),n.flags|=262144}function Hu(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hr(t){qr=t,Wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return ep(qr,t)}function Fu(t,n){return qr===null&&Hr(t),ep(t,n)}function ep(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Wi===null){if(t===null)throw Error(a(308));Wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Wi=Wi.next=n;return r}var SE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},xE=s.unstable_scheduleCallback,AE=s.unstable_NormalPriority,Dt={$$typeof:fe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new SE,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&xE(AE,function(){t.controller.abort()})}var tl=null,gf=0,Va=0,ja=null;function wE(t,n){if(tl===null){var r=tl=[];gf=0,Va=_d(),ja={status:"pending",value:void 0,then:function(o){r.push(o)}}}return gf++,n.then(tp,tp),n}function tp(){if(--gf===0&&tl!==null){ja!==null&&(ja.status="fulfilled");var t=tl;tl=null,Va=0,ja=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function RE(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var np=H.S;H.S=function(t,n){Uy=Gt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&wE(t,n),np!==null&&np(t,n)};var Fr=O(null);function pf(){var t=Fr.current;return t!==null?t:ct.pooledCache}function Gu(t,n){n===null?ne(Fr,Fr.current):ne(Fr,n.pool)}function ip(){var t=pf();return t===null?null:{parent:Dt._currentValue,pool:t}}var La=Error(a(460)),yf=Error(a(474)),Yu=Error(a(542)),Ku={then:function(){}};function sp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function rp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Xn,Xn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,op(t),t;default:if(typeof n.status=="string")n.then(Xn,Xn);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,op(t),t}throw Yr=n,La}}function Gr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Yr=r,La):r}}var Yr=null;function ap(){if(Yr===null)throw Error(a(459));var t=Yr;return Yr=null,t}function op(t){if(t===La||t===Yu)throw Error(a(483))}var Pa=null,nl=0;function Qu(t){var n=nl;return nl+=1,Pa===null&&(Pa=[]),rp(Pa,t,n)}function il(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Xu(t,n){throw n.$$typeof===V?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function lp(t){function n(j,M){if(t){var P=j.deletions;P===null?(j.deletions=[M],j.flags|=16):P.push(M)}}function r(j,M){if(!t)return null;for(;M!==null;)n(j,M),M=M.sibling;return null}function o(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function h(j,M){return j=Ji(j,M),j.index=0,j.sibling=null,j}function f(j,M,P){return j.index=P,t?(P=j.alternate,P!==null?(P=P.index,P<M?(j.flags|=67108866,M):P):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function p(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,M,P,Y){return M===null||M.tag!==6?(M=rf(P,j.mode,Y),M.return=j,M):(M=h(M,P),M.return=j,M)}function C(j,M,P,Y){var de=P.type;return de===J?F(j,M,P.props.children,Y,P.key):M!==null&&(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&Gr(de)===M.type)?(M=h(M,P.props),il(M,P),M.return=j,M):(M=Bu(P.type,P.key,P.props,null,j.mode,Y),il(M,P),M.return=j,M)}function U(j,M,P,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=af(P,j.mode,Y),M.return=j,M):(M=h(M,P.children||[]),M.return=j,M)}function F(j,M,P,Y,de){return M===null||M.tag!==7?(M=zr(P,j.mode,Y,de),M.return=j,M):(M=h(M,P),M.return=j,M)}function Q(j,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=rf(""+M,j.mode,P),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case G:return P=Bu(M.type,M.key,M.props,null,j.mode,P),il(P,M),P.return=j,P;case W:return M=af(M,j.mode,P),M.return=j,M;case A:return M=Gr(M),Q(j,M,P)}if(Ne(M)||k(M))return M=zr(M,j.mode,P,null),M.return=j,M;if(typeof M.then=="function")return Q(j,Qu(M),P);if(M.$$typeof===fe)return Q(j,Fu(j,M),P);Xu(j,M)}return null}function z(j,M,P,Y){var de=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return de!==null?null:E(j,M,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===de?C(j,M,P,Y):null;case W:return P.key===de?U(j,M,P,Y):null;case A:return P=Gr(P),z(j,M,P,Y)}if(Ne(P)||k(P))return de!==null?null:F(j,M,P,Y,null);if(typeof P.then=="function")return z(j,M,Qu(P),Y);if(P.$$typeof===fe)return z(j,M,Fu(j,P),Y);Xu(j,P)}return null}function q(j,M,P,Y,de){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return j=j.get(P)||null,E(M,j,""+Y,de);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case G:return j=j.get(Y.key===null?P:Y.key)||null,C(M,j,Y,de);case W:return j=j.get(Y.key===null?P:Y.key)||null,U(M,j,Y,de);case A:return Y=Gr(Y),q(j,M,P,Y,de)}if(Ne(Y)||k(Y))return j=j.get(P)||null,F(M,j,Y,de,null);if(typeof Y.then=="function")return q(j,M,P,Qu(Y),de);if(Y.$$typeof===fe)return q(j,M,P,Fu(M,Y),de);Xu(M,Y)}return null}function oe(j,M,P,Y){for(var de=null,Qe=null,le=M,Me=M=0,Be=null;le!==null&&Me<P.length;Me++){le.index>Me?(Be=le,le=null):Be=le.sibling;var Xe=z(j,le,P[Me],Y);if(Xe===null){le===null&&(le=Be);break}t&&le&&Xe.alternate===null&&n(j,le),M=f(Xe,M,Me),Qe===null?de=Xe:Qe.sibling=Xe,Qe=Xe,le=Be}if(Me===P.length)return r(j,le),Ge&&Zi(j,Me),de;if(le===null){for(;Me<P.length;Me++)le=Q(j,P[Me],Y),le!==null&&(M=f(le,M,Me),Qe===null?de=le:Qe.sibling=le,Qe=le);return Ge&&Zi(j,Me),de}for(le=o(le);Me<P.length;Me++)Be=q(le,j,Me,P[Me],Y),Be!==null&&(t&&Be.alternate!==null&&le.delete(Be.key===null?Me:Be.key),M=f(Be,M,Me),Qe===null?de=Be:Qe.sibling=Be,Qe=Be);return t&&le.forEach(function(Ws){return n(j,Ws)}),Ge&&Zi(j,Me),de}function _e(j,M,P,Y){if(P==null)throw Error(a(151));for(var de=null,Qe=null,le=M,Me=M=0,Be=null,Xe=P.next();le!==null&&!Xe.done;Me++,Xe=P.next()){le.index>Me?(Be=le,le=null):Be=le.sibling;var Ws=z(j,le,Xe.value,Y);if(Ws===null){le===null&&(le=Be);break}t&&le&&Ws.alternate===null&&n(j,le),M=f(Ws,M,Me),Qe===null?de=Ws:Qe.sibling=Ws,Qe=Ws,le=Be}if(Xe.done)return r(j,le),Ge&&Zi(j,Me),de;if(le===null){for(;!Xe.done;Me++,Xe=P.next())Xe=Q(j,Xe.value,Y),Xe!==null&&(M=f(Xe,M,Me),Qe===null?de=Xe:Qe.sibling=Xe,Qe=Xe);return Ge&&Zi(j,Me),de}for(le=o(le);!Xe.done;Me++,Xe=P.next())Xe=q(le,j,Me,Xe.value,Y),Xe!==null&&(t&&Xe.alternate!==null&&le.delete(Xe.key===null?Me:Xe.key),M=f(Xe,M,Me),Qe===null?de=Xe:Qe.sibling=Xe,Qe=Xe);return t&&le.forEach(function(PT){return n(j,PT)}),Ge&&Zi(j,Me),de}function lt(j,M,P,Y){if(typeof P=="object"&&P!==null&&P.type===J&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:e:{for(var de=P.key;M!==null;){if(M.key===de){if(de=P.type,de===J){if(M.tag===7){r(j,M.sibling),Y=h(M,P.props.children),Y.return=j,j=Y;break e}}else if(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&Gr(de)===M.type){r(j,M.sibling),Y=h(M,P.props),il(Y,P),Y.return=j,j=Y;break e}r(j,M);break}else n(j,M);M=M.sibling}P.type===J?(Y=zr(P.props.children,j.mode,Y,P.key),Y.return=j,j=Y):(Y=Bu(P.type,P.key,P.props,null,j.mode,Y),il(Y,P),Y.return=j,j=Y)}return p(j);case W:e:{for(de=P.key;M!==null;){if(M.key===de)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){r(j,M.sibling),Y=h(M,P.children||[]),Y.return=j,j=Y;break e}else{r(j,M);break}else n(j,M);M=M.sibling}Y=af(P,j.mode,Y),Y.return=j,j=Y}return p(j);case A:return P=Gr(P),lt(j,M,P,Y)}if(Ne(P))return oe(j,M,P,Y);if(k(P)){if(de=k(P),typeof de!="function")throw Error(a(150));return P=de.call(P),_e(j,M,P,Y)}if(typeof P.then=="function")return lt(j,M,Qu(P),Y);if(P.$$typeof===fe)return lt(j,M,Fu(j,P),Y);Xu(j,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(r(j,M.sibling),Y=h(M,P),Y.return=j,j=Y):(r(j,M),Y=rf(P,j.mode,Y),Y.return=j,j=Y),p(j)):r(j,M)}return function(j,M,P,Y){try{nl=0;var de=lt(j,M,P,Y);return Pa=null,de}catch(le){if(le===La||le===Yu)throw le;var Qe=wn(29,le,null,j.mode);return Qe.lanes=Y,Qe.return=j,Qe}}}var Kr=lp(!0),up=lp(!1),js=!1;function _f(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ls(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(We&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=zu(t),Yg(t,null,r),n}return Uu(t,o,n,r),zu(t)}function sl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Do(t,r)}}function bf(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Ef=!1;function rl(){if(Ef){var t=ja;if(t!==null)throw t}}function al(t,n,r,o){Ef=!1;var h=t.updateQueue;js=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,U=C.next;C.next=null,p===null?f=U:p.next=U,p=C;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=U:E.next=U,F.lastBaseUpdate=C))}if(f!==null){var Q=h.baseState;p=0,F=U=C=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(ze&z)===z:(o&z)===z){z!==0&&z===Va&&(Ef=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=t,_e=E;z=n;var lt=r;switch(_e.tag){case 1:if(oe=_e.payload,typeof oe=="function"){Q=oe.call(lt,Q,z);break e}Q=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=_e.payload,z=typeof oe=="function"?oe.call(lt,Q,z):oe,z==null)break e;Q=R({},Q,z);break e;case 2:js=!0}}z=E.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(U=F=q,C=Q):F=F.next=q,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(C=Q),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Hs|=p,t.lanes=p,t.memoizedState=Q}}function cp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function hp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)cp(r[t],n)}var Ua=O(null),$u=O(0);function fp(t,n){t=us,ne($u,t),ne(Ua,n),us=t|n.baseLanes}function Tf(){ne($u,us),ne(Ua,Ua.current)}function Sf(){us=$u.current,K(Ua),K($u)}var Rn=O(null),Bn=null;function Us(t){var n=t.alternate;ne(At,At.current&1),ne(Rn,t),Bn===null&&(n===null||Ua.current!==null||n.memoizedState!==null)&&(Bn=t)}function xf(t){ne(At,At.current),ne(Rn,t),Bn===null&&(Bn=t)}function dp(t){t.tag===22?(ne(At,At.current),ne(Rn,t),Bn===null&&(Bn=t)):zs()}function zs(){ne(At,At.current),ne(Rn,Rn.current)}function Nn(t){K(Rn),Bn===t&&(Bn=null),K(At)}var At=O(0);function Ju(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Id(r)||Dd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ts=0,De=null,at=null,Mt=null,Zu=!1,za=!1,Qr=!1,Wu=0,ol=0,Ba=null,NE=0;function Et(){throw Error(a(321))}function Af(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!An(t[r],n[r]))return!1;return!0}function wf(t,n,r,o,h,f){return ts=f,De=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?$p:Bf,Qr=!1,f=r(o,h),Qr=!1,za&&(f=gp(n,r,o,h)),mp(t),f}function mp(t){H.H=cl;var n=at!==null&&at.next!==null;if(ts=0,Mt=at=De=null,Zu=!1,ol=0,Ba=null,n)throw Error(a(300));t===null||Ot||(t=t.dependencies,t!==null&&Hu(t)&&(Ot=!0))}function gp(t,n,r,o){De=t;var h=0;do{if(za&&(Ba=null),ol=0,za=!1,25<=h)throw Error(a(301));if(h+=1,Mt=at=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Jp,f=n(r,o)}while(za);return f}function CE(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?ll(n):n,t=t.useState()[0],(at!==null?at.memoizedState:null)!==t&&(De.flags|=1024),n}function Rf(){var t=Wu!==0;return Wu=0,t}function Nf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Cf(t){if(Zu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Zu=!1}ts=0,Mt=at=De=null,za=!1,ol=Wu=0,Ba=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?De.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function wt(){if(at===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var n=Mt===null?De.memoizedState:Mt.next;if(n!==null)Mt=n,at=t;else{if(t===null)throw De.alternate===null?Error(a(467)):Error(a(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Mt===null?De.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var n=ol;return ol+=1,Ba===null&&(Ba=[]),t=rp(Ba,t,n),n=De,(Mt===null?n.memoizedState:Mt.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?$p:Bf),t}function tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===fe)return Qt(t)}throw Error(a(438,String(t)))}function If(t){var n=null,r=De.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=De.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ec(),De.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=I;return n.index++,r}function ns(t,n){return typeof n=="function"?n(t):n}function nc(t){var n=wt();return Df(n,at,t)}function Df(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,C=null,U=n,F=!1;do{var Q=U.lane&-536870913;if(Q!==U.lane?(ze&Q)===Q:(ts&Q)===Q){var z=U.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Q===Va&&(F=!0);else if((ts&z)===z){U=U.next,z===Va&&(F=!0);continue}else Q={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(E=C=Q,p=f):C=C.next=Q,De.lanes|=z,Hs|=z;Q=U.action,Qr&&r(f,Q),f=U.hasEagerState?U.eagerState:r(f,Q)}else z={lane:Q,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(E=C=z,p=f):C=C.next=z,De.lanes|=Q,Hs|=Q;U=U.next}while(U!==null&&U!==n);if(C===null?p=f:C.next=E,!An(f,t.memoizedState)&&(Ot=!0,F&&(r=ja,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Mf(t){var n=wt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);An(f,n.memoizedState)||(Ot=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function pp(t,n,r){var o=De,h=wt(),f=Ge;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!An((at||h).memoizedState,r);if(p&&(h.memoizedState=r,Ot=!0),h=h.queue,Vf(vp.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||Mt!==null&&Mt.memoizedState.tag&1){if(o.flags|=2048,qa(9,{destroy:void 0},_p.bind(null,o,h,r,n),null),ct===null)throw Error(a(349));f||(ts&127)!==0||yp(o,n,r)}return r}function yp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=De.updateQueue,n===null?(n=ec(),De.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function _p(t,n,r,o){n.value=r,n.getSnapshot=o,bp(n)&&Ep(t)}function vp(t,n,r){return r(function(){bp(n)&&Ep(t)})}function bp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!An(t,r)}catch{return!0}}function Ep(t){var n=Ur(t,2);n!==null&&bn(n,t,2)}function Of(t){var n=un();if(typeof t=="function"){var r=t;if(t=r(),Qr){Je(!0);try{r()}finally{Je(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},n}function Tp(t,n,r,o){return t.baseState=r,Df(t,at,typeof o=="function"?o:ns)}function IE(t,n,r,o,h){if(rc(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Sp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Sp(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=r(h,o),C=H.S;C!==null&&C(p,E),xp(t,n,E)}catch(U){kf(t,n,U)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=r(h,o),xp(t,n,f)}catch(U){kf(t,n,U)}}function xp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Ap(t,n,o)},function(o){return kf(t,n,o)}):Ap(t,n,r)}function Ap(t,n,r){n.status="fulfilled",n.value=r,wp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Sp(t,r)))}function kf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,wp(n),n=n.next;while(n!==o)}t.action=null}function wp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Rp(t,n){return n}function Np(t,n){if(Ge){var r=ct.formState;if(r!==null){e:{var o=De;if(Ge){if(ht){t:{for(var h=ht,f=zn;h.nodeType!==8;){if(!f){h=null;break t}if(h=qn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ht=qn(h.nextSibling),o=h.data==="F!";break e}}ks(o)}o=!1}o&&(n=r[0])}}return r=un(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rp,lastRenderedState:n},r.queue=o,r=Kp.bind(null,De,o),o.dispatch=r,o=Of(!1),f=zf.bind(null,De,!1,o.queue),o=un(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=IE.bind(null,De,h,f,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function Cp(t){var n=wt();return Ip(n,at,t)}function Ip(t,n,r){if(n=Df(t,n,Rp)[0],t=nc(ns)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ll(n)}catch(p){throw p===La?Yu:p}else o=n;n=wt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(De.flags|=2048,qa(9,{destroy:void 0},DE.bind(null,h,r),null)),[o,f,t]}function DE(t,n){t.action=n}function Dp(t){var n=wt(),r=at;if(r!==null)return Ip(n,r,t);wt(),n=n.memoizedState,r=wt();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function qa(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=De.updateQueue,n===null&&(n=ec(),De.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Mp(){return wt().memoizedState}function ic(t,n,r,o){var h=un();De.flags|=t,h.memoizedState=qa(1|n,{destroy:void 0},r,o===void 0?null:o)}function sc(t,n,r,o){var h=wt();o=o===void 0?null:o;var f=h.memoizedState.inst;at!==null&&o!==null&&Af(o,at.memoizedState.deps)?h.memoizedState=qa(n,f,r,o):(De.flags|=t,h.memoizedState=qa(1|n,f,r,o))}function Op(t,n){ic(8390656,8,t,n)}function Vf(t,n){sc(2048,8,t,n)}function ME(t){De.flags|=4;var n=De.updateQueue;if(n===null)n=ec(),De.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function kp(t){var n=wt().memoizedState;return ME({ref:n,nextImpl:t}),function(){if((We&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Vp(t,n){return sc(4,2,t,n)}function jp(t,n){return sc(4,4,t,n)}function Lp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Pp(t,n,r){r=r!=null?r.concat([t]):null,sc(4,4,Lp.bind(null,n,t),r)}function jf(){}function Up(t,n){var r=wt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Af(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function zp(t,n){var r=wt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Af(n,o[1]))return o[0];if(o=t(),Qr){Je(!0);try{t()}finally{Je(!1)}}return r.memoizedState=[o,n],o}function Lf(t,n,r){return r===void 0||(ts&1073741824)!==0&&(ze&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=By(),De.lanes|=t,Hs|=t,r)}function Bp(t,n,r,o){return An(r,n)?r:Ua.current!==null?(t=Lf(t,r,o),An(t,n)||(Ot=!0),t):(ts&42)===0||(ts&1073741824)!==0&&(ze&261930)===0?(Ot=!0,t.memoizedState=r):(t=By(),De.lanes|=t,Hs|=t,n)}function qp(t,n,r,o,h){var f=te.p;te.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,zf(t,!1,n,r);try{var C=h(),U=H.S;if(U!==null&&U(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=RE(C,o);ul(t,n,F,Dn(t))}else ul(t,n,o,Dn(t))}catch(Q){ul(t,n,{then:function(){},status:"rejected",reason:Q},Dn())}finally{te.p=f,p!==null&&E.types!==null&&(p.types=E.types),H.T=p}}function OE(){}function Pf(t,n,r,o){if(t.tag!==5)throw Error(a(476));var h=Hp(t).queue;qp(t,h,n,ue,r===null?OE:function(){return Fp(t),r(o)})}function Hp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:ue},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Fp(t){var n=Hp(t);n.next===null&&(n=t.alternate.memoizedState),ul(t,n.next.queue,{},Dn())}function Uf(){return Qt(wl)}function Gp(){return wt().memoizedState}function Yp(){return wt().memoizedState}function kE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Dn();t=Ls(r);var o=Ps(n,t,r);o!==null&&(bn(o,n,r),sl(o,n,r)),n={cache:mf()},t.payload=n;return}n=n.return}}function VE(t,n,r){var o=Dn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},rc(t)?Qp(n,r):(r=nf(t,n,r,o),r!==null&&(bn(r,t,o),Xp(r,n,o)))}function Kp(t,n,r){var o=Dn();ul(t,n,r,o)}function ul(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(rc(t))Qp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,An(E,p))return Uu(t,n,h,0),ct===null&&Pu(),!1}catch{}if(r=nf(t,n,h,o),r!==null)return bn(r,t,o),Xp(r,n,o),!0}return!1}function zf(t,n,r,o){if(o={lane:2,revertLane:_d(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},rc(t)){if(n)throw Error(a(479))}else n=nf(t,r,o,2),n!==null&&bn(n,t,2)}function rc(t){var n=t.alternate;return t===De||n!==null&&n===De}function Qp(t,n){za=Zu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Xp(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Do(t,r)}}var cl={readContext:Qt,use:tc,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};cl.useEffectEvent=Et;var $p={readContext:Qt,use:tc,useCallback:function(t,n){return un().memoizedState=[t,n===void 0?null:n],t},useContext:Qt,useEffect:Op,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ic(4194308,4,Lp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ic(4194308,4,t,n)},useInsertionEffect:function(t,n){ic(4,2,t,n)},useMemo:function(t,n){var r=un();n=n===void 0?null:n;var o=t();if(Qr){Je(!0);try{t()}finally{Je(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=un();if(r!==void 0){var h=r(n);if(Qr){Je(!0);try{r(n)}finally{Je(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=VE.bind(null,De,t),[o.memoizedState,t]},useRef:function(t){var n=un();return t={current:t},n.memoizedState=t},useState:function(t){t=Of(t);var n=t.queue,r=Kp.bind(null,De,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:jf,useDeferredValue:function(t,n){var r=un();return Lf(r,t,n)},useTransition:function(){var t=Of(!1);return t=qp.bind(null,De,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=De,h=un();if(Ge){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ct===null)throw Error(a(349));(ze&127)!==0||yp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Op(vp.bind(null,o,f,t),[t]),o.flags|=2048,qa(9,{destroy:void 0},_p.bind(null,o,f,r,n),null),r},useId:function(){var t=un(),n=ct.identifierPrefix;if(Ge){var r=Ci,o=Ni;r=(o&~(1<<32-Ke(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Wu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=NE++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Uf,useFormState:Np,useActionState:Np,useOptimistic:function(t){var n=un();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=zf.bind(null,De,!0,r),r.dispatch=n,[t,n]},useMemoCache:If,useCacheRefresh:function(){return un().memoizedState=kE.bind(null,De)},useEffectEvent:function(t){var n=un(),r={impl:t};return n.memoizedState=r,function(){if((We&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Bf={readContext:Qt,use:tc,useCallback:Up,useContext:Qt,useEffect:Vf,useImperativeHandle:Pp,useInsertionEffect:Vp,useLayoutEffect:jp,useMemo:zp,useReducer:nc,useRef:Mp,useState:function(){return nc(ns)},useDebugValue:jf,useDeferredValue:function(t,n){var r=wt();return Bp(r,at.memoizedState,t,n)},useTransition:function(){var t=nc(ns)[0],n=wt().memoizedState;return[typeof t=="boolean"?t:ll(t),n]},useSyncExternalStore:pp,useId:Gp,useHostTransitionStatus:Uf,useFormState:Cp,useActionState:Cp,useOptimistic:function(t,n){var r=wt();return Tp(r,at,t,n)},useMemoCache:If,useCacheRefresh:Yp};Bf.useEffectEvent=kp;var Jp={readContext:Qt,use:tc,useCallback:Up,useContext:Qt,useEffect:Vf,useImperativeHandle:Pp,useInsertionEffect:Vp,useLayoutEffect:jp,useMemo:zp,useReducer:Mf,useRef:Mp,useState:function(){return Mf(ns)},useDebugValue:jf,useDeferredValue:function(t,n){var r=wt();return at===null?Lf(r,t,n):Bp(r,at.memoizedState,t,n)},useTransition:function(){var t=Mf(ns)[0],n=wt().memoizedState;return[typeof t=="boolean"?t:ll(t),n]},useSyncExternalStore:pp,useId:Gp,useHostTransitionStatus:Uf,useFormState:Dp,useActionState:Dp,useOptimistic:function(t,n){var r=wt();return at!==null?Tp(r,at,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:If,useCacheRefresh:Yp};Jp.useEffectEvent=kp;function qf(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:R({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Hf={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=Dn(),h=Ls(o);h.payload=n,r!=null&&(h.callback=r),n=Ps(t,h,o),n!==null&&(bn(n,t,o),sl(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=Dn(),h=Ls(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ps(t,h,o),n!==null&&(bn(n,t,o),sl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Dn(),o=Ls(r);o.tag=2,n!=null&&(o.callback=n),n=Ps(t,o,r),n!==null&&(bn(n,t,r),sl(n,t,r))}};function Zp(t,n,r,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!$o(r,o)||!$o(h,f):!0}function Wp(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&Hf.enqueueReplaceState(n,n.state,null)}function Xr(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=R({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function ey(t){Lu(t)}function ty(t){console.error(t)}function ny(t){Lu(t)}function ac(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function iy(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ff(t,n,r){return r=Ls(r),r.tag=3,r.payload={element:null},r.callback=function(){ac(t,n)},r}function sy(t){return t=Ls(t),t.tag=3,t}function ry(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){iy(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){iy(n,r,o),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function jE(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ka(n,r,h,!0),r=Rn.current,r!==null){switch(r.tag){case 31:case 13:return Bn===null?_c():r.alternate===null&&Tt===0&&(Tt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Ku?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),gd(t,o,h)),!1;case 22:return r.flags|=65536,o===Ku?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),gd(t,o,h)),!1}throw Error(a(435,r.tag))}return gd(t,o,h),_c(),!1}if(Ge)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==uf&&(t=Error(a(422),{cause:o}),Wo(Ln(t,r)))):(o!==uf&&(n=Error(a(423),{cause:o}),Wo(Ln(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Ln(o,r),h=Ff(t.stateNode,o,h),bf(t,h),Tt!==4&&(Tt=2)),!1;var f=Error(a(520),{cause:o});if(f=Ln(f,r),_l===null?_l=[f]:_l.push(f),Tt!==4&&(Tt=2),n===null)return!0;o=Ln(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Ff(r.stateNode,o,t),bf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Fs===null||!Fs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=sy(h),ry(h,t,r,o),bf(r,h),!1}r=r.return}while(r!==null);return!1}var Gf=Error(a(461)),Ot=!1;function Xt(t,n,r,o){n.child=t===null?up(n,null,r,o):Kr(n,t.child,r,o)}function ay(t,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Hr(n),o=wf(t,n,r,p,f,h),E=Rf(),t!==null&&!Ot?(Nf(t,n,h),is(t,n,h)):(Ge&&E&&of(n),n.flags|=1,Xt(t,n,o,h),n.child)}function oy(t,n,r,o,h){if(t===null){var f=r.type;return typeof f=="function"&&!sf(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ly(t,n,f,o,h)):(t=Bu(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Wf(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:$o,r(p,o)&&t.ref===n.ref)return is(t,n,h)}return n.flags|=1,t=Ji(f,o),t.ref=n.ref,t.return=n,n.child=t}function ly(t,n,r,o,h){if(t!==null){var f=t.memoizedProps;if($o(f,o)&&t.ref===n.ref)if(Ot=!1,n.pendingProps=o=f,Wf(t,h))(t.flags&131072)!==0&&(Ot=!0);else return n.lanes=t.lanes,is(t,n,h)}return Yf(t,n,r,o,h)}function uy(t,n,r,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return cy(t,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gu(n,f!==null?f.cachePool:null),f!==null?fp(n,f):Tf(),dp(n);else return o=n.lanes=536870912,cy(t,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Gu(n,f.cachePool),fp(n,f),zs(),n.memoizedState=null):(t!==null&&Gu(n,null),Tf(),zs());return Xt(t,n,h,r),n.child}function hl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function cy(t,n,r,o,h){var f=pf();return f=f===null?null:{parent:Dt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Gu(n,null),Tf(),dp(n),t!==null&&ka(t,n,o,!0),n.childLanes=h,null}function oc(t,n){return n=uc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function hy(t,n,r){return Kr(n,t.child,null,r),t=oc(n,n.pendingProps),t.flags|=2,Nn(n),n.memoizedState=null,t}function LE(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ge){if(o.mode==="hidden")return t=oc(n,o),n.lanes=536870912,hl(null,t);if(xf(n),(t=ht)?(t=S0(t,zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ms!==null?{id:Ni,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},r=Qg(t),r.return=n,n.child=r,Kt=n,ht=null)):t=null,t===null)throw ks(n);return n.lanes=536870912,null}return oc(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(xf(n),h)if(n.flags&256)n.flags&=-257,n=hy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ot||ka(t,n,r,!1),h=(r&t.childLanes)!==0,Ot||h){if(o=ct,o!==null&&(p=Mo(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Ur(t,p),bn(o,t,p),Gf;_c(),n=hy(t,n,r)}else t=f.treeContext,ht=qn(p.nextSibling),Kt=n,Ge=!0,Os=null,zn=!1,t!==null&&Jg(n,t),n=oc(n,o),n.flags|=4096;return n}return t=Ji(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function lc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Yf(t,n,r,o,h){return Hr(n),r=wf(t,n,r,o,void 0,h),o=Rf(),t!==null&&!Ot?(Nf(t,n,h),is(t,n,h)):(Ge&&o&&of(n),n.flags|=1,Xt(t,n,r,h),n.child)}function fy(t,n,r,o,h,f){return Hr(n),n.updateQueue=null,r=gp(n,o,r,h),mp(t),o=Rf(),t!==null&&!Ot?(Nf(t,n,f),is(t,n,f)):(Ge&&o&&of(n),n.flags|=1,Xt(t,n,r,f),n.child)}function dy(t,n,r,o,h){if(Hr(n),n.stateNode===null){var f=Ia,p=r.contextType;typeof p=="object"&&p!==null&&(f=Qt(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Hf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},_f(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?Qt(p):Ia,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(qf(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Hf.enqueueReplaceState(f,f.state,null),al(n,o,f,h),rl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=Xr(r,E);f.props=C;var U=f.context,F=r.contextType;p=Ia,typeof F=="object"&&F!==null&&(p=Qt(F));var Q=r.getDerivedStateFromProps;F=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||U!==p)&&Wp(n,f,o,p),js=!1;var z=n.memoizedState;f.state=z,al(n,o,f,h),rl(),U=n.memoizedState,E||z!==U||js?(typeof Q=="function"&&(qf(n,r,Q,o),U=n.memoizedState),(C=js||Zp(n,r,C,o,z,U,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=U),f.props=o,f.state=U,f.context=p,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,vf(t,n),p=n.memoizedProps,F=Xr(r,p),f.props=F,Q=n.pendingProps,z=f.context,U=r.contextType,C=Ia,typeof U=="object"&&U!==null&&(C=Qt(U)),E=r.getDerivedStateFromProps,(U=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Q||z!==C)&&Wp(n,f,o,C),js=!1,z=n.memoizedState,f.state=z,al(n,o,f,h),rl();var q=n.memoizedState;p!==Q||z!==q||js||t!==null&&t.dependencies!==null&&Hu(t.dependencies)?(typeof E=="function"&&(qf(n,r,E,o),q=n.memoizedState),(F=js||Zp(n,r,F,o,z,q,C)||t!==null&&t.dependencies!==null&&Hu(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,lc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Kr(n,t.child,null,h),n.child=Kr(n,null,r,h)):Xt(t,n,r,h),n.memoizedState=f.state,t=n.child):t=is(t,n,h),t}function my(t,n,r,o){return Br(),n.flags|=256,Xt(t,n,r,o),n.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(t){return{baseLanes:t,cachePool:ip()}}function Xf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=In),t}function gy(t,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(At.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ge){if(h?Us(n):zs(),(t=ht)?(t=S0(t,zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ms!==null?{id:Ni,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},r=Qg(t),r.return=n,n.child=r,Kt=n,ht=null)):t=null,t===null)throw ks(n);return Dd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(zs(),h=n.mode,E=uc({mode:"hidden",children:E},h),o=zr(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Qf(r),o.childLanes=Xf(t,p,r),n.memoizedState=Kf,hl(null,o)):(Us(n),$f(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Us(n),n.flags&=-257,n=Jf(t,n,r)):n.memoizedState!==null?(zs(),n.child=t.child,n.flags|=128,n=null):(zs(),E=o.fallback,h=n.mode,o=uc({mode:"visible",children:o.children},h),E=zr(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Kr(n,t.child,null,r),o=n.child,o.memoizedState=Qf(r),o.childLanes=Xf(t,p,r),n.memoizedState=Kf,n=hl(null,o));else if(Us(n),Dd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var U=p.dgst;p=U,o=Error(a(419)),o.stack="",o.digest=p,Wo({value:o,source:null,stack:null}),n=Jf(t,n,r)}else if(Ot||ka(t,n,r,!1),p=(r&t.childLanes)!==0,Ot||p){if(p=ct,p!==null&&(o=Mo(p,r),o!==0&&o!==C.retryLane))throw C.retryLane=o,Ur(t,o),bn(p,t,o),Gf;Id(E)||_c(),n=Jf(t,n,r)}else Id(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,ht=qn(E.nextSibling),Kt=n,Ge=!0,Os=null,zn=!1,t!==null&&Jg(n,t),n=$f(n,o.children),n.flags|=4096);return n}return h?(zs(),E=o.fallback,h=n.mode,C=t.child,U=C.sibling,o=Ji(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,U!==null?E=Ji(U,E):(E=zr(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,hl(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Qf(r):(h=E.cachePool,h!==null?(C=Dt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=ip(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Xf(t,p,r),n.memoizedState=Kf,hl(t.child,o)):(Us(n),r=t.child,t=r.sibling,r=Ji(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function $f(t,n){return n=uc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function uc(t,n){return t=wn(22,t,null,n),t.lanes=0,t}function Jf(t,n,r){return Kr(n,t.child,null,r),t=$f(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function py(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),ff(t.return,n,r)}function Zf(t,n,r,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function yy(t,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=At.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,ne(At,p),Xt(t,n,o,r),o=Ge?Zo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&py(t,r,n);else if(t.tag===19)py(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Ju(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Zf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Ju(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Zf(n,!0,r,null,f,o);break;case"together":Zf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function is(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Hs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ka(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Ji(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ji(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Wf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Hu(t)))}function PE(t,n,r){switch(n.tag){case 3:_t(n,n.stateNode.containerInfo),Vs(n,Dt,t.memoizedState.cache),Br();break;case 27:case 5:ui(n);break;case 4:_t(n,n.stateNode.containerInfo);break;case 10:Vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,xf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Us(n),n.flags|=128,null):(r&n.child.childLanes)!==0?gy(t,n,r):(Us(n),t=is(t,n,r),t!==null?t.sibling:null);Us(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ka(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return yy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(At,At.current),o)break;return null;case 22:return n.lanes=0,uy(t,n,r,n.pendingProps);case 24:Vs(n,Dt,t.memoizedState.cache)}return is(t,n,r)}function _y(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ot=!0;else{if(!Wf(t,r)&&(n.flags&128)===0)return Ot=!1,PE(t,n,r);Ot=(t.flags&131072)!==0}else Ot=!1,Ge&&(n.flags&1048576)!==0&&$g(n,Zo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Gr(n.elementType),n.type=t,typeof t=="function")sf(t)?(o=Xr(t,o),n.tag=1,n=dy(null,n,t,o,r)):(n.tag=0,n=Yf(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===xe){n.tag=11,n=ay(null,n,t,o,r);break e}else if(h===w){n.tag=14,n=oy(null,n,t,o,r);break e}}throw n=pe(t)||t,Error(a(306,n,""))}}return n;case 0:return Yf(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Xr(o,n.pendingProps),dy(t,n,o,h,r);case 3:e:{if(_t(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,vf(t,n),al(n,o,null,r);var p=n.memoizedState;if(o=p.cache,Vs(n,Dt,o),o!==f.cache&&df(n,[Dt],r,!0),rl(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=my(t,n,o,r);break e}else if(o!==h){h=Ln(Error(a(424)),n),Wo(h),n=my(t,n,o,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ht=qn(t.firstChild),Kt=n,Ge=!0,Os=null,zn=!0,r=up(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Br(),o===h){n=is(t,n,r);break e}Xt(t,n,o,r)}n=n.child}return n;case 26:return lc(t,n),t===null?(r=C0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ge||(r=n.type,t=n.pendingProps,o=Ac(Ce.current).createElement(r),o[Nt]=n,o[Bt]=t,$t(o,r,t),Ct(o),n.stateNode=o):n.memoizedState=C0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ui(n),t===null&&Ge&&(o=n.stateNode=w0(n.type,n.pendingProps,Ce.current),Kt=n,zn=!0,h=ht,Qs(n.type)?(Md=h,ht=qn(o.firstChild)):ht=h),Xt(t,n,n.pendingProps.children,r),lc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ge&&((h=o=ht)&&(o=mT(o,n.type,n.pendingProps,zn),o!==null?(n.stateNode=o,Kt=n,ht=qn(o.firstChild),zn=!1,h=!0):h=!1),h||ks(n)),ui(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,Rd(h,f)?o=null:p!==null&&Rd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=wf(t,n,CE,null,null,r),wl._currentValue=h),lc(t,n),Xt(t,n,o,r),n.child;case 6:return t===null&&Ge&&((t=r=ht)&&(r=gT(r,n.pendingProps,zn),r!==null?(n.stateNode=r,Kt=n,ht=null,t=!0):t=!1),t||ks(n)),null;case 13:return gy(t,n,r);case 4:return _t(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Kr(n,null,o,r):Xt(t,n,o,r),n.child;case 11:return ay(t,n,n.type,n.pendingProps,r);case 7:return Xt(t,n,n.pendingProps,r),n.child;case 8:return Xt(t,n,n.pendingProps.children,r),n.child;case 12:return Xt(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Vs(n,n.type,o.value),Xt(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Hr(n),h=Qt(h),o=o(h),n.flags|=1,Xt(t,n,o,r),n.child;case 14:return oy(t,n,n.type,n.pendingProps,r);case 15:return ly(t,n,n.type,n.pendingProps,r);case 19:return yy(t,n,r);case 31:return LE(t,n,r);case 22:return uy(t,n,r,n.pendingProps);case 24:return Hr(n),o=Qt(Dt),t===null?(h=pf(),h===null&&(h=ct,f=mf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},_f(n),Vs(n,Dt,h)):((t.lanes&r)!==0&&(vf(t,n),al(n,null,null,r),rl()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Vs(n,Dt,o)):(o=f.cache,Vs(n,Dt,o),o!==h.cache&&df(n,[Dt],r,!0))),Xt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ss(t){t.flags|=4}function ed(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Gy())t.flags|=8192;else throw Yr=Ku,yf}else t.flags&=-16777217}function vy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!k0(n))if(Gy())t.flags|=8192;else throw Yr=Ku,yf}function cc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?pu():536870912,t.lanes|=n,Ya|=n)}function fl(t,n){if(!Ge)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ft(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function UE(t,n,r){var o=n.pendingProps;switch(lf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(n),null;case 1:return ft(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),es(Dt),ut(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Oa(n)?ss(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,cf())),ft(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ss(n),f!==null?(ft(n),vy(n,f)):(ft(n),ed(n,h,null,o,r))):f?f!==t.memoizedState?(ss(n),ft(n),vy(n,f)):(ft(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ss(n),ft(n),ed(n,h,t,o,r)),null;case 27:if(qi(n),r=Ce.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ft(n),null}t=se.current,Oa(n)?Zg(n):(t=w0(h,o,r),n.stateNode=t,ss(n))}return ft(n),null;case 5:if(qi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ft(n),null}if(f=se.current,Oa(n))Zg(n);else{var p=Ac(Ce.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Nt]=n,f[Bt]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch($t(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ss(n)}}return ft(n),ed(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ce.current,Oa(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=Kt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Nt]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||g0(t.nodeValue,r)),t||ks(n,!0)}else t=Ac(t).createTextNode(o),t[Nt]=n,n.stateNode=t}return ft(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=Oa(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Nt]=n}else Br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ft(n),t=!1}else r=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Nn(n),n):(Nn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ft(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Oa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Nt]=n}else Br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ft(n),h=!1}else h=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Nn(n),n):(Nn(n),null)}return Nn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),cc(n,n.updateQueue),ft(n),null);case 4:return ut(),t===null&&Td(n.stateNode.containerInfo),ft(n),null;case 10:return es(n.type),ft(n),null;case 19:if(K(At),o=n.memoizedState,o===null)return ft(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)fl(o,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Ju(t),f!==null){for(n.flags|=128,fl(o,!1),t=f.updateQueue,n.updateQueue=t,cc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Kg(r,t),r=r.sibling;return ne(At,At.current&1|2),Ge&&Zi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Gt()>gc&&(n.flags|=128,h=!0,fl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Ju(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,cc(n,t),fl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ge)return ft(n),null}else 2*Gt()-o.renderingStartTime>gc&&r!==536870912&&(n.flags|=128,h=!0,fl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Gt(),t.sibling=null,r=At.current,ne(At,h?r&1|2:r&1),Ge&&Zi(n,o.treeForkCount),t):(ft(n),null);case 22:case 23:return Nn(n),Sf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ft(n),n.subtreeFlags&6&&(n.flags|=8192)):ft(n),r=n.updateQueue,r!==null&&cc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&K(Fr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),es(Dt),ft(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function zE(t,n){switch(lf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return es(Dt),ut(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return qi(n),null;case 31:if(n.memoizedState!==null){if(Nn(n),n.alternate===null)throw Error(a(340));Br()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Nn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Br()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(At),null;case 4:return ut(),null;case 10:return es(n.type),null;case 22:case 23:return Nn(n),Sf(),t!==null&&K(Fr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return es(Dt),null;case 25:return null;default:return null}}function by(t,n){switch(lf(n),n.tag){case 3:es(Dt),ut();break;case 26:case 27:case 5:qi(n);break;case 4:ut();break;case 31:n.memoizedState!==null&&Nn(n);break;case 13:Nn(n);break;case 19:K(At);break;case 10:es(n.type);break;case 22:case 23:Nn(n),Sf(),t!==null&&K(Fr);break;case 24:es(Dt)}}function dl(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(E){it(n,n.return,E)}}function Bs(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var C=r,U=E;try{U()}catch(F){it(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){it(n,n.return,F)}}function Ey(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{hp(n,r)}catch(o){it(t,t.return,o)}}}function Ty(t,n,r){r.props=Xr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){it(t,n,o)}}function ml(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){it(t,n,h)}}function Ii(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){it(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){it(t,n,h)}else r.current=null}function Sy(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){it(t,t.return,h)}}function td(t,n,r){try{var o=t.stateNode;lT(o,t.type,r,n),o[Bt]=n}catch(h){it(t,t.return,h)}}function xy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qs(t.type)||t.tag===4}function nd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function id(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Xn));else if(o!==4&&(o===27&&Qs(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(id(t,n,r),t=t.sibling;t!==null;)id(t,n,r),t=t.sibling}function hc(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&Qs(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(hc(t,n,r),t=t.sibling;t!==null;)hc(t,n,r),t=t.sibling}function Ay(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);$t(n,o,r),n[Nt]=t,n[Bt]=r}catch(f){it(t,t.return,f)}}var rs=!1,kt=!1,sd=!1,wy=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function BE(t,n){if(t=t.containerInfo,Ad=Mc,t=Pg(t),$h(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,E=-1,C=-1,U=0,F=0,Q=t,z=null;t:for(;;){for(var q;Q!==r||h!==0&&Q.nodeType!==3||(E=p+h),Q!==f||o!==0&&Q.nodeType!==3||(C=p+o),Q.nodeType===3&&(p+=Q.nodeValue.length),(q=Q.firstChild)!==null;)z=Q,Q=q;for(;;){if(Q===t)break t;if(z===r&&++U===h&&(E=p),z===f&&++F===o&&(C=p),(q=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=q}r=E===-1||C===-1?null:{start:E,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(wd={focusedElem:t,selectionRange:r},Mc=!1,Ht=n;Ht!==null;)if(n=Ht,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ht=t;else for(;Ht!==null;){switch(n=Ht,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var oe=Xr(r.type,h);t=o.getSnapshotBeforeUpdate(oe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(_e){it(r,r.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Cd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Cd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ht=t;break}Ht=n.return}}function Ry(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:os(t,r),o&4&&dl(5,r);break;case 1:if(os(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){it(r,r.return,p)}else{var h=Xr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){it(r,r.return,p)}}o&64&&Ey(r),o&512&&ml(r,r.return);break;case 3:if(os(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{hp(t,n)}catch(p){it(r,r.return,p)}}break;case 27:n===null&&o&4&&Ay(r);case 26:case 5:os(t,r),n===null&&o&4&&Sy(r),o&512&&ml(r,r.return);break;case 12:os(t,r);break;case 31:os(t,r),o&4&&Iy(t,r);break;case 13:os(t,r),o&4&&Dy(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=$E.bind(null,r),pT(t,r))));break;case 22:if(o=r.memoizedState!==null||rs,!o){n=n!==null&&n.memoizedState!==null||kt,h=rs;var f=kt;rs=o,(kt=n)&&!f?ls(t,r,(r.subtreeFlags&8772)!==0):os(t,r),rs=h,kt=f}break;case 30:break;default:os(t,r)}}function Ny(t){var n=t.alternate;n!==null&&(t.alternate=null,Ny(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&pa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pt=null,pn=!1;function as(t,n,r){for(r=r.child;r!==null;)Cy(t,n,r),r=r.sibling}function Cy(t,n,r){if(Ae&&typeof Ae.onCommitFiberUnmount=="function")try{Ae.onCommitFiberUnmount(ye,r)}catch{}switch(r.tag){case 26:kt||Ii(r,n),as(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:kt||Ii(r,n);var o=pt,h=pn;Qs(r.type)&&(pt=r.stateNode,pn=!1),as(t,n,r),Sl(r.stateNode),pt=o,pn=h;break;case 5:kt||Ii(r,n);case 6:if(o=pt,h=pn,pt=null,as(t,n,r),pt=o,pn=h,pt!==null)if(pn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(r.stateNode)}catch(f){it(r,n,f)}else try{pt.removeChild(r.stateNode)}catch(f){it(r,n,f)}break;case 18:pt!==null&&(pn?(t=pt,E0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),eo(t)):E0(pt,r.stateNode));break;case 4:o=pt,h=pn,pt=r.stateNode.containerInfo,pn=!0,as(t,n,r),pt=o,pn=h;break;case 0:case 11:case 14:case 15:Bs(2,r,n),kt||Bs(4,r,n),as(t,n,r);break;case 1:kt||(Ii(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Ty(r,n,o)),as(t,n,r);break;case 21:as(t,n,r);break;case 22:kt=(o=kt)||r.memoizedState!==null,as(t,n,r),kt=o;break;default:as(t,n,r)}}function Iy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{eo(t)}catch(r){it(n,n.return,r)}}}function Dy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{eo(t)}catch(r){it(n,n.return,r)}}function qE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new wy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new wy),n;default:throw Error(a(435,t.tag))}}function fc(t,n){var r=qE(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=JE.bind(null,t,o);o.then(h,h)}})}function yn(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(Qs(E.type)){pt=E.stateNode,pn=!1;break e}break;case 5:pt=E.stateNode,pn=!1;break e;case 3:case 4:pt=E.stateNode.containerInfo,pn=!0;break e}E=E.return}if(pt===null)throw Error(a(160));Cy(f,p,h),pt=null,pn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)My(n,t),n=n.sibling}var ti=null;function My(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(n,t),_n(t),o&4&&(Bs(3,t,t.return),dl(3,t),Bs(5,t,t.return));break;case 1:yn(n,t),_n(t),o&512&&(kt||r===null||Ii(r,r.return)),o&64&&rs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=ti;if(yn(n,t),_n(t),o&512&&(kt||r===null||Ii(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[pi]||f[Nt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),$t(f,o,r),f[Nt]=t,Ct(f),o=f;break e;case"link":var p=M0("link","href",h).get(o+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(o),$t(f,o,r),h.head.appendChild(f);break;case"meta":if(p=M0("meta","content",h).get(o+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break t}}f=h.createElement(o),$t(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Nt]=t,Ct(f),o=f}t.stateNode=o}else O0(h,t.type,t.stateNode);else t.stateNode=D0(h,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?O0(h,t.type,t.stateNode):D0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&td(t,t.memoizedProps,r.memoizedProps)}break;case 27:yn(n,t),_n(t),o&512&&(kt||r===null||Ii(r,r.return)),r!==null&&o&4&&td(t,t.memoizedProps,r.memoizedProps);break;case 5:if(yn(n,t),_n(t),o&512&&(kt||r===null||Ii(r,r.return)),t.flags&32){h=t.stateNode;try{gn(h,"")}catch(oe){it(t,t.return,oe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,td(t,h,r!==null?r.memoizedProps:h)),o&1024&&(sd=!0);break;case 6:if(yn(n,t),_n(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(oe){it(t,t.return,oe)}}break;case 3:if(Nc=null,h=ti,ti=wc(n.containerInfo),yn(n,t),ti=h,_n(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{eo(n.containerInfo)}catch(oe){it(t,t.return,oe)}sd&&(sd=!1,Oy(t));break;case 4:o=ti,ti=wc(t.stateNode.containerInfo),yn(n,t),_n(t),ti=o;break;case 12:yn(n,t),_n(t);break;case 31:yn(n,t),_n(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fc(t,o)));break;case 13:yn(n,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(mc=Gt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fc(t,o)));break;case 22:h=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,U=rs,F=kt;if(rs=U||h,kt=F||C,yn(n,t),kt=F,rs=U,_n(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||rs||kt||$r(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=C.stateNode;var Q=C.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(oe){it(C,C.return,oe)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(oe){it(C,C.return,oe)}}}else if(n.tag===18){if(r===null){C=n;try{var q=C.stateNode;h?T0(q,!0):T0(C.stateNode,!1)}catch(oe){it(C,C.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,fc(t,r))));break;case 19:yn(n,t),_n(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fc(t,o)));break;case 30:break;case 21:break;default:yn(n,t),_n(t)}}function _n(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(xy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=nd(t);hc(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(gn(p,""),r.flags&=-33);var E=nd(t);hc(t,E,p);break;case 3:case 4:var C=r.stateNode.containerInfo,U=nd(t);id(t,U,C);break;default:throw Error(a(161))}}catch(F){it(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Oy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Oy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function os(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ry(t,n.alternate,n),n=n.sibling}function $r(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Bs(4,n,n.return),$r(n);break;case 1:Ii(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Ty(n,n.return,r),$r(n);break;case 27:Sl(n.stateNode);case 26:case 5:Ii(n,n.return),$r(n);break;case 22:n.memoizedState===null&&$r(n);break;case 30:$r(n);break;default:$r(n)}t=t.sibling}}function ls(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ls(h,f,r),dl(4,f);break;case 1:if(ls(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){it(o,o.return,U)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)cp(C[h],E)}catch(U){it(o,o.return,U)}}r&&p&64&&Ey(f),ml(f,f.return);break;case 27:Ay(f);case 26:case 5:ls(h,f,r),r&&o===null&&p&4&&Sy(f),ml(f,f.return);break;case 12:ls(h,f,r);break;case 31:ls(h,f,r),r&&p&4&&Iy(h,f);break;case 13:ls(h,f,r),r&&p&4&&Dy(h,f);break;case 22:f.memoizedState===null&&ls(h,f,r),ml(f,f.return);break;case 30:break;default:ls(h,f,r)}n=n.sibling}}function rd(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&el(r))}function ad(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&el(t))}function ni(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ky(t,n,r,o),n=n.sibling}function ky(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ni(t,n,r,o),h&2048&&dl(9,n);break;case 1:ni(t,n,r,o);break;case 3:ni(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&el(t)));break;case 12:if(h&2048){ni(t,n,r,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){it(n,n.return,C)}}else ni(t,n,r,o);break;case 31:ni(t,n,r,o);break;case 13:ni(t,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ni(t,n,r,o):gl(t,n):f._visibility&2?ni(t,n,r,o):(f._visibility|=2,Ha(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&rd(p,n);break;case 24:ni(t,n,r,o),h&2048&&ad(n.alternate,n);break;default:ni(t,n,r,o)}}function Ha(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=r,C=o,U=p.flags;switch(p.tag){case 0:case 11:case 15:Ha(f,p,E,C,h),dl(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?Ha(f,p,E,C,h):gl(f,p):(F._visibility|=2,Ha(f,p,E,C,h)),h&&U&2048&&rd(p.alternate,p);break;case 24:Ha(f,p,E,C,h),h&&U&2048&&ad(p.alternate,p);break;default:Ha(f,p,E,C,h)}n=n.sibling}}function gl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:gl(r,o),h&2048&&rd(o.alternate,o);break;case 24:gl(r,o),h&2048&&ad(o.alternate,o);break;default:gl(r,o)}n=n.sibling}}var pl=8192;function Fa(t,n,r){if(t.subtreeFlags&pl)for(t=t.child;t!==null;)Vy(t,n,r),t=t.sibling}function Vy(t,n,r){switch(t.tag){case 26:Fa(t,n,r),t.flags&pl&&t.memoizedState!==null&&NT(r,ti,t.memoizedState,t.memoizedProps);break;case 5:Fa(t,n,r);break;case 3:case 4:var o=ti;ti=wc(t.stateNode.containerInfo),Fa(t,n,r),ti=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=pl,pl=16777216,Fa(t,n,r),pl=o):Fa(t,n,r));break;default:Fa(t,n,r)}}function jy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function yl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ht=o,Py(o,t)}jy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ly(t),t=t.sibling}function Ly(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&Bs(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,dc(t)):yl(t);break;default:yl(t)}}function dc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ht=o,Py(o,t)}jy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Bs(8,n,n.return),dc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,dc(n));break;default:dc(n)}t=t.sibling}}function Py(t,n){for(;Ht!==null;){var r=Ht;switch(r.tag){case 0:case 11:case 15:Bs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:el(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ht=o;else e:for(r=t;Ht!==null;){o=Ht;var h=o.sibling,f=o.return;if(Ny(o),o===r){Ht=null;break e}if(h!==null){h.return=f,Ht=h;break e}Ht=f}}}var HE={getCacheForType:function(t){var n=Qt(Dt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Qt(Dt).controller.signal}},FE=typeof WeakMap=="function"?WeakMap:Map,We=0,ct=null,Pe=null,ze=0,nt=0,Cn=null,qs=!1,Ga=!1,od=!1,us=0,Tt=0,Hs=0,Jr=0,ld=0,In=0,Ya=0,_l=null,vn=null,ud=!1,mc=0,Uy=0,gc=1/0,pc=null,Fs=null,Lt=0,Gs=null,Ka=null,cs=0,cd=0,hd=null,zy=null,vl=0,fd=null;function Dn(){return(We&2)!==0&&ze!==0?ze&-ze:H.T!==null?_d():yu()}function By(){if(In===0)if((ze&536870912)===0||Ge){var t=Yi;Yi<<=1,(Yi&3932160)===0&&(Yi=262144),In=t}else In=536870912;return t=Rn.current,t!==null&&(t.flags|=32),In}function bn(t,n,r){(t===ct&&(nt===2||nt===9)||t.cancelPendingCommit!==null)&&(Qa(t,0),Ys(t,ze,In,!1)),Ar(t,r),((We&2)===0||t!==ct)&&(t===ct&&((We&2)===0&&(Jr|=r),Tt===4&&Ys(t,ze,In,!1)),Di(t))}function qy(t,n,r){if((We&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Yn(t,n),h=o?KE(t,n):md(t,n,!0),f=o;do{if(h===0){Ga&&!o&&Ys(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!GE(r)){h=md(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=_l;var C=E.current.memoizedState.isDehydrated;if(C&&(Qa(E,p).flags|=256),p=md(E,p,!1),p!==2){if(od&&!C){E.errorRecoveryDisabledLanes|=f,Jr|=f,h=4;break e}f=vn,vn=h,f!==null&&(vn===null?vn=f:vn.push.apply(vn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Qa(t,0),Ys(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ys(o,n,In,!qs);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=mc+300-Gt(),10<h)){if(Ys(o,n,In,!qs),en(o,0,!0)!==0)break e;cs=n,o.timeoutHandle=v0(Hy.bind(null,o,r,vn,pc,ud,n,In,Jr,Ya,qs,f,"Throttled",-0,0),h);break e}Hy(o,r,vn,pc,ud,n,In,Jr,Ya,qs,f,null,-0,0)}}break}while(!0);Di(t)}function Hy(t,n,r,o,h,f,p,E,C,U,F,Q,z,q){if(t.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},Vy(n,f,Q);var oe=(f&62914560)===f?mc-Gt():(f&4194048)===f?Uy-Gt():0;if(oe=CT(Q,oe),oe!==null){cs=f,t.cancelPendingCommit=oe(Jy.bind(null,t,n,f,r,o,h,p,E,C,F,Q,null,z,q)),Ys(t,f,p,!U);return}}Jy(t,n,f,r,o,h,p,E,C)}function GE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!An(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ys(t,n,r,o){n&=~ld,n&=~Jr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-Ke(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&wr(t,r,n)}function yc(){return(We&6)===0?(bl(0),!1):!0}function dd(){if(Pe!==null){if(nt===0)var t=Pe.return;else t=Pe,Wi=qr=null,Cf(t),Pa=null,nl=0,t=Pe;for(;t!==null;)by(t.alternate,t),t=t.return;Pe=null}}function Qa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,hT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),cs=0,dd(),ct=t,Pe=r=Ji(t.current,null),ze=n,nt=0,Cn=null,qs=!1,Ga=Yn(t,n),od=!1,Ya=In=ld=Jr=Hs=Tt=0,vn=_l=null,ud=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Ke(o),f=1<<h;n|=t[h],o&=~f}return us=n,Pu(),r}function Fy(t,n){De=null,H.H=cl,n===La||n===Yu?(n=ap(),nt=3):n===yf?(n=ap(),nt=4):nt=n===Gf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Cn=n,Pe===null&&(Tt=1,ac(t,Ln(n,t.current)))}function Gy(){var t=Rn.current;return t===null?!0:(ze&4194048)===ze?Bn===null:(ze&62914560)===ze||(ze&536870912)!==0?t===Bn:!1}function Yy(){var t=H.H;return H.H=cl,t===null?cl:t}function Ky(){var t=H.A;return H.A=HE,t}function _c(){Tt=4,qs||(ze&4194048)!==ze&&Rn.current!==null||(Ga=!0),(Hs&134217727)===0&&(Jr&134217727)===0||ct===null||Ys(ct,ze,In,!1)}function md(t,n,r){var o=We;We|=2;var h=Yy(),f=Ky();(ct!==t||ze!==n)&&(pc=null,Qa(t,n)),n=!1;var p=Tt;e:do try{if(nt!==0&&Pe!==null){var E=Pe,C=Cn;switch(nt){case 8:dd(),p=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var U=nt;if(nt=0,Cn=null,Xa(t,E,C,U),r&&Ga){p=0;break e}break;default:U=nt,nt=0,Cn=null,Xa(t,E,C,U)}}YE(),p=Tt;break}catch(F){Fy(t,F)}while(!0);return n&&t.shellSuspendCounter++,Wi=qr=null,We=o,H.H=h,H.A=f,Pe===null&&(ct=null,ze=0,Pu()),p}function YE(){for(;Pe!==null;)Qy(Pe)}function KE(t,n){var r=We;We|=2;var o=Yy(),h=Ky();ct!==t||ze!==n?(pc=null,gc=Gt()+500,Qa(t,n)):Ga=Yn(t,n);e:do try{if(nt!==0&&Pe!==null){n=Pe;var f=Cn;t:switch(nt){case 1:nt=0,Cn=null,Xa(t,n,f,1);break;case 2:case 9:if(sp(f)){nt=0,Cn=null,Xy(n);break}n=function(){nt!==2&&nt!==9||ct!==t||(nt=7),Di(t)},f.then(n,n);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:sp(f)?(nt=0,Cn=null,Xy(n)):(nt=0,Cn=null,Xa(t,n,f,7));break;case 5:var p=null;switch(Pe.tag){case 26:p=Pe.memoizedState;case 5:case 27:var E=Pe;if(p?k0(p):E.stateNode.complete){nt=0,Cn=null;var C=E.sibling;if(C!==null)Pe=C;else{var U=E.return;U!==null?(Pe=U,vc(U)):Pe=null}break t}}nt=0,Cn=null,Xa(t,n,f,5);break;case 6:nt=0,Cn=null,Xa(t,n,f,6);break;case 8:dd(),Tt=6;break e;default:throw Error(a(462))}}QE();break}catch(F){Fy(t,F)}while(!0);return Wi=qr=null,H.H=o,H.A=h,We=r,Pe!==null?0:(ct=null,ze=0,Pu(),Tt)}function QE(){for(;Pe!==null&&!Co();)Qy(Pe)}function Qy(t){var n=_y(t.alternate,t,us);t.memoizedProps=t.pendingProps,n===null?vc(t):Pe=n}function Xy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=fy(r,n,n.pendingProps,n.type,void 0,ze);break;case 11:n=fy(r,n,n.pendingProps,n.type.render,n.ref,ze);break;case 5:Cf(n);default:by(r,n),n=Pe=Kg(n,us),n=_y(r,n,us)}t.memoizedProps=t.pendingProps,n===null?vc(t):Pe=n}function Xa(t,n,r,o){Wi=qr=null,Cf(n),Pa=null,nl=0;var h=n.return;try{if(jE(t,h,n,r,ze)){Tt=1,ac(t,Ln(r,t.current)),Pe=null;return}}catch(f){if(h!==null)throw Pe=h,f;Tt=1,ac(t,Ln(r,t.current)),Pe=null;return}n.flags&32768?(Ge||o===1?t=!0:Ga||(ze&536870912)!==0?t=!1:(qs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),$y(n,t)):vc(n)}function vc(t){var n=t;do{if((n.flags&32768)!==0){$y(n,qs);return}t=n.return;var r=UE(n.alternate,n,us);if(r!==null){Pe=r;return}if(n=n.sibling,n!==null){Pe=n;return}Pe=n=t}while(n!==null);Tt===0&&(Tt=5)}function $y(t,n){do{var r=zE(t.alternate,t);if(r!==null){r.flags&=32767,Pe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=r}while(t!==null);Tt=6,Pe=null}function Jy(t,n,r,o,h,f,p,E,C){t.cancelPendingCommit=null;do bc();while(Lt!==0);if((We&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=tf,Yh(t,r,f,p,E,C),t===ct&&(Pe=ct=null,ze=0),Ka=n,Gs=t,cs=r,cd=f,hd=h,zy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ZE(hi,function(){return n0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=te.p,te.p=2,p=We,We|=4;try{BE(t,n,r)}finally{We=p,te.p=h,H.T=o}}Lt=1,Zy(),Wy(),e0()}}function Zy(){if(Lt===1){Lt=0;var t=Gs,n=Ka,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=te.p;te.p=2;var h=We;We|=4;try{My(n,t);var f=wd,p=Pg(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Lg(E.ownerDocument.documentElement,E)){if(C!==null&&$h(E)){var U=C.start,F=C.end;if(F===void 0&&(F=U),"selectionStart"in E)E.selectionStart=U,E.selectionEnd=Math.min(F,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var q=z.getSelection(),oe=E.textContent.length,_e=Math.min(C.start,oe),lt=C.end===void 0?_e:Math.min(C.end,oe);!q.extend&&_e>lt&&(p=lt,lt=_e,_e=p);var j=jg(E,_e),M=jg(E,lt);if(j&&M&&(q.rangeCount!==1||q.anchorNode!==j.node||q.anchorOffset!==j.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var P=Q.createRange();P.setStart(j.node,j.offset),q.removeAllRanges(),_e>lt?(q.addRange(P),q.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),q.addRange(P))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var Y=Q[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Mc=!!Ad,wd=Ad=null}finally{We=h,te.p=o,H.T=r}}t.current=n,Lt=2}}function Wy(){if(Lt===2){Lt=0;var t=Gs,n=Ka,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=te.p;te.p=2;var h=We;We|=4;try{Ry(t,n.alternate,n)}finally{We=h,te.p=o,H.T=r}}Lt=3}}function e0(){if(Lt===4||Lt===3){Lt=0,da();var t=Gs,n=Ka,r=cs,o=zy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Lt=5:(Lt=0,Ka=Gs=null,t0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Fs=null),Ki(r),n=n.stateNode,Ae&&typeof Ae.onCommitFiberRoot=="function")try{Ae.onCommitFiberRoot(ye,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=te.p,te.p=2,H.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,te.p=h}}(cs&3)!==0&&bc(),Di(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===fd?vl++:(vl=0,fd=t):vl=0,bl(0)}}function t0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,el(n)))}function bc(){return Zy(),Wy(),e0(),n0()}function n0(){if(Lt!==5)return!1;var t=Gs,n=cd;cd=0;var r=Ki(cs),o=H.T,h=te.p;try{te.p=32>r?32:r,H.T=null,r=hd,hd=null;var f=Gs,p=cs;if(Lt=0,Ka=Gs=null,cs=0,(We&6)!==0)throw Error(a(331));var E=We;if(We|=4,Ly(f.current),ky(f,f.current,p,r),We=E,bl(0,!1),Ae&&typeof Ae.onPostCommitFiberRoot=="function")try{Ae.onPostCommitFiberRoot(ye,f)}catch{}return!0}finally{te.p=h,H.T=o,t0(t,n)}}function i0(t,n,r){n=Ln(r,n),n=Ff(t.stateNode,n,2),t=Ps(t,n,2),t!==null&&(Ar(t,2),Di(t))}function it(t,n,r){if(t.tag===3)i0(t,t,r);else for(;n!==null;){if(n.tag===3){i0(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fs===null||!Fs.has(o))){t=Ln(r,t),r=sy(2),o=Ps(n,r,2),o!==null&&(ry(r,o,n,t),Ar(o,2),Di(o));break}}n=n.return}}function gd(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new FE;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(od=!0,h.add(r),t=XE.bind(null,t,n,r),n.then(t,t))}function XE(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ct===t&&(ze&r)===r&&(Tt===4||Tt===3&&(ze&62914560)===ze&&300>Gt()-mc?(We&2)===0&&Qa(t,0):ld|=r,Ya===ze&&(Ya=0)),Di(t)}function s0(t,n){n===0&&(n=pu()),t=Ur(t,n),t!==null&&(Ar(t,n),Di(t))}function $E(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),s0(t,r)}function JE(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),s0(t,r)}function ZE(t,n){return St(t,n)}var Ec=null,$a=null,pd=!1,Tc=!1,yd=!1,Ks=0;function Di(t){t!==$a&&t.next===null&&($a===null?Ec=$a=t:$a=$a.next=t),Tc=!0,pd||(pd=!0,eT())}function bl(t,n){if(!yd&&Tc){yd=!0;do for(var r=!1,o=Ec;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Ke(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,l0(o,f))}else f=ze,f=en(o,o===ct?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Yn(o,f)||(r=!0,l0(o,f));o=o.next}while(r);yd=!1}}function WE(){r0()}function r0(){Tc=pd=!1;var t=0;Ks!==0&&cT()&&(t=Ks);for(var n=Gt(),r=null,o=Ec;o!==null;){var h=o.next,f=a0(o,n);f===0?(o.next=null,r===null?Ec=h:r.next=h,h===null&&($a=r)):(r=o,(t!==0||(f&3)!==0)&&(Tc=!0)),o=h}Lt!==0&&Lt!==5||bl(t),Ks!==0&&(Ks=0)}function a0(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Ke(f),E=1<<p,C=h[p];C===-1?((E&r)===0||(E&o)!==0)&&(h[p]=Gh(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=ct,r=ze,r=en(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(nt===2||nt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ci(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Yn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&ci(o),Ki(r)){case 2:case 8:r=Sr;break;case 32:r=hi;break;case 268435456:r=ma;break;default:r=hi}return o=o0.bind(null,t),r=St(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&ci(o),t.callbackPriority=2,t.callbackNode=null,2}function o0(t,n){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(bc()&&t.callbackNode!==r)return null;var o=ze;return o=en(t,t===ct?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(qy(t,o,n),a0(t,Gt()),t.callbackNode!=null&&t.callbackNode===r?o0.bind(null,t):null)}function l0(t,n){if(bc())return null;qy(t,n,!0)}function eT(){fT(function(){(We&6)!==0?St(Tr,WE):r0()})}function _d(){if(Ks===0){var t=Va;t===0&&(t=dn,dn<<=1,(dn&261888)===0&&(dn=256)),Ks=t}return Ks}function u0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function c0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function tT(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=u0((h[Bt]||null).action),p=o.submitter;p&&(n=(n=p[Bt]||null)?u0(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new xi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ks!==0){var C=p?c0(h,p):new FormData(h);Pf(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=p?c0(h,p):new FormData(h),Pf(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var vd=0;vd<ef.length;vd++){var bd=ef[vd],nT=bd.toLowerCase(),iT=bd[0].toUpperCase()+bd.slice(1);ei(nT,"on"+iT)}ei(Bg,"onAnimationEnd"),ei(qg,"onAnimationIteration"),ei(Hg,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(vE,"onTransitionRun"),ei(bE,"onTransitionStart"),ei(EE,"onTransitionCancel"),ei(Fg,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function h0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],C=E.instance,U=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=U;try{f(h)}catch(F){Lu(F)}h.currentTarget=null,f=C}else for(p=0;p<o.length;p++){if(E=o[p],C=E.instance,U=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=U;try{f(h)}catch(F){Lu(F)}h.currentTarget=null,f=C}}}}function Ue(t,n){var r=n[ga];r===void 0&&(r=n[ga]=new Set);var o=t+"__bubble";r.has(o)||(f0(n,t,2,!1),r.add(o))}function Ed(t,n,r){var o=0;n&&(o|=4),f0(r,t,o,n)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Td(t){if(!t[Sc]){t[Sc]=!0,Oo.forEach(function(r){r!=="selectionchange"&&(sT.has(r)||Ed(r,!1,t),Ed(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Sc]||(n[Sc]=!0,Ed("selectionchange",!1,n))}}function f0(t,n,r,o){switch(B0(n)){case 2:var h=MT;break;case 8:h=OT;break;default:h=Ld}r=h.bind(null,n,r,t),h=void 0,!Dr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function Sd(t,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=yi(E),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){o=f=p;continue e}E=E.parentNode}}o=o.return}Ns(function(){var U=f,F=On(r),Q=[];e:{var z=Gg.get(t);if(z!==void 0){var q=xi,oe=t;switch(t){case"keypress":if(Or(r)===0)break e;case"keydown":case"keyup":q=ku;break;case"focusin":oe="focus",q=Vr;break;case"focusout":oe="blur",q=Vr;break;case"beforeblur":case"afterblur":q=Vr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Bg:case qg:case Hg:q=Ru;break;case Fg:q=T;break;case"scroll":case"scrollend":q=Go;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=$i;break;case"toggle":case"beforetoggle":q=Ie}var _e=(n&4)!==0,lt=!_e&&(t==="scroll"||t==="scrollend"),j=_e?z!==null?z+"Capture":null:z;_e=[];for(var M=U,P;M!==null;){var Y=M;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||j===null||(Y=$n(M,j),Y!=null&&_e.push(Tl(M,Y,P))),lt)break;M=M.return}0<_e.length&&(z=new q(z,oe,null,r,F),Q.push({event:z,listeners:_e}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&r!==qo&&(oe=r.relatedTarget||r.fromElement)&&(yi(oe)||oe[gi]))break e;if((q||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,q?(oe=r.relatedTarget||r.toElement,q=U,oe=oe?yi(oe):null,oe!==null&&(lt=c(oe),_e=oe.tag,oe!==lt||_e!==5&&_e!==27&&_e!==6)&&(oe=null)):(q=null,oe=U),q!==oe)){if(_e=Yo,Y="onMouseLeave",j="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=$i,Y="onPointerLeave",j="onPointerEnter",M="pointer"),lt=q==null?z:Sn(q),P=oe==null?z:Sn(oe),z=new _e(Y,M+"leave",q,r,F),z.target=lt,z.relatedTarget=P,Y=null,yi(F)===U&&(_e=new _e(j,M+"enter",oe,r,F),_e.target=P,_e.relatedTarget=lt,Y=_e),lt=Y,q&&oe)t:{for(_e=rT,j=q,M=oe,P=0,Y=j;Y;Y=_e(Y))P++;Y=0;for(var de=M;de;de=_e(de))Y++;for(;0<P-Y;)j=_e(j),P--;for(;0<Y-P;)M=_e(M),Y--;for(;P--;){if(j===M||M!==null&&j===M.alternate){_e=j;break t}j=_e(j),M=_e(M)}_e=null}else _e=null;q!==null&&d0(Q,z,q,_e,!1),oe!==null&&lt!==null&&d0(Q,lt,oe,_e,!0)}}e:{if(z=U?Sn(U):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Qe=Ig;else if(Ng(z))if(Dg)Qe=pE;else{Qe=mE;var le=dE}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&va(U.elementType)&&(Qe=Ig):Qe=gE;if(Qe&&(Qe=Qe(t,U))){Cg(Q,Qe,r,F);break e}le&&le(t,z,U),t==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&Uo(z,"number",z.value)}switch(le=U?Sn(U):window,t){case"focusin":(Ng(le)||le.contentEditable==="true")&&(Ra=le,Jh=U,Jo=null);break;case"focusout":Jo=Jh=Ra=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Ug(Q,r,F);break;case"selectionchange":if(_E)break;case"keydown":case"keyup":Ug(Q,r,F)}var Me;if(Ze)e:{switch(t){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else wa?jr(t,r)&&(Be="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Be="onCompositionStart");Be&&(Ri&&r.locale!=="ko"&&(wa||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&wa&&(Me=Fo()):(Si=F,Ho="value"in Si?Si.value:Si.textContent,wa=!0)),le=xc(U,Be),0<le.length&&(Be=new wi(Be,t,null,r,F),Q.push({event:Be,listeners:le}),Me?Be.data=Me:(Me=Aa(r),Me!==null&&(Be.data=Me)))),(Me=Vn?uE(t,r):cE(t,r))&&(Be=xc(U,"onBeforeInput"),0<Be.length&&(le=new wi("onBeforeInput","beforeinput",null,r,F),Q.push({event:le,listeners:Be}),le.data=Me)),tT(Q,t,U,r,F)}h0(Q,n)})}function Tl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function xc(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=$n(t,r),h!=null&&o.unshift(Tl(t,h,f)),h=$n(t,n),h!=null&&o.push(Tl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function rT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function d0(t,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var E=r,C=E.alternate,U=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||U===null||(C=U,h?(U=$n(r,f),U!=null&&p.unshift(Tl(r,U,C))):h||(U=$n(r,f),U!=null&&p.push(Tl(r,U,C)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var aT=/\r\n?/g,oT=/\u0000|\uFFFD/g;function m0(t){return(typeof t=="string"?t:""+t).replace(aT,`
`).replace(oT,"")}function g0(t,n){return n=m0(n),m0(t)===n}function ot(t,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||gn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&gn(t,""+o);break;case"className":xn(t,"class",o);break;case"tabIndex":xn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":xn(t,r,o);break;case"style":Bo(t,o,f);break;case"data":if(n!=="object"){xn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ba(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&ot(t,n,"name",h.name,h,null),ot(t,n,"formEncType",h.formEncType,h,null),ot(t,n,"formMethod",h.formMethod,h,null),ot(t,n,"formTarget",h.formTarget,h,null)):(ot(t,n,"encType",h.encType,h,null),ot(t,n,"method",h.method,h,null),ot(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ba(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=Xn);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=ba(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),ya(t,"popover",o);break;case"xlinkActuate":It(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":It(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":It(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":It(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":It(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":It(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":It(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":It(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":It(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ya(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=xu.get(r)||r,ya(t,r,o))}}function xd(t,n,r,o,h,f){switch(r){case"style":Bo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?gn(t,o):(typeof o=="number"||typeof o=="bigint")&&gn(t,""+o);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Bt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):ya(t,r,o)}}}function $t(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ot(t,n,f,p,r,null)}}h&&ot(t,n,"srcSet",r.srcSet,r,null),o&&ot(t,n,"src",r.src,r,null);return;case"input":Ue("invalid",t);var E=f=p=h=null,C=null,U=null;for(o in r)if(r.hasOwnProperty(o)){var F=r[o];if(F!=null)switch(o){case"name":h=F;break;case"type":p=F;break;case"checked":C=F;break;case"defaultChecked":U=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:ot(t,n,o,F,r,null)}}Eu(t,f,E,C,U,p,h,!1);return;case"select":Ue("invalid",t),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:ot(t,n,h,E,r,null)}n=f,r=p,t.multiple=!!o,n!=null?xs(t,!!o,n,!1):r!=null&&xs(t,!!o,r,!0);return;case"textarea":Ue("invalid",t),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ot(t,n,p,E,r,null)}As(t,o,h,f);return;case"option":for(C in r)r.hasOwnProperty(C)&&(o=r[C],o!=null)&&(C==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":ot(t,n,C,o,r,null));return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(o=0;o<El.length;o++)Ue(El[o],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(o=r[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ot(t,n,U,o,r,null)}return;default:if(va(n)){for(F in r)r.hasOwnProperty(F)&&(o=r[F],o!==void 0&&xd(t,n,F,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&ot(t,n,E,o,r,null))}function lT(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,C=null,U=null,F=null;for(q in r){var Q=r[q];if(r.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Q;default:o.hasOwnProperty(q)||ot(t,n,q,null,o,Q)}}for(var z in o){var q=o[z];if(Q=r[z],o.hasOwnProperty(z)&&(q!=null||Q!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":U=q;break;case"defaultChecked":F=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Q&&ot(t,n,z,q,o,Q)}}_a(t,p,E,C,U,F,f,h);return;case"select":q=p=E=z=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(f)||ot(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=r[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==C&&ot(t,n,h,f,o,C)}n=E,r=p,o=q,z!=null?xs(t,!!r,z,!1):!!o!=!!r&&(n!=null?xs(t,!!r,n,!0):xs(t,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ot(t,n,E,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ot(t,n,p,h,o,f)}Tu(t,z,q);return;case"option":for(var oe in r)z=r[oe],r.hasOwnProperty(oe)&&z!=null&&!o.hasOwnProperty(oe)&&(oe==="selected"?t.selected=!1:ot(t,n,oe,null,o,z));for(C in o)z=o[C],q=r[C],o.hasOwnProperty(C)&&z!==q&&(z!=null||q!=null)&&(C==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":ot(t,n,C,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in r)z=r[_e],r.hasOwnProperty(_e)&&z!=null&&!o.hasOwnProperty(_e)&&ot(t,n,_e,null,o,z);for(U in o)if(z=o[U],q=r[U],o.hasOwnProperty(U)&&z!==q&&(z!=null||q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:ot(t,n,U,z,o,q)}return;default:if(va(n)){for(var lt in r)z=r[lt],r.hasOwnProperty(lt)&&z!==void 0&&!o.hasOwnProperty(lt)&&xd(t,n,lt,void 0,o,z);for(F in o)z=o[F],q=r[F],!o.hasOwnProperty(F)||z===q||z===void 0&&q===void 0||xd(t,n,F,z,o,q);return}}for(var j in r)z=r[j],r.hasOwnProperty(j)&&z!=null&&!o.hasOwnProperty(j)&&ot(t,n,j,null,o,z);for(Q in o)z=o[Q],q=r[Q],!o.hasOwnProperty(Q)||z===q||z==null&&q==null||ot(t,n,Q,z,o,q)}function p0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&p0(p)){for(p=0,E=h.responseEnd,o+=1;o<r.length;o++){var C=r[o],U=C.startTime;if(U>E)break;var F=C.transferSize,Q=C.initiatorType;F&&p0(Q)&&(C=C.responseEnd,p+=F*(C<E?1:(E-U)/(C-U)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ad=null,wd=null;function Ac(t){return t.nodeType===9?t:t.ownerDocument}function y0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Rd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Nd=null;function cT(){var t=window.event;return t&&t.type==="popstate"?t===Nd?!1:(Nd=t,!0):(Nd=null,!1)}var v0=typeof setTimeout=="function"?setTimeout:void 0,hT=typeof clearTimeout=="function"?clearTimeout:void 0,b0=typeof Promise=="function"?Promise:void 0,fT=typeof queueMicrotask=="function"?queueMicrotask:typeof b0<"u"?function(t){return b0.resolve(null).then(t).catch(dT)}:v0;function dT(t){setTimeout(function(){throw t})}function Qs(t){return t==="head"}function E0(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),eo(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Sl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Sl(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[pi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&Sl(t.ownerDocument.body);r=h}while(r);eo(n)}function T0(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function Cd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Cd(r),pa(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function mT(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[pi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function gT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=qn(t.nextSibling),t===null))return null;return t}function S0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=qn(t.nextSibling),t===null))return null;return t}function Id(t){return t.data==="$?"||t.data==="$~"}function Dd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function pT(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function qn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Md=null;function x0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return qn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function A0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function w0(t,n,r){switch(n=Ac(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Sl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);pa(t)}var Hn=new Map,R0=new Set;function wc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hs=te.d;te.d={f:yT,r:_T,D:vT,C:bT,L:ET,m:TT,X:xT,S:ST,M:AT};function yT(){var t=hs.f(),n=yc();return t||n}function _T(t){var n=Mn(t);n!==null&&n.tag===5&&n.type==="form"?Fp(n):hs.r(t)}var Ja=typeof document>"u"?null:document;function N0(t,n,r){var o=Ja;if(o&&typeof n=="string"&&n){var h=mn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),R0.has(h)||(R0.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),$t(n,"link",t),Ct(n),o.head.appendChild(n)))}}function vT(t){hs.D(t),N0("dns-prefetch",t,null)}function bT(t,n){hs.C(t,n),N0("preconnect",t,n)}function ET(t,n,r){hs.L(t,n,r);var o=Ja;if(o&&t&&n){var h='link[rel="preload"][as="'+mn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+mn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+mn(r.imageSizes)+'"]')):h+='[href="'+mn(t)+'"]';var f=h;switch(n){case"style":f=Za(t);break;case"script":f=Wa(t)}Hn.has(f)||(t=R({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Hn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(xl(f))||n==="script"&&o.querySelector(Al(f))||(n=o.createElement("link"),$t(n,"link",t),Ct(n),o.head.appendChild(n)))}}function TT(t,n){hs.m(t,n);var r=Ja;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+mn(o)+'"][href="'+mn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Wa(t)}if(!Hn.has(f)&&(t=R({rel:"modulepreload",href:t},n),Hn.set(f,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Al(f)))return}o=r.createElement("link"),$t(o,"link",t),Ct(o),r.head.appendChild(o)}}}function ST(t,n,r){hs.S(t,n,r);var o=Ja;if(o&&t){var h=_i(o).hoistableStyles,f=Za(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(xl(f)))E.loading=5;else{t=R({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Hn.get(f))&&Od(t,r);var C=p=o.createElement("link");Ct(C),$t(C,"link",t),C._p=new Promise(function(U,F){C.onload=U,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Rc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function xT(t,n){hs.X(t,n);var r=Ja;if(r&&t){var o=_i(r).hoistableScripts,h=Wa(t),f=o.get(h);f||(f=r.querySelector(Al(h)),f||(t=R({src:t,async:!0},n),(n=Hn.get(h))&&kd(t,n),f=r.createElement("script"),Ct(f),$t(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function AT(t,n){hs.M(t,n);var r=Ja;if(r&&t){var o=_i(r).hoistableScripts,h=Wa(t),f=o.get(h);f||(f=r.querySelector(Al(h)),f||(t=R({src:t,async:!0,type:"module"},n),(n=Hn.get(h))&&kd(t,n),f=r.createElement("script"),Ct(f),$t(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function C0(t,n,r,o){var h=(h=Ce.current)?wc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Za(r.href),r=_i(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Za(r.href);var f=_i(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(xl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Hn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Hn.set(t,r),f||wT(h,t,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Wa(r),r=_i(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Za(t){return'href="'+mn(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function I0(t){return R({},t,{"data-precedence":t.precedence,precedence:null})}function wT(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),$t(n,"link",r),Ct(n),t.head.appendChild(n))}function Wa(t){return'[src="'+mn(t)+'"]'}function Al(t){return"script[async]"+t}function D0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+mn(r.href)+'"]');if(o)return n.instance=o,Ct(o),o;var h=R({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ct(o),$t(o,"style",h),Rc(o,r.precedence,t),n.instance=o;case"stylesheet":h=Za(r.href);var f=t.querySelector(xl(h));if(f)return n.state.loading|=4,n.instance=f,Ct(f),f;o=I0(r),(h=Hn.get(h))&&Od(o,h),f=(t.ownerDocument||t).createElement("link"),Ct(f);var p=f;return p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),$t(f,"link",o),n.state.loading|=4,Rc(f,r.precedence,t),n.instance=f;case"script":return f=Wa(r.src),(h=t.querySelector(Al(f)))?(n.instance=h,Ct(h),h):(o=r,(h=Hn.get(f))&&(o=R({},r),kd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ct(h),$t(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Rc(o,r.precedence,t));return n.instance}function Rc(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Od(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function kd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Nc=null;function M0(t,n,r){if(Nc===null){var o=new Map,h=Nc=new Map;h.set(r,o)}else h=Nc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[pi]||f[Nt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function O0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function RT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function k0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function NT(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Za(o.href),f=n.querySelector(xl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Cc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Ct(f);return}f=n.ownerDocument||n,o=I0(o),(h=Hn.get(h))&&Od(o,h),f=f.createElement("link"),Ct(f);var p=f;p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),$t(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Cc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Vd=0;function CT(t,n){return t.stylesheets&&t.count===0&&Dc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&Dc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Vd===0&&(Vd=62500*uT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Dc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Vd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ic=null;function Dc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ic=new Map,n.forEach(IT,t),Ic=null,Cc.call(t))}function IT(t,n){if(!(n.state.loading&4)){var r=Ic.get(t);if(r)var o=r.get(null);else{r=new Map,Ic.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=Cc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var wl={$$typeof:fe,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function DT(t,n,r,o,h,f,p,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function V0(t,n,r,o,h,f,p,E,C,U,F,Q){return t=new DT(t,n,r,p,C,U,F,Q,E),n=1,f===!0&&(n|=24),f=wn(3,null,null,n),t.current=f,f.stateNode=t,n=mf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},_f(f),t}function j0(t){return t?(t=Ia,t):Ia}function L0(t,n,r,o,h,f){h=j0(h),o.context===null?o.context=h:o.pendingContext=h,o=Ls(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Ps(t,o,n),r!==null&&(bn(r,t,n),sl(r,t,n))}function P0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function jd(t,n){P0(t,n),(t=t.alternate)&&P0(t,n)}function U0(t){if(t.tag===13||t.tag===31){var n=Ur(t,67108864);n!==null&&bn(n,t,67108864),jd(t,67108864)}}function z0(t){if(t.tag===13||t.tag===31){var n=Dn();n=Rr(n);var r=Ur(t,n);r!==null&&bn(r,t,n),jd(t,n)}}var Mc=!0;function MT(t,n,r,o){var h=H.T;H.T=null;var f=te.p;try{te.p=2,Ld(t,n,r,o)}finally{te.p=f,H.T=h}}function OT(t,n,r,o){var h=H.T;H.T=null;var f=te.p;try{te.p=8,Ld(t,n,r,o)}finally{te.p=f,H.T=h}}function Ld(t,n,r,o){if(Mc){var h=Pd(o);if(h===null)Sd(t,n,o,Oc,r),q0(t,o);else if(VT(h,t,n,r,o))o.stopPropagation();else if(q0(t,o),n&4&&-1<kT.indexOf(t)){for(;h!==null;){var f=Mn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=bt(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var C=1<<31-Ke(p);E.entanglements[1]|=C,p&=~C}Di(f),(We&6)===0&&(gc=Gt()+500,bl(0))}}break;case 31:case 13:E=Ur(f,2),E!==null&&bn(E,f,2),yc(),jd(f,2)}if(f=Pd(o),f===null&&Sd(t,n,o,Oc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else Sd(t,n,o,null,r)}}function Pd(t){return t=On(t),Ud(t)}var Oc=null;function Ud(t){if(Oc=null,t=yi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Oc=t,null}function B0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gi()){case Tr:return 2;case Sr:return 8;case hi:case Io:return 32;case ma:return 268435456;default:return 32}default:return 32}}var zd=!1,Xs=null,$s=null,Js=null,Rl=new Map,Nl=new Map,Zs=[],kT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q0(t,n){switch(t){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Rl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(n.pointerId)}}function Cl(t,n,r,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Mn(n),n!==null&&U0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function VT(t,n,r,o,h){switch(n){case"focusin":return Xs=Cl(Xs,t,n,r,o,h),!0;case"dragenter":return $s=Cl($s,t,n,r,o,h),!0;case"mouseover":return Js=Cl(Js,t,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return Rl.set(f,Cl(Rl.get(f)||null,t,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Nl.set(f,Cl(Nl.get(f)||null,t,n,r,o,h)),!0}return!1}function H0(t){var n=yi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Kn(t.priority,function(){z0(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,Kn(t.priority,function(){z0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Pd(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);qo=o,r.target.dispatchEvent(o),qo=null}else return n=Mn(r),n!==null&&U0(n),t.blockedOn=r,!1;n.shift()}return!0}function F0(t,n,r){kc(t)&&r.delete(n)}function jT(){zd=!1,Xs!==null&&kc(Xs)&&(Xs=null),$s!==null&&kc($s)&&($s=null),Js!==null&&kc(Js)&&(Js=null),Rl.forEach(F0),Nl.forEach(F0)}function Vc(t,n){t.blockedOn===n&&(t.blockedOn=null,zd||(zd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,jT)))}var jc=null;function G0(t){jc!==t&&(jc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){jc===t&&(jc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Ud(o||r)===null)continue;break}var f=Mn(r);f!==null&&(t.splice(n,3),n-=3,Pf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function eo(t){function n(C){return Vc(C,t)}Xs!==null&&Vc(Xs,t),$s!==null&&Vc($s,t),Js!==null&&Vc(Js,t),Rl.forEach(n),Nl.forEach(n);for(var r=0;r<Zs.length;r++){var o=Zs[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Zs.length&&(r=Zs[0],r.blockedOn===null);)H0(r),r.blockedOn===null&&Zs.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[Bt]||null;if(typeof f=="function")p||G0(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Bt]||null)E=p.formAction;else if(Ud(h)!==null)continue}else E=p.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),G0(r)}}}function Y0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Bd(t){this._internalRoot=t}Lc.prototype.render=Bd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Dn();L0(r,o,t,n,null,null)},Lc.prototype.unmount=Bd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;L0(t.current,2,null,t,null,null),yc(),n[gi]=null}};function Lc(t){this._internalRoot=t}Lc.prototype.unstable_scheduleHydration=function(t){if(t){var n=yu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Zs.length&&n!==0&&n<Zs[r].priority;r++);Zs.splice(r,0,t),r===0&&H0(t)}};var K0=e.version;if(K0!=="19.2.4")throw Error(a(527,K0,"19.2.4"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var LT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{ye=Pc.inject(LT),Ae=Pc}catch{}}return Dl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",h=ey,f=ty,p=ny;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=V0(t,1,!1,null,null,r,o,null,h,f,p,Y0),t[gi]=n.current,Td(t),new Bd(n)},Dl.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,h="",f=ey,p=ty,E=ny,C=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=V0(t,1,!0,n,r??null,o,h,C,f,p,E,Y0),n.context=j0(null),r=n.current,o=Dn(),o=Rr(o),h=Ls(o),h.callback=null,Ps(r,h,o),r=o,n.current.lanes=r,Ar(n,r),Di(n),t[gi]=n.current,Td(t),new Lc(n)},Dl.version="19.2.4",Dl}var i_;function KT(){if(i_)return Fd.exports;i_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Fd.exports=YT(),Fd.exports}var QT=KT();const XT=()=>{};var s_={};const Lv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},$T=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Pv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,v=_?s[l+2]:0,S=c>>2,R=(c&3)<<4|g>>4;let V=(g&15)<<2|v>>6,G=v&63;_||(G=64,d||(V=64)),a.push(i[S],i[R],i[V],i[G])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Lv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):$T(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const v=l<s.length?i[s.charAt(l)]:64;++l;const R=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||v==null||R==null)throw new JT;const V=c<<2|g>>4;if(a.push(V),v!==64){const G=g<<4&240|v>>2;if(a.push(G),R!==64){const W=v<<6&192|R;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class JT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZT=function(s){const e=Lv(s);return Pv.encodeByteArray(e,!0)},nh=function(s){return ZT(s).replace(/\./g,"")},Uv=function(s){try{return Pv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function WT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const eS=()=>WT().__FIREBASE_DEFAULTS__,tS=()=>{if(typeof process>"u"||typeof s_>"u")return;const s=s_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},nS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Uv(s[1]);return e&&JSON.parse(e)},Ah=()=>{try{return XT()||eS()||tS()||nS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},zv=s=>Ah()?.emulatorHosts?.[s],iS=s=>{const e=zv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Bv=()=>Ah()?.config,qv=s=>Ah()?.[`_${s}`];class sS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Eo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Hv(s){return(await fetch(s,{credentials:"include"})).ok}function rS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[nh(JSON.stringify(i)),nh(JSON.stringify(d)),""].join(".")}const Bl={};function aS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Bl))Bl[e]?s.emulator.push(e):s.prod.push(e);return s}function oS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let r_=!1;function Fv(s,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||Bl[s]===e||Bl[s]||r_)return;Bl[s]=e;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=aS().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function _(V,G){V.setAttribute("width","24"),V.setAttribute("id",G),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function v(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{r_=!0,d()},V}function S(V,G){V.setAttribute("id",G),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function R(){const V=oS(a),G=i("text"),W=document.getElementById(G)||document.createElement("span"),J=i("learnmore"),Z=document.getElementById(J)||document.createElement("a"),ae=i("preprendIcon"),ce=document.getElementById(ae)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const fe=V.element;g(fe),S(Z,J);const xe=v();_(ce,ae),fe.append(ce,W,Z,xe),document.body.appendChild(fe)}c?(W.innerText="Preview backend disconnected.",ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function uS(){const s=Ah()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function fS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dS(){const s=on();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function mS(){return!uS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gS(){try{return typeof indexedDB=="object"}catch{return!1}}function pS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const yS="FirebaseError";class vs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=yS,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ru.prototype.create)}}class ru{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?_S(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new vs(l,g,a)}}function _S(s,e){return s.replace(vS,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const vS=/\{\$([^}]+)}/g;function bS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ia(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(a_(c)&&a_(d)){if(!ia(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function a_(s){return s!==null&&typeof s=="object"}function au(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Vl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function jl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function ES(s,e){const i=new TS(s,e);return i.subscribe.bind(i)}class TS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");SS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Qd),l.error===void 0&&(l.error=Qd),l.complete===void 0&&(l.complete=Qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Qd(){}function cn(s){return s&&s._delegate?s._delegate:s}class sa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zr="[DEFAULT]";class xS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new sS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wS(e))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zr){return this.instances.has(e)}getOptions(e=Zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:AS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Zr){return this.component?this.component.multipleInstances?e:Zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AS(s){return s===Zr?void 0:s}function wS(s){return s.instantiationMode==="EAGER"}class RS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new xS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var qe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(qe||(qe={}));const NS={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},CS=qe.INFO,IS={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},DS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=IS[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lm{constructor(e){this.name=e,this._logLevel=CS,this._logHandler=DS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const MS=(s,e)=>e.some(i=>s instanceof i);let o_,l_;function OS(){return o_||(o_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kS(){return l_||(l_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gv=new WeakMap,lm=new WeakMap,Yv=new WeakMap,Xd=new WeakMap,Pm=new WeakMap;function VS(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(or(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Gv.set(i,s)}).catch(()=>{}),Pm.set(e,s),e}function jS(s){if(lm.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});lm.set(s,e)}let um={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return lm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Yv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return or(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function LS(s){um=s(um)}function PS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call($d(this),e,...i);return Yv.set(a,e.sort?e.sort():[e]),or(a)}:kS().includes(s)?function(...e){return s.apply($d(this),e),or(Gv.get(this))}:function(...e){return or(s.apply($d(this),e))}}function US(s){return typeof s=="function"?PS(s):(s instanceof IDBTransaction&&jS(s),MS(s,OS())?new Proxy(s,um):s)}function or(s){if(s instanceof IDBRequest)return VS(s);if(Xd.has(s))return Xd.get(s);const e=US(s);return e!==s&&(Xd.set(s,e),Pm.set(e,s)),e}const $d=s=>Pm.get(s);function zS(s,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),g=or(d);return a&&d.addEventListener("upgradeneeded",_=>{a(or(d.result),_.oldVersion,_.newVersion,or(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const BS=["get","getKey","getAll","getAllKeys","count"],qS=["put","add","delete","clear"],Jd=new Map;function u_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Jd.get(e))return Jd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=qS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||BS.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&_.done]))[0]};return Jd.set(e,c),c}LS(s=>({...s,get:(e,i,a)=>u_(e,i)||s.get(e,i,a),has:(e,i)=>!!u_(e,i)||s.has(e,i)}));class HS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(FS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function FS(s){return s.getComponent()?.type==="VERSION"}const cm="@firebase/app",c_="0.14.8";const gs=new Lm("@firebase/app"),GS="@firebase/app-compat",YS="@firebase/analytics-compat",KS="@firebase/analytics",QS="@firebase/app-check-compat",XS="@firebase/app-check",$S="@firebase/auth",JS="@firebase/auth-compat",ZS="@firebase/database",WS="@firebase/data-connect",ex="@firebase/database-compat",tx="@firebase/functions",nx="@firebase/functions-compat",ix="@firebase/installations",sx="@firebase/installations-compat",rx="@firebase/messaging",ax="@firebase/messaging-compat",ox="@firebase/performance",lx="@firebase/performance-compat",ux="@firebase/remote-config",cx="@firebase/remote-config-compat",hx="@firebase/storage",fx="@firebase/storage-compat",dx="@firebase/firestore",mx="@firebase/ai",gx="@firebase/firestore-compat",px="firebase",yx="12.9.0";const hm="[DEFAULT]",_x={[cm]:"fire-core",[GS]:"fire-core-compat",[KS]:"fire-analytics",[YS]:"fire-analytics-compat",[XS]:"fire-app-check",[QS]:"fire-app-check-compat",[$S]:"fire-auth",[JS]:"fire-auth-compat",[ZS]:"fire-rtdb",[WS]:"fire-data-connect",[ex]:"fire-rtdb-compat",[tx]:"fire-fn",[nx]:"fire-fn-compat",[ix]:"fire-iid",[sx]:"fire-iid-compat",[rx]:"fire-fcm",[ax]:"fire-fcm-compat",[ox]:"fire-perf",[lx]:"fire-perf-compat",[ux]:"fire-rc",[cx]:"fire-rc-compat",[hx]:"fire-gcs",[fx]:"fire-gcs-compat",[dx]:"fire-fst",[gx]:"fire-fst-compat",[mx]:"fire-vertex","fire-js":"fire-js",[px]:"fire-js-all"};const ih=new Map,vx=new Map,fm=new Map;function h_(s,e){try{s.container.addComponent(e)}catch(i){gs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function mo(s){const e=s.name;if(fm.has(e))return gs.debug(`There were multiple attempts to register component ${e}.`),!1;fm.set(e,s);for(const i of ih.values())h_(i,s);for(const i of vx.values())h_(i,s);return!0}function Um(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Tn(s){return s==null?!1:s.settings!==void 0}const bx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new ru("app","Firebase",bx);class Ex{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const To=yx;function Kv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:hm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw lr.create("bad-app-name",{appName:String(l)});if(i||(i=Bv()),!i)throw lr.create("no-options");const c=ih.get(l);if(c){if(ia(i,c.options)&&ia(a,c.config))return c;throw lr.create("duplicate-app",{appName:l})}const d=new RS(l);for(const _ of fm.values())d.addComponent(_);const g=new Ex(i,a,d);return ih.set(l,g),g}function Qv(s=hm){const e=ih.get(s);if(!e&&s===hm&&Bv())return Kv();if(!e)throw lr.create("no-app",{appName:s});return e}function ur(s,e,i){let a=_x[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gs.warn(d.join(" "));return}mo(new sa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const Tx="firebase-heartbeat-database",Sx=1,Kl="firebase-heartbeat-store";let Zd=null;function Xv(){return Zd||(Zd=zS(Tx,Sx,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Kl)}catch(i){console.warn(i)}}}}).catch(s=>{throw lr.create("idb-open",{originalErrorMessage:s.message})})),Zd}async function xx(s){try{const i=(await Xv()).transaction(Kl),a=await i.objectStore(Kl).get($v(s));return await i.done,a}catch(e){if(e instanceof vs)gs.warn(e.message);else{const i=lr.create("idb-get",{originalErrorMessage:e?.message});gs.warn(i.message)}}}async function f_(s,e){try{const a=(await Xv()).transaction(Kl,"readwrite");await a.objectStore(Kl).put(e,$v(s)),await a.done}catch(i){if(i instanceof vs)gs.warn(i.message);else{const a=lr.create("idb-set",{originalErrorMessage:i?.message});gs.warn(a.message)}}}function $v(s){return`${s.name}!${s.options.appId}`}const Ax=1024,wx=30;class Rx{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Cx(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=d_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>wx){const l=Ix(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=d_(),{heartbeatsToSend:i,unsentEntries:a}=Nx(this._heartbeatsCache.heartbeats),l=nh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return gs.warn(e),""}}}function d_(){return new Date().toISOString().substring(0,10)}function Nx(s,e=Ax){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),m_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),m_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Cx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gS()?pS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await xx(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return f_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return f_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function m_(s){return nh(JSON.stringify({version:2,heartbeats:s})).length}function Ix(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function Dx(s){mo(new sa("platform-logger",e=>new HS(e),"PRIVATE")),mo(new sa("heartbeat",e=>new Rx(e),"PRIVATE")),ur(cm,c_,s),ur(cm,c_,"esm2020"),ur("fire-js","")}Dx("");var Mx="firebase",Ox="12.9.0";ur(Mx,Ox,"app");function Jv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kx=Jv,Zv=new ru("auth","Firebase",Jv());const sh=new Lm("@firebase/auth");function Vx(s,...e){sh.logLevel<=qe.WARN&&sh.warn(`Auth (${To}): ${s}`,...e)}function Gc(s,...e){sh.logLevel<=qe.ERROR&&sh.error(`Auth (${To}): ${s}`,...e)}function li(s,...e){throw zm(s,...e)}function Oi(s,...e){return zm(s,...e)}function Wv(s,e,i){const a={...kx(),[e]:i};return new ru("auth","Firebase",a).create(e,{appName:s.name})}function ai(s){return Wv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Zv.create(s,...e)}function be(s,e,...i){if(!s)throw zm(e,...i)}function ds(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Gc(e),new Error(e)}function ps(s,e){s||ds(e)}function dm(){return typeof self<"u"&&self.location?.href||""}function jx(){return g_()==="http:"||g_()==="https:"}function g_(){return typeof self<"u"&&self.location?.protocol||null}function Lx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jx()||hS()||"connection"in navigator)?navigator.onLine:!0}function Px(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class ou{constructor(e,i){this.shortDelay=e,this.longDelay=i,ps(i>e,"Short delay should be less than long delay!"),this.isMobile=lS()||fS()}get(){return Lx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bm(s,e){ps(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class e1{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ux={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const zx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Bx=new ou(3e4,6e4);function bs(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function _r(s,e,i,a,l={}){return t1(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=au({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const v={method:e,headers:_,...c};return cS()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&Eo(s.emulatorConfig.host)&&(v.credentials="include"),e1.fetch()(await n1(s,s.config.apiHost,i,g),v)})}async function t1(s,e,i){s._canInitEmulator=!1;const a={...Ux,...e};try{const l=new Hx(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Uc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,v]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Uc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Uc(s,"user-disabled",d);const S=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Wv(s,S,v);li(s,S)}}catch(l){if(l instanceof vs)throw l;li(s,"network-request-failed",{message:String(l)})}}async function So(s,e,i,a,l={}){const c=await _r(s,e,i,a,l);return"mfaPendingCredential"in c&&li(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function n1(s,e,i,a){const l=`${e}${i}?${a}`,c=s,d=c.config.emulator?Bm(s.config,l):`${s.config.apiScheme}://${l}`;return zx.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function qx(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Oi(this.auth,"network-request-failed")),Bx.get())})}}function Uc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Oi(s,e,a);return l.customData._tokenResponse=i,l}function p_(s){return s!==void 0&&s.enterprise!==void 0}class Fx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return qx(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Gx(s,e){return _r(s,"GET","/v2/recaptchaConfig",bs(s,e))}async function Yx(s,e){return _r(s,"POST","/v1/accounts:delete",e)}async function rh(s,e){return _r(s,"POST","/v1/accounts:lookup",e)}function ql(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Kx(s,e=!1){const i=cn(s),a=await i.getIdToken(e),l=qm(a);be(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:ql(Wd(l.auth_time)),issuedAtTime:ql(Wd(l.iat)),expirationTime:ql(Wd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Wd(s){return Number(s)*1e3}function qm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Uv(i);return l?JSON.parse(l):(Gc("Failed to decode base64 JWT payload"),null)}catch(l){return Gc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function y_(s){const e=qm(s);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ql(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof vs&&Qx(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Qx({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Xx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=ql(this.lastLoginAt),this.creationTime=ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ah(s){const e=s.auth,i=await s.getIdToken(),a=await Ql(s,rh(e,{idToken:i}));be(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?i1(l.providerUserInfo):[],d=Jx(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,v=g?_:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new mm(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(s,S)}async function $x(s){const e=cn(s);await ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Jx(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function i1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Zx(s,e){const i=await t1(s,{},async()=>{const a=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await n1(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return s.emulatorConfig&&Eo(s.emulatorConfig.host)&&(_.credentials="include"),e1.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Wx(s,e){return _r(s,"POST","/v2/accounts:revokeToken",bs(s,e))}class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):y_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){be(e.length!==0,"internal-error");const i=y_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Zx(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new oo;return a&&(be(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(be(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(be(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return ds("not implemented")}}function er(s,e){be(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class si{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new Xx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new mm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return be(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Kx(this,e)}reload(){return $x(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await ah(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(ai(this.auth));const e=await this.getIdToken();return await Ql(this,Yx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:R,emailVerified:V,isAnonymous:G,providerData:W,stsTokenManager:J}=i;be(R&&J,e,"internal-error");const Z=oo.fromJSON(this.name,J);be(typeof R=="string",e,"internal-error"),er(a,e.name),er(l,e.name),be(typeof V=="boolean",e,"internal-error"),be(typeof G=="boolean",e,"internal-error"),er(c,e.name),er(d,e.name),er(g,e.name),er(_,e.name),er(v,e.name),er(S,e.name);const ae=new si({uid:R,auth:e,email:l,emailVerified:V,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:Z,createdAt:v,lastLoginAt:S});return W&&Array.isArray(W)&&(ae.providerData=W.map(ce=>({...ce}))),_&&(ae._redirectEventId=_),ae}static async _fromIdTokenResponse(e,i,a=!1){const l=new oo;l.updateFromServerResponse(i);const c=new si({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await ah(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];be(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?i1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new oo;g.updateFromIdToken(a);const _=new si({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new mm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,v),_}}const __=new Map;function ms(s){ps(s instanceof Function,"Expected a class definition");let e=__.get(s);return e?(ps(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,__.set(s,e),e)}class s1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}s1.type="NONE";const v_=s1;function Yc(s,e,i){return`firebase:${s}:${e}:${i}`}class lo{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Yc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Yc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await rh(this.auth,{idToken:e}).catch(()=>{});return i?si._fromGetAccountInfoResponse(this.auth,i,e):null}return si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new lo(ms(v_),e,a);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||ms(v_);const d=Yc(a,e.config.apiKey,e.name);let g=null;for(const v of i)try{const S=await v._get(d);if(S){let R;if(typeof S=="string"){const V=await rh(e,{idToken:S}).catch(()=>{});if(!V)break;R=await si._fromGetAccountInfoResponse(e,V,S)}else R=si._fromJSON(e,S);v!==c&&(g=R),c=v;break}}catch{}const _=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new lo(c,e,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new lo(c,e,a))}}function b_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(l1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(r1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(c1(e))return"Blackberry";if(h1(e))return"Webos";if(a1(e))return"Safari";if((e.includes("chrome/")||o1(e))&&!e.includes("edge/"))return"Chrome";if(u1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function r1(s=on()){return/firefox\//i.test(s)}function a1(s=on()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function o1(s=on()){return/crios\//i.test(s)}function l1(s=on()){return/iemobile/i.test(s)}function u1(s=on()){return/android/i.test(s)}function c1(s=on()){return/blackberry/i.test(s)}function h1(s=on()){return/webos/i.test(s)}function Hm(s=on()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function eA(s=on()){return Hm(s)&&!!window.navigator?.standalone}function tA(){return dS()&&document.documentMode===10}function f1(s=on()){return Hm(s)||u1(s)||h1(s)||c1(s)||/windows phone/i.test(s)||l1(s)}function d1(s,e=[]){let i;switch(s){case"Browser":i=b_(on());break;case"Worker":i=`${b_(on())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${To}/${a}`}class nA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function iA(s,e={}){return _r(s,"GET","/v2/passwordPolicy",bs(s,e))}const sA=6;class rA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??sA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class aA{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E_(this),this.idTokenSubscription=new E_(this),this.beforeStateQueue=new nA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ms(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await rh(this,{idToken:e}),a=await si._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Tn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ah(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Px()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(ai(this));const i=e?cn(e):null;return i&&be(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iA(this),i=new rA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ru("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Wx(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ms(e)||this._popupRedirectResolver;be(i,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[ms(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=d1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Vx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Es(s){return cn(s)}class E_{constructor(e){this.auth=e,this.observer=null,this.addObserver=ES(i=>this.observer=i)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oA(s){wh=s}function m1(s){return wh.loadJS(s)}function lA(){return wh.recaptchaEnterpriseScript}function uA(){return wh.gapiScript}function cA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class hA{constructor(){this.enterprise=new fA}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class fA{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const dA="recaptcha-enterprise",g1="NO_RECAPTCHA";class mA{constructor(e){this.type=dA,this.auth=Es(e)}async verify(e="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{Gx(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const v=new Fx(_);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(_=>{g(_)})})}function l(c,d,g){const _=window.grecaptcha;p_(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:e}).then(v=>{d(v)}).catch(()=>{d(g1)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hA().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(g=>{if(!i&&p_(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=lA();_.length!==0&&(_+=g),m1(_).then(()=>{l(g,c,d)}).catch(v=>{d(v)})}}).catch(g=>{d(g)})})}}async function T_(s,e,i,a=!1,l=!1){const c=new mA(s);let d;if(l)d=g1;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const g={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const _=g.phoneEnrollmentInfo.phoneNumber,v=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const _=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return a?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function gm(s,e,i,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await T_(s,e,i,i==="getOobCode");return a(s,c)}else return a(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await T_(s,e,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function gA(s,e){const i=Um(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ia(c,e??{}))return l;li(l,"already-initialized")}return i.initialize({options:e})}function pA(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ms);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function yA(s,e,i){const a=Es(s);be(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=p1(e),{host:d,port:g}=_A(e),_=g===null?"":`:${g}`,v={url:`${c}//${d}${_}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){be(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),be(ia(v,a.config.emulator)&&ia(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,Eo(d)?(Hv(`${c}//${d}${_}`),Fv("Auth",!0)):vA()}function p1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function _A(s){const e=p1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:S_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:S_(d)}}}function S_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function vA(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Fm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ds("not implemented")}_getIdTokenResponse(e){return ds("not implemented")}_linkToIdToken(e,i){return ds("not implemented")}_getReauthenticationResolver(e){return ds("not implemented")}}async function bA(s,e){return _r(s,"POST","/v1/accounts:signUp",e)}async function EA(s,e){return So(s,"POST","/v1/accounts:signInWithPassword",bs(s,e))}async function TA(s,e){return So(s,"POST","/v1/accounts:signInWithEmailLink",bs(s,e))}async function SA(s,e){return So(s,"POST","/v1/accounts:signInWithEmailLink",bs(s,e))}class Xl extends Fm{constructor(e,i,a,l=null){super("password",a),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Xl(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new Xl(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gm(e,i,"signInWithPassword",EA);case"emailLink":return TA(e,{email:this._email,oobCode:this._password});default:li(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gm(e,a,"signUpPassword",bA);case"emailLink":return SA(e,{idToken:i,email:this._email,oobCode:this._password});default:li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function uo(s,e){return So(s,"POST","/v1/accounts:signInWithIdp",bs(s,e))}const xA="http://localhost";class ra extends Fm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):li("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ra(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return uo(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,uo(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,uo(e,i)}buildRequest(){const e={requestUri:xA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=au(i)}return e}}function AA(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wA(s){const e=Vl(jl(s)).link,i=e?Vl(jl(e)).deep_link_id:null,a=Vl(jl(s)).deep_link_id;return(a?Vl(jl(a)).link:null)||a||i||e||s}class Gm{constructor(e){const i=Vl(jl(e)),a=i.apiKey??null,l=i.oobCode??null,c=AA(i.mode??null);be(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=wA(e);try{return new Gm(i)}catch{return null}}}class xo{constructor(){this.providerId=xo.PROVIDER_ID}static credential(e,i){return Xl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=Gm.parseLink(i);return be(a,"argument-error"),Xl._fromEmailAndCode(e,a.code,a.tenantId)}}xo.PROVIDER_ID="password";xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class y1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lu extends y1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class nr extends lu{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nr.credential(e.oauthAccessToken)}catch{return null}}}nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";nr.PROVIDER_ID="facebook.com";class ir extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ra._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return ir.credential(i,a)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";class sr extends lu{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.GITHUB_SIGN_IN_METHOD="github.com";sr.PROVIDER_ID="github.com";class rr extends lu{constructor(){super("twitter.com")}static credential(e,i){return ra._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return rr.credential(i,a)}catch{return null}}}rr.TWITTER_SIGN_IN_METHOD="twitter.com";rr.PROVIDER_ID="twitter.com";async function _1(s,e){return So(s,"POST","/v1/accounts:signUp",bs(s,e))}class Ui{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await si._fromIdTokenResponse(e,a,l),d=x_(a);return new Ui({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=x_(a);return new Ui({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function x_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function RA(s){if(Tn(s.app))return Promise.reject(ai(s));const e=Es(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ui({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await _1(e,{returnSecureToken:!0}),a=await Ui._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class oh extends vs{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new oh(e,i,a,l)}}function v1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(s,c,e,a):c})}async function NA(s,e,i=!1){const a=await Ql(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Ui._forOperation(s,"link",a)}async function CA(s,e,i=!1){const{auth:a}=s;if(Tn(a.app))return Promise.reject(ai(a));const l="reauthenticate";try{const c=await Ql(s,v1(a,l,e,s),i);be(c.idToken,a,"internal-error");const d=qm(c.idToken);be(d,a,"internal-error");const{sub:g}=d;return be(s.uid===g,a,"user-mismatch"),Ui._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&li(a,"user-mismatch"),c}}async function b1(s,e,i=!1){if(Tn(s.app))return Promise.reject(ai(s));const a="signIn",l=await v1(s,a,e),c=await Ui._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function IA(s,e){return b1(Es(s),e)}async function DA(s,e){return So(s,"POST","/v1/accounts:signInWithCustomToken",bs(s,e))}async function MA(s,e){if(Tn(s.app))return Promise.reject(ai(s));const i=Es(s),a=await DA(i,{token:e,returnSecureToken:!0}),l=await Ui._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}async function E1(s){const e=Es(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function OA(s,e,i){if(Tn(s.app))return Promise.reject(ai(s));const a=Es(s),d=await gm(a,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_1).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&E1(s),_}),g=await Ui._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(g.user),g}function kA(s,e,i){return Tn(s.app)?Promise.reject(ai(s)):IA(cn(s),xo.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&E1(s),a})}function VA(s,e,i,a){return cn(s).onIdTokenChanged(e,i,a)}function jA(s,e,i){return cn(s).beforeAuthStateChanged(e,i)}function LA(s,e,i,a){return cn(s).onAuthStateChanged(e,i,a)}function PA(s){return cn(s).signOut()}const lh="__sak";class T1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const UA=1e3,zA=10;class S1 extends T1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=f1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);tA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,zA):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},UA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}S1.type="LOCAL";const BA=S1;class x1 extends T1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}x1.type="SESSION";const A1=x1;function qA(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Rh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new Rh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,c)),_=await qA(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];function Ym(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class HA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const v=Ym("",20);l.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(R){const V=R;if(V.data.eventId===v)switch(V.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(S),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function ki(){return window}function FA(s){ki().location.href=s}function w1(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function GA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YA(){return navigator?.serviceWorker?.controller||null}function KA(){return w1()?self:null}const R1="firebaseLocalStorageDb",QA=1,uh="firebaseLocalStorage",N1="fbase_key";class uu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Nh(s,e){return s.transaction([uh],e?"readwrite":"readonly").objectStore(uh)}function XA(){const s=indexedDB.deleteDatabase(R1);return new uu(s).toPromise()}function pm(){const s=indexedDB.open(R1,QA);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(uh,{keyPath:N1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(uh)?e(a):(a.close(),await XA(),e(await pm()))})})}async function A_(s,e,i){const a=Nh(s,!0).put({[N1]:e,value:i});return new uu(a).toPromise()}async function $A(s,e){const i=Nh(s,!1).get(e),a=await new uu(i).toPromise();return a===void 0?null:a.value}function w_(s,e){const i=Nh(s,!0).delete(e);return new uu(i).toPromise()}const JA=800,ZA=3;class C1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>ZA)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return w1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(KA()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await GA(),!this.activeServiceWorker)return;this.sender=new HA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pm();return await A_(e,lh,"1"),await w_(e,lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>A_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>$A(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>w_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Nh(l,!1).getAll();return new uu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}C1.type="LOCAL";const WA=C1;new ou(3e4,6e4);function e2(s,e){return e?ms(e):(be(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Km extends Fm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return uo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function t2(s){return b1(s.auth,new Km(s),s.bypassAuthState)}function n2(s){const{auth:e,user:i}=s;return be(i,e,"internal-error"),CA(i,new Km(s),s.bypassAuthState)}async function i2(s){const{auth:e,user:i}=s;return be(i,e,"internal-error"),NA(i,new Km(s),s.bypassAuthState)}class I1{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return t2;case"linkViaPopup":case"linkViaRedirect":return i2;case"reauthViaPopup":case"reauthViaRedirect":return n2;default:li(this.auth,"internal-error")}}resolve(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const s2=new ou(2e3,1e4);class ao extends I1{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const e=Ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,s2.get())};e()}}ao.currentPopupAction=null;const r2="pendingRedirect",Kc=new Map;class a2 extends I1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Kc.get(this.auth._key());if(!e){try{const a=await o2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Kc.set(this.auth._key(),e)}return this.bypassAuthState||Kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function o2(s,e){const i=c2(e),a=u2(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function l2(s,e){Kc.set(s._key(),e)}function u2(s){return ms(s._redirectPersistence)}function c2(s){return Yc(r2,s.config.apiKey,s.name)}async function h2(s,e,i=!1){if(Tn(s.app))return Promise.reject(ai(s));const a=Es(s),l=e2(a,e),d=await new a2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const f2=600*1e3;class d2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!m2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!D1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Oi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=f2&&this.cachedEventUids.clear(),this.cachedEventUids.has(R_(e))}saveEventToCache(e){this.cachedEventUids.add(R_(e)),this.lastProcessedEventTime=Date.now()}}function R_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function D1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function m2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D1(s);default:return!1}}async function g2(s,e={}){return _r(s,"GET","/v1/projects",e)}const p2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y2=/^https?/;async function _2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await g2(s);for(const i of e)try{if(v2(i))return}catch{}li(s,"unauthorized-domain")}function v2(s){const e=dm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!y2.test(i))return!1;if(p2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const b2=new ou(3e4,6e4);function N_(){const s=ki().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function E2(s){return new Promise((e,i)=>{function a(){N_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N_(),i(Oi(s,"network-request-failed"))},timeout:b2.get()})}if(ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ki().gapi?.load)a();else{const l=cA("iframefcb");return ki()[l]=()=>{gapi.load?a():i(Oi(s,"network-request-failed"))},m1(`${uA()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function T2(s){return Qc=Qc||E2(s),Qc}const S2=new ou(5e3,15e3),x2="__/auth/iframe",A2="emulator/auth/iframe",w2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N2(s){const e=s.config;be(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Bm(e,A2):`https://${s.config.authDomain}/${x2}`,a={apiKey:e.apiKey,appName:s.name,v:To},l=R2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${au(a).slice(1)}`}async function C2(s){const e=await T2(s),i=ki().gapi;return be(i,s,"internal-error"),e.open({where:document.body,url:N2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Oi(s,"network-request-failed"),g=ki().setTimeout(()=>{c(d)},S2.get());function _(){ki().clearTimeout(g),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const I2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D2=500,M2=600,O2="_blank",k2="http://localhost";class C_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V2(s,e,i,a=D2,l=M2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...I2,width:a.toString(),height:l.toString(),top:c,left:d},v=on().toLowerCase();i&&(g=o1(v)?O2:i),r1(v)&&(e=e||k2,_.scrollbars="yes");const S=Object.entries(_).reduce((V,[G,W])=>`${V}${G}=${W},`,"");if(eA(v)&&g!=="_self")return j2(e||"",g),new C_(null);const R=window.open(e||"",g,S);be(R,s,"popup-blocked");try{R.focus()}catch{}return new C_(R)}function j2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const L2="__/auth/handler",P2="emulator/auth/handler",U2=encodeURIComponent("fac");async function I_(s,e,i,a,l,c){be(s.config.authDomain,s,"auth-domain-config-required"),be(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:To,eventId:l};if(e instanceof y1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",bS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,R]of Object.entries({}))d[S]=R}if(e instanceof lu){const S=e.getScopes().filter(R=>R!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const _=await s._getAppCheckToken(),v=_?`#${U2}=${encodeURIComponent(_)}`:"";return`${z2(s)}?${au(g).slice(1)}${v}`}function z2({config:s}){return s.emulator?Bm(s,P2):`https://${s.authDomain}/${L2}`}const em="webStorageSupport";class B2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=A1,this._completeRedirectFn=h2,this._overrideRedirectResult=l2}async _openPopup(e,i,a,l){ps(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await I_(e,i,a,dm(),l);return V2(e,c,Ym())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await I_(e,i,a,dm(),l);return FA(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ps(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await C2(e),a=new d2(e);return i.register("authEvent",l=>(be(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(em,{type:em},l=>{const c=l?.[0]?.[em];c!==void 0&&i(!!c),li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=_2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return f1()||a1()||Hm()}}const q2=B2;var D_="@firebase/auth",M_="1.12.0";class H2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function F2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function G2(s){mo(new sa("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;be(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d1(s)},v=new aA(a,l,c,_);return pA(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),mo(new sa("auth-internal",e=>{const i=Es(e.getProvider("auth").getImmediate());return(a=>new H2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(D_,M_,F2(s)),ur(D_,M_,"esm2020")}const Y2=300,K2=qv("authIdTokenMaxAge")||Y2;let O_=null;const Q2=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>K2)return;const l=i?.token;O_!==l&&(O_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function X2(s=Qv()){const e=Um(s,"auth");if(e.isInitialized())return e.getImmediate();const i=gA(s,{popupRedirectResolver:q2,persistence:[WA,BA,A1]}),a=qv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Q2(c.toString());jA(i,d,()=>d(i.currentUser)),VA(i,g=>d(g))}}const l=zv("auth");return l&&yA(i,`http://${l}`),i}function $2(){return document.getElementsByTagName("head")?.[0]??document}oA({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=Oi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",$2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});G2("Browser");var k_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cr,M1;(function(){var s;function e(w,A){function N(){}N.prototype=A.prototype,w.F=A.prototype,w.prototype=new N,w.prototype.constructor=w,w.D=function(I,D,k){for(var x=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)x[pe-2]=arguments[pe];return A.prototype[D].apply(I,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(w,A,N){N||(N=0);const I=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)I[D]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(D=0;D<16;++D)I[D]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=w.g[0],N=w.g[1],D=w.g[2];let k=w.g[3],x;x=A+(k^N&(D^k))+I[0]+3614090360&4294967295,A=N+(x<<7&4294967295|x>>>25),x=k+(D^A&(N^D))+I[1]+3905402710&4294967295,k=A+(x<<12&4294967295|x>>>20),x=D+(N^k&(A^N))+I[2]+606105819&4294967295,D=k+(x<<17&4294967295|x>>>15),x=N+(A^D&(k^A))+I[3]+3250441966&4294967295,N=D+(x<<22&4294967295|x>>>10),x=A+(k^N&(D^k))+I[4]+4118548399&4294967295,A=N+(x<<7&4294967295|x>>>25),x=k+(D^A&(N^D))+I[5]+1200080426&4294967295,k=A+(x<<12&4294967295|x>>>20),x=D+(N^k&(A^N))+I[6]+2821735955&4294967295,D=k+(x<<17&4294967295|x>>>15),x=N+(A^D&(k^A))+I[7]+4249261313&4294967295,N=D+(x<<22&4294967295|x>>>10),x=A+(k^N&(D^k))+I[8]+1770035416&4294967295,A=N+(x<<7&4294967295|x>>>25),x=k+(D^A&(N^D))+I[9]+2336552879&4294967295,k=A+(x<<12&4294967295|x>>>20),x=D+(N^k&(A^N))+I[10]+4294925233&4294967295,D=k+(x<<17&4294967295|x>>>15),x=N+(A^D&(k^A))+I[11]+2304563134&4294967295,N=D+(x<<22&4294967295|x>>>10),x=A+(k^N&(D^k))+I[12]+1804603682&4294967295,A=N+(x<<7&4294967295|x>>>25),x=k+(D^A&(N^D))+I[13]+4254626195&4294967295,k=A+(x<<12&4294967295|x>>>20),x=D+(N^k&(A^N))+I[14]+2792965006&4294967295,D=k+(x<<17&4294967295|x>>>15),x=N+(A^D&(k^A))+I[15]+1236535329&4294967295,N=D+(x<<22&4294967295|x>>>10),x=A+(D^k&(N^D))+I[1]+4129170786&4294967295,A=N+(x<<5&4294967295|x>>>27),x=k+(N^D&(A^N))+I[6]+3225465664&4294967295,k=A+(x<<9&4294967295|x>>>23),x=D+(A^N&(k^A))+I[11]+643717713&4294967295,D=k+(x<<14&4294967295|x>>>18),x=N+(k^A&(D^k))+I[0]+3921069994&4294967295,N=D+(x<<20&4294967295|x>>>12),x=A+(D^k&(N^D))+I[5]+3593408605&4294967295,A=N+(x<<5&4294967295|x>>>27),x=k+(N^D&(A^N))+I[10]+38016083&4294967295,k=A+(x<<9&4294967295|x>>>23),x=D+(A^N&(k^A))+I[15]+3634488961&4294967295,D=k+(x<<14&4294967295|x>>>18),x=N+(k^A&(D^k))+I[4]+3889429448&4294967295,N=D+(x<<20&4294967295|x>>>12),x=A+(D^k&(N^D))+I[9]+568446438&4294967295,A=N+(x<<5&4294967295|x>>>27),x=k+(N^D&(A^N))+I[14]+3275163606&4294967295,k=A+(x<<9&4294967295|x>>>23),x=D+(A^N&(k^A))+I[3]+4107603335&4294967295,D=k+(x<<14&4294967295|x>>>18),x=N+(k^A&(D^k))+I[8]+1163531501&4294967295,N=D+(x<<20&4294967295|x>>>12),x=A+(D^k&(N^D))+I[13]+2850285829&4294967295,A=N+(x<<5&4294967295|x>>>27),x=k+(N^D&(A^N))+I[2]+4243563512&4294967295,k=A+(x<<9&4294967295|x>>>23),x=D+(A^N&(k^A))+I[7]+1735328473&4294967295,D=k+(x<<14&4294967295|x>>>18),x=N+(k^A&(D^k))+I[12]+2368359562&4294967295,N=D+(x<<20&4294967295|x>>>12),x=A+(N^D^k)+I[5]+4294588738&4294967295,A=N+(x<<4&4294967295|x>>>28),x=k+(A^N^D)+I[8]+2272392833&4294967295,k=A+(x<<11&4294967295|x>>>21),x=D+(k^A^N)+I[11]+1839030562&4294967295,D=k+(x<<16&4294967295|x>>>16),x=N+(D^k^A)+I[14]+4259657740&4294967295,N=D+(x<<23&4294967295|x>>>9),x=A+(N^D^k)+I[1]+2763975236&4294967295,A=N+(x<<4&4294967295|x>>>28),x=k+(A^N^D)+I[4]+1272893353&4294967295,k=A+(x<<11&4294967295|x>>>21),x=D+(k^A^N)+I[7]+4139469664&4294967295,D=k+(x<<16&4294967295|x>>>16),x=N+(D^k^A)+I[10]+3200236656&4294967295,N=D+(x<<23&4294967295|x>>>9),x=A+(N^D^k)+I[13]+681279174&4294967295,A=N+(x<<4&4294967295|x>>>28),x=k+(A^N^D)+I[0]+3936430074&4294967295,k=A+(x<<11&4294967295|x>>>21),x=D+(k^A^N)+I[3]+3572445317&4294967295,D=k+(x<<16&4294967295|x>>>16),x=N+(D^k^A)+I[6]+76029189&4294967295,N=D+(x<<23&4294967295|x>>>9),x=A+(N^D^k)+I[9]+3654602809&4294967295,A=N+(x<<4&4294967295|x>>>28),x=k+(A^N^D)+I[12]+3873151461&4294967295,k=A+(x<<11&4294967295|x>>>21),x=D+(k^A^N)+I[15]+530742520&4294967295,D=k+(x<<16&4294967295|x>>>16),x=N+(D^k^A)+I[2]+3299628645&4294967295,N=D+(x<<23&4294967295|x>>>9),x=A+(D^(N|~k))+I[0]+4096336452&4294967295,A=N+(x<<6&4294967295|x>>>26),x=k+(N^(A|~D))+I[7]+1126891415&4294967295,k=A+(x<<10&4294967295|x>>>22),x=D+(A^(k|~N))+I[14]+2878612391&4294967295,D=k+(x<<15&4294967295|x>>>17),x=N+(k^(D|~A))+I[5]+4237533241&4294967295,N=D+(x<<21&4294967295|x>>>11),x=A+(D^(N|~k))+I[12]+1700485571&4294967295,A=N+(x<<6&4294967295|x>>>26),x=k+(N^(A|~D))+I[3]+2399980690&4294967295,k=A+(x<<10&4294967295|x>>>22),x=D+(A^(k|~N))+I[10]+4293915773&4294967295,D=k+(x<<15&4294967295|x>>>17),x=N+(k^(D|~A))+I[1]+2240044497&4294967295,N=D+(x<<21&4294967295|x>>>11),x=A+(D^(N|~k))+I[8]+1873313359&4294967295,A=N+(x<<6&4294967295|x>>>26),x=k+(N^(A|~D))+I[15]+4264355552&4294967295,k=A+(x<<10&4294967295|x>>>22),x=D+(A^(k|~N))+I[6]+2734768916&4294967295,D=k+(x<<15&4294967295|x>>>17),x=N+(k^(D|~A))+I[13]+1309151649&4294967295,N=D+(x<<21&4294967295|x>>>11),x=A+(D^(N|~k))+I[4]+4149444226&4294967295,A=N+(x<<6&4294967295|x>>>26),x=k+(N^(A|~D))+I[11]+3174756917&4294967295,k=A+(x<<10&4294967295|x>>>22),x=D+(A^(k|~N))+I[2]+718787259&4294967295,D=k+(x<<15&4294967295|x>>>17),x=N+(k^(D|~A))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+A&4294967295,w.g[1]=w.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,w.g[2]=w.g[2]+D&4294967295,w.g[3]=w.g[3]+k&4294967295}a.prototype.v=function(w,A){A===void 0&&(A=w.length);const N=A-this.blockSize,I=this.C;let D=this.h,k=0;for(;k<A;){if(D==0)for(;k<=N;)l(this,w,k),k+=this.blockSize;if(typeof w=="string"){for(;k<A;)if(I[D++]=w.charCodeAt(k++),D==this.blockSize){l(this,I),D=0;break}}else for(;k<A;)if(I[D++]=w[k++],D==this.blockSize){l(this,I),D=0;break}}this.h=D,this.o+=A},a.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var A=1;A<w.length-8;++A)w[A]=0;A=this.o*8;for(var N=w.length-8;N<w.length;++N)w[N]=A&255,A/=256;for(this.v(w),w=Array(16),A=0,N=0;N<4;++N)for(let I=0;I<32;I+=8)w[A++]=this.g[N]>>>I&255;return w};function c(w,A){var N=g;return Object.prototype.hasOwnProperty.call(N,w)?N[w]:N[w]=A(w)}function d(w,A){this.h=A;const N=[];let I=!0;for(let D=w.length-1;D>=0;D--){const k=w[D]|0;I&&k==A||(N[D]=k,I=!1)}this.g=N}var g={};function _(w){return-128<=w&&w<128?c(w,function(A){return new d([A|0],A<0?-1:0)}):new d([w|0],w<0?-1:0)}function v(w){if(isNaN(w)||!isFinite(w))return R;if(w<0)return Z(v(-w));const A=[];let N=1;for(let I=0;w>=N;I++)A[I]=w/N|0,N*=4294967296;return new d(A,0)}function S(w,A){if(w.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(w.charAt(0)=="-")return Z(S(w.substring(1),A));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=v(Math.pow(A,8));let I=R;for(let k=0;k<w.length;k+=8){var D=Math.min(8,w.length-k);const x=parseInt(w.substring(k,k+D),A);D<8?(D=v(Math.pow(A,D)),I=I.j(D).add(v(x))):(I=I.j(N),I=I.add(v(x)))}return I}var R=_(0),V=_(1),G=_(16777216);s=d.prototype,s.m=function(){if(J(this))return-Z(this).m();let w=0,A=1;for(let N=0;N<this.g.length;N++){const I=this.i(N);w+=(I>=0?I:4294967296+I)*A,A*=4294967296}return w},s.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(W(this))return"0";if(J(this))return"-"+Z(this).toString(w);const A=v(Math.pow(w,6));var N=this;let I="";for(;;){const D=xe(N,A).g;N=ae(N,D.j(A));let k=((N.g.length>0?N.g[0]:N.h)>>>0).toString(w);if(N=D,W(N))return k+I;for(;k.length<6;)k="0"+k;I=k+I}},s.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function W(w){if(w.h!=0)return!1;for(let A=0;A<w.g.length;A++)if(w.g[A]!=0)return!1;return!0}function J(w){return w.h==-1}s.l=function(w){return w=ae(this,w),J(w)?-1:W(w)?0:1};function Z(w){const A=w.g.length,N=[];for(let I=0;I<A;I++)N[I]=~w.g[I];return new d(N,~w.h).add(V)}s.abs=function(){return J(this)?Z(this):this},s.add=function(w){const A=Math.max(this.g.length,w.g.length),N=[];let I=0;for(let D=0;D<=A;D++){let k=I+(this.i(D)&65535)+(w.i(D)&65535),x=(k>>>16)+(this.i(D)>>>16)+(w.i(D)>>>16);I=x>>>16,k&=65535,x&=65535,N[D]=x<<16|k}return new d(N,N[N.length-1]&-2147483648?-1:0)};function ae(w,A){return w.add(Z(A))}s.j=function(w){if(W(this)||W(w))return R;if(J(this))return J(w)?Z(this).j(Z(w)):Z(Z(this).j(w));if(J(w))return Z(this.j(Z(w)));if(this.l(G)<0&&w.l(G)<0)return v(this.m()*w.m());const A=this.g.length+w.g.length,N=[];for(var I=0;I<2*A;I++)N[I]=0;for(I=0;I<this.g.length;I++)for(let D=0;D<w.g.length;D++){const k=this.i(I)>>>16,x=this.i(I)&65535,pe=w.i(D)>>>16,Ne=w.i(D)&65535;N[2*I+2*D]+=x*Ne,ce(N,2*I+2*D),N[2*I+2*D+1]+=k*Ne,ce(N,2*I+2*D+1),N[2*I+2*D+1]+=x*pe,ce(N,2*I+2*D+1),N[2*I+2*D+2]+=k*pe,ce(N,2*I+2*D+2)}for(w=0;w<A;w++)N[w]=N[2*w+1]<<16|N[2*w];for(w=A;w<2*A;w++)N[w]=0;return new d(N,0)};function ce(w,A){for(;(w[A]&65535)!=w[A];)w[A+1]+=w[A]>>>16,w[A]&=65535,A++}function fe(w,A){this.g=w,this.h=A}function xe(w,A){if(W(A))throw Error("division by zero");if(W(w))return new fe(R,R);if(J(w))return A=xe(Z(w),A),new fe(Z(A.g),Z(A.h));if(J(A))return A=xe(w,Z(A)),new fe(Z(A.g),A.h);if(w.g.length>30){if(J(w)||J(A))throw Error("slowDivide_ only works with positive integers.");for(var N=V,I=A;I.l(w)<=0;)N=Ve(N),I=Ve(I);var D=Te(N,1),k=Te(I,1);for(I=Te(I,2),N=Te(N,2);!W(I);){var x=k.add(I);x.l(w)<=0&&(D=D.add(N),k=x),I=Te(I,1),N=Te(N,1)}return A=ae(w,D.j(A)),new fe(D,A)}for(D=R;w.l(A)>=0;){for(N=Math.max(1,Math.floor(w.m()/A.m())),I=Math.ceil(Math.log(N)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),k=v(N),x=k.j(A);J(x)||x.l(w)>0;)N-=I,k=v(N),x=k.j(A);W(k)&&(k=V),D=D.add(k),w=ae(w,x)}return new fe(D,w)}s.B=function(w){return xe(this,w).h},s.and=function(w){const A=Math.max(this.g.length,w.g.length),N=[];for(let I=0;I<A;I++)N[I]=this.i(I)&w.i(I);return new d(N,this.h&w.h)},s.or=function(w){const A=Math.max(this.g.length,w.g.length),N=[];for(let I=0;I<A;I++)N[I]=this.i(I)|w.i(I);return new d(N,this.h|w.h)},s.xor=function(w){const A=Math.max(this.g.length,w.g.length),N=[];for(let I=0;I<A;I++)N[I]=this.i(I)^w.i(I);return new d(N,this.h^w.h)};function Ve(w){const A=w.g.length+1,N=[];for(let I=0;I<A;I++)N[I]=w.i(I)<<1|w.i(I-1)>>>31;return new d(N,w.h)}function Te(w,A){const N=A>>5;A%=32;const I=w.g.length-N,D=[];for(let k=0;k<I;k++)D[k]=A>0?w.i(k+N)>>>A|w.i(k+N+1)<<32-A:w.i(k+N);return new d(D,w.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,M1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=S,cr=d}).apply(typeof k_<"u"?k_:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var O1,Ll,k1,Xc,ym,V1,j1,L1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var b=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in b))break e;b=b[L]}u=u[u.length-1],T=b[u],m=m(T),m!=T&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var b=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&b.push([T,m[T]]);return b}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,b){return u.call.apply(u.bind,arguments)}function v(u,m,b){return v=_,v.apply(null,arguments)}function S(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function R(u,m){function b(){}b.prototype=m.prototype,u.Z=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var ee=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ee[Ie-2]=arguments[Ie];return m.prototype[L].apply(T,ee)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const b=Array(m);for(let T=0;T<m;T++)b[T]=u[T];return b}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var b=typeof L;if(b=b!="object"?b:L?Array.isArray(L)?"array":b:"null",b=="array"||b=="object"&&typeof L.length=="number"){b=u.length||0;const B=L.length||0;u.length=b+B;for(let ee=0;ee<B;ee++)u[b+ee]=L[ee]}else u.push(L)}}class J{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ae(){var u=w;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ce{constructor(){this.h=this.g=null}add(m,b){const T=fe.get();T.set(m,b),this.h?this.h.next=T:this.g=T,this.h=T}}var fe=new J(()=>new xe,u=>u.reset());class xe{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Ve,Te=!1,w=new ce,A=()=>{const u=Promise.resolve(void 0);Ve=()=>{u.then(N)}};function N(){for(var u;u=ae();){try{u.h.call(u.g)}catch(b){Z(b)}var m=fe;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Te=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function pe(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}R(pe,D),pe.prototype.init=function(u,m){const b=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),H=0;function te(u,m,b,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ue(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function je(u,m,b){for(const T in u)m.call(b,u[T],T,u)}function $e(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function O(u){const m={};for(const b in u)m[b]=u[b];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let b,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(b in T)u[b]=T[b];for(let B=0;B<K.length;B++)b=K[B],Object.prototype.hasOwnProperty.call(T,b)&&(u[b]=T[b])}}function se(u){this.src=u,this.g={},this.h=0}se.prototype.add=function(u,m,b,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ee=Ce(u,m,T,L);return ee>-1?(m=u[ee],b||(m.fa=!1)):(m=new te(m,this.src,B,!!T,L),m.fa=b,u.push(m)),m};function ve(u,m){const b=m.type;if(b in u.g){var T=u.g[b],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ue(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Ce(u,m,b,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!b&&B.ha==T)return L}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),_t={};function ut(u,m,b,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ut(u,m[B],b,T,L);return null}return b=Er(b),u&&u[Ne]?u.J(m,b,g(T)?!!T.capture:!1,L):ui(u,m,b,!1,T,L)}function ui(u,m,b,T,L,B){if(!m)throw Error("Invalid event type");const ee=g(L)?!!L.capture:!!L;let Ie=Fi(u);if(Ie||(u[Le]=Ie=new se(u)),b=Ie.add(m,b,T,ee,B),b.proxy)return b;if(T=qi(),b.proxy=T,T.src=u,T.listener=b,u.addEventListener)k||(L=ee),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(fn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function qi(){function u(b){return m.call(u.src,u.listener,b)}const m=vr;return u}function hn(u,m,b,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)hn(u,m[B],b,T,L);else T=g(T)?!!T.capture:!!T,b=Er(b),u&&u[Ne]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],b=Ce(m,b,T,L),b>-1&&(ue(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Fi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ce(m,b,T,L)),(b=u>-1?m[u]:null)&&Hi(b))}function Hi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ne])ve(m.i,u);else{var b=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(b,T,u.capture):m.detachEvent?m.detachEvent(fn(b),T):m.addListener&&m.removeListener&&m.removeListener(T),(b=Fi(m))?(ve(b,u),b.h==0&&(b.src=null,m[Le]=null)):ue(u)}}}function fn(u){return u in _t?_t[u]:_t[u]="on"+u}function vr(u,m){if(u.da)u=!0;else{m=new pe(m,this);const b=u.listener,T=u.ha||u.src;u.fa&&Hi(u),u=b.call(T,m)}return u}function Fi(u){return u=u[Le],u instanceof se?u:null}var br="__closure_events_fn_"+(Math.random()*1e9>>>0);function Er(u){return typeof u=="function"?u:(u[br]||(u[br]=function(m){return u.handleEvent(m)}),u[br])}function vt(){I.call(this),this.i=new se(this),this.M=this,this.G=null}R(vt,I),vt.prototype[Ne]=!0,vt.prototype.removeEventListener=function(u,m,b,T){hn(this,u,m,b,T)};function St(u,m){var b,T=u.G;if(T)for(b=[];T;T=T.G)b.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),ne(m,L)}L=!0;let B,ee;if(b)for(ee=b.length-1;ee>=0;ee--)B=m.g=b[ee],L=ci(B,T,!0,m)&&L;if(B=m.g=u,L=ci(B,T,!0,m)&&L,L=ci(B,T,!1,m)&&L,b)for(ee=0;ee<b.length;ee++)B=m.g=b[ee],L=ci(B,T,!1,m)&&L}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const b=u.g[m];for(let T=0;T<b.length;T++)ue(b[T]);delete u.g[m],u.h--}}this.G=null},vt.prototype.J=function(u,m,b,T){return this.i.add(String(u),m,!1,b,T)},vt.prototype.K=function(u,m,b,T){return this.i.add(String(u),m,!0,b,T)};function ci(u,m,b,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const ee=m[B];if(ee&&!ee.da&&ee.capture==b){const Ie=ee.listener,xt=ee.ha||ee.src;ee.fa&&ve(u.i,ee),L=Ie.call(xt,T)!==!1&&L}}return L&&!T.defaultPrevented}function Co(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function da(u){u.g=Co(()=>{u.g=null,u.i&&(u.i=!1,da(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Gt extends I{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:da(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gi(u){I.call(this),this.h=u,this.g={}}R(Gi,I);var Tr=[];function Sr(u){je(u.g,function(m,b){this.g.hasOwnProperty(b)&&Hi(m)},u),u.g={}}Gi.prototype.N=function(){Gi.Z.N.call(this),Sr(this)},Gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hi=d.JSON.stringify,Io=d.JSON.parse,ma=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function xr(){}function ie(){}var ye={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ae(){D.call(this,"d")}R(Ae,D);function Je(){D.call(this,"c")}R(Je,D);var Ke={},fi=null;function di(){return fi=fi||new vt}Ke.Ia="serverreachability";function Ts(u){D.call(this,Ke.Ia,u)}R(Ts,D);function dn(u){const m=di();St(m,new Ts(m))}Ke.STAT_EVENT="statevent";function Yi(u,m){D.call(this,Ke.STAT_EVENT,u),this.stat=m}R(Yi,D);function Oe(u){const m=di();St(m,new Yi(m,u))}Ke.Ja="timingevent";function bt(u,m){D.call(this,Ke.Ja,u),this.size=m}R(bt,D);function en(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function Gh(u,m,b,T,L,B){u.info(function(){if(u.g)if(B){var ee="",Ie=B.split("&");for(let Ze=0;Ze<Ie.length;Ze++){var xt=Ie[Ze].split("=");if(xt.length>1){const gt=xt[0];xt=xt[1];const Vn=gt.split("_");ee=Vn.length>=2&&Vn[1]=="type"?ee+(gt+"="+xt+"&"):ee+(gt+"=redacted&")}}}else ee=null;else ee=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+b+`
`+ee})}function pu(u,m,b,T,L,B,ee){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+b+`
`+B+" "+ee})}function mi(u,m,b,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Yh(u,b)+(T?" "+T:"")})}function Ar(u,m){u.info(function(){return"TIMEOUT: "+m})}Yn.prototype.info=function(){};function Yh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var b=B[u];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ee=1;ee<T.length;ee++)T[ee]=""}}}}return hi(B)}catch{return m}}var wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Do={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mo;function Rr(){}R(Rr,xr),Rr.prototype.g=function(){return new XMLHttpRequest},Mo=new Rr;function Ki(u){return encodeURIComponent(String(u))}function yu(u){var m=1;u=u.split(":");const b=[];for(;m>0&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function Kn(u,m,b,T){this.j=u,this.i=m,this.l=b,this.S=T||1,this.V=new Gi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var Nt={},Bt={};function gi(u,m,b){u.M=1,u.A=Nr(It(m)),u.u=b,u.R=!0,ga(u,null)}function ga(u,m){u.F=Date.now(),pi(u),u.B=It(u.A);var b=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),va(b.i,"t",T),u.C=0,b=u.j.L,u.h=new Qn,u.g=Mu(u.j,b?m:null,!u.u),u.P>0&&(u.O=new Gt(v(u.Y,u,u.g),u.P)),m=u.V,b=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Tr[0]=L.toString()),L=Tr);for(let B=0;B<L.length;B++){const ee=ut(b,L[B],T||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),dn(),Gh(u.i,u.v,u.B,u.l,u.S,u.u)}Kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Jn(u)==3?m.j():this.Y(u)},Kn.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=Jn(this.g),xt=this.g.ya(),Ze=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Yt(this.g)))){this.K||Ie!=4||xt==7||(xt==8||Ze<=0?dn(3):dn(2)),yi(this);var m=this.g.ca();this.X=m;var b=Kh(this);if(this.o=m==200,pu(this.i,this.v,this.B,this.l,this.S,Ie,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(T)){var B=T;break t}}B=null}if(u=B)mi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,u);else{this.o=!1,this.m=3,Oe(12),Sn(this),Mn(this);break e}}if(this.R){u=!0;let gt;for(;!this.K&&this.C<b.length;)if(gt=vu(this,b),gt==Bt){Ie==4&&(this.m=4,Oe(14),u=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Nt){this.m=4,Oe(15),mi(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else mi(this.i,this.l,gt,null),_i(this,gt);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||b.length!=0||this.h.h||(this.m=1,Oe(16),u=!1),this.o=this.o&&u,!u)mi(this.i,this.l,b,"[Invalid Chunked Response]"),Sn(this),Mn(this);else if(b.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Ko(ee),ee.P=!0,Oe(11))}}else mi(this.i,this.l,b,null),_i(this,b);Ie==4&&Sn(this),this.o&&!this.K&&(Ie==4?Nu(this.j,this):(this.o=!1,pi(this)))}else Xi(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,Oe(12)):(this.m=0,Oe(13)),Sn(this),Mn(this)}}}catch{}};function Kh(u){if(!_u(u))return u.g.la();const m=Yt(u.g);if(m==="")return"";let b="";const T=m.length,L=Jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Sn(u),Mn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,b+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=b,u.C=0,u.h.g}function _u(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function vu(u,m){var b=u.C,T=m.indexOf(`
`,b);return T==-1?Bt:(b=Number(m.substring(b,T)),isNaN(b)?Nt:(T+=1,T+b>m.length?Bt:(m=m.slice(T,T+b),u.C=T+b,m)))}Kn.prototype.cancel=function(){this.K=!0,Sn(this)};function pi(u){u.T=Date.now()+u.H,pa(u,u.H)}function pa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=en(v(u.aa,u),m)}function yi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ar(this.i,this.B),this.M!=2&&(dn(),Oe(17)),Sn(this),this.m=2,Mn(this)):pa(this,this.T-u)};function Mn(u){u.j.I==0||u.K||Nu(u.j,u)}function Sn(u){yi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Sr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function _i(u,m){try{var b=u.j;if(b.I!=0&&(b.g==u||bi(b.h,u))){if(!u.L&&bi(b.h,u)&&b.I==3){try{var T=b.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)xa(b),Is(b);else break e;Vr(b),Oe(18)}}else b.xa=L[1],0<b.xa-b.K&&L[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=en(v(b.Va,b),6e3));vi(b.h)<=1&&b.ta&&(b.ta=void 0)}else wi(b,11)}else if((u.L||b.g==u)&&xa(b),!x(m))for(L=b.Ba.g.parse(m),m=0;m<L.length;m++){let Ze=L[m];const gt=Ze[0];if(!(gt<=b.K))if(b.K=gt,Ze=Ze[1],b.I==2)if(Ze[0]=="c"){b.M=Ze[1],b.ba=Ze[2];const Vn=Ze[3];Vn!=null&&(b.ka=Vn,b.j.info("VER="+b.ka));const Ri=Ze[4];Ri!=null&&(b.za=Ri,b.j.info("SVER="+b.za));const Zn=Ze[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(T=1.5*Zn,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const Wn=u.g;if(Wn){const jr=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var B=T.h;B.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Vo(B,B.h),B.h=null))}if(T.G){const Aa=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(T.wa=Aa,tt(T.J,T.G,Aa))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var ee=u;if(T.na=Du(T,T.L?T.ba:null,T.W),ee.L){jo(T.h,ee);var Ie=ee,xt=T.O;xt&&(Ie.H=xt),Ie.D&&(yi(Ie),pi(Ie)),T.g=ee}else wu(T);b.i.length>0&&Ai(b)}else Ze[0]!="stop"&&Ze[0]!="close"||wi(b,7);else b.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?wi(b,7):Go(b):Ze[0]!="noop"&&b.l&&b.l.qa(Ze),b.A=0)}}dn(4)}catch{}}var Ct=class{constructor(u,m){this.g=u,this.map=m}};function Oo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ko(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vi(u){return u.h?1:u.g?u.g.size:0}function bi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Vo(u,m){u.g?u.g.add(m):u.h=m}function jo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Oo.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Lo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.G);return m}return G(u.i)}var bu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(u,m){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const T=u[b].indexOf("=");let L,B=null;T>=0?(L=u[b].substring(0,T),B=u[b].substring(T+1)):L=u[b],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function xn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof xn?(this.l=u.l,qt(this,u.j),this.o=u.o,this.g=u.g,Ss(this,u.u),this.h=u.h,Po(this,xu(u.i)),this.m=u.m):u&&(m=String(u).match(bu))?(this.l=!1,qt(this,m[1]||"",!0),this.o=Ei(m[2]||""),this.g=Ei(m[3]||"",!0),Ss(this,m[4]),this.h=Ei(m[5]||"",!0),Po(this,m[6]||"",!0),this.m=Ei(m[7]||"")):(this.l=!1,this.i=new As(null,this.l))}xn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Cr(m,_a,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Cr(m,_a,!0),"@"),u.push(Ki(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Cr(b,b.charAt(0)=="/"?Uo:Eu,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Cr(b,Tu)),u.join("")},xn.prototype.resolve=function(u){const m=It(this);let b=!!u.j;b?qt(m,u.j):b=!!u.o,b?m.o=u.o:b=!!u.g,b?m.g=u.g:b=u.u!=null;var T=u.h;if(b)Ss(m,u.u);else if(b=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let ee=0;ee<L.length;){const Ie=L[ee++];Ie=="."?T&&ee==L.length&&B.push(""):Ie==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&ee==L.length&&B.push("")):(B.push(Ie),T=!0)}T=B.join("/")}else T=L}return b?m.h=T:b=u.i.toString()!=="",b?Po(m,xu(u.i)):b=!!u.m,b&&(m.m=u.m),m};function It(u){return new xn(u)}function qt(u,m,b){u.j=b?Ei(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ss(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Po(u,m,b){m instanceof As?(u.i=m,ba(u.i,u.l)):(b||(m=Cr(m,xs)),u.i=new As(m,u.l))}function tt(u,m,b){u.i.set(m,b)}function Nr(u){return tt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ei(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Cr(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,mn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function mn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _a=/[#\/\?@]/g,Eu=/[#\?:]/g,Uo=/[#\?]/g,xs=/[#\?@]/g,Tu=/#/g;function As(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&ya(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}s=As.prototype,s.add=function(u,m){gn(this),this.i=null,u=ws(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function Su(u,m){gn(u),m=ws(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function zo(u,m){return gn(u),m=ws(u,m),u.g.has(m)}s.forEach=function(u,m){gn(this),this.g.forEach(function(b,T){b.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Bo(u,m){gn(u);let b=[];if(typeof m=="string")zo(u,m)&&(b=b.concat(u.g.get(ws(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)b=b.concat(u[m]);return b}s.set=function(u,m){return gn(this),this.i=null,u=ws(this,u),zo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Bo(this,u),u.length>0?String(u[0]):m):m};function va(u,m,b){Su(u,m),b.length>0&&(u.i=null,u.g.set(ws(u,m),G(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var b=m[T];const L=Ki(b);b=Bo(this,b);for(let B=0;B<b.length;B++){let ee=L;b[B]!==""&&(ee+="="+Ki(b[B])),u.push(ee)}}return this.i=u.join("&")};function xu(u){const m=new As;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ws(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ba(u,m){m&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(b,T){const L=T.toLowerCase();T!=L&&(Su(this,T),va(this,L,b))},u)),u.j=m}function Xn(u,m){const b=new Yn;if(d.Image){const T=new Image;T.onload=S(On,b,"TestLoadImage: loaded",!0,m,T),T.onerror=S(On,b,"TestLoadImage: error",!1,m,T),T.onabort=S(On,b,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(On,b,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function qo(u,m){const b=new Yn,T=new AbortController,L=setTimeout(()=>{T.abort(),On(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?On(b,"TestPingServer: ok",!0,m):On(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),On(b,"TestPingServer: error",!1,m)})}function On(u,m,b,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(b)}catch{}}function Rs(){this.g=new ma}function Ti(u){this.i=u.Sb||null,this.h=u.ab||!1}R(Ti,xr),Ti.prototype.g=function(){return new Ir(this.i,this.h)};function Ir(u,m){vt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(Ir,vt),s=Ir.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,$n(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ns(this):$n(this),this.readyState==3&&Ea(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ns(this))},s.Na=function(u){this.g&&(this.response=u,Ns(this))},s.ga=function(){this.g&&Ns(this)};function Ns(u){u.readyState=4,u.l=null,u.j=null,u.B=null,$n(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function kn(u){let m="";return je(u,function(b,T){m+=T,m+=":",m+=b,m+=`\r
`}),m}function Dr(u,m,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=kn(b),typeof u=="string"?b!=null&&Ki(b):tt(u,m,b))}function rt(u){vt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R(rt,vt);var Si=/^https?$/i,Ho=["POST","PUT"];s=rt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mo.g(),this.g.onreadystatechange=V(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Mr(this,B);return}if(u=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)b.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())b.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ho,m,void 0)>=0)||T||L||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ee]of b)this.g.setRequestHeader(B,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Mr(this,B)}};function Mr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Fo(u),Qi(u)}function Fo(u){u.A||(u.A=!0,St(u,"complete"),St(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,St(this,"complete"),St(this,"abort"),Qi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),rt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Or(this):this.Xa())},s.Xa=function(){Or(this)};function Or(u){if(u.h&&typeof c<"u"){if(u.v&&Jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(St(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var T;if(T=B===0){let ee=String(u.D).match(bu)[1]||null;!ee&&d.self&&d.self.location&&(ee=d.self.location.protocol.slice(0,-1)),T=!Si.test(ee?ee.toLowerCase():"")}b=T}if(b)St(u,"complete"),St(u,"success");else{u.o=6;try{var L=Jn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Fo(u)}}finally{Qi(u)}}}}function Qi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,m||St(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Io(m)}};function Yt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(u){const m={};u=(u.g&&Jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(x(u[T]))continue;var b=yu(u[T]);const L=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const B=m[L]||[];m[L]=B,B.push(b)}$e(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function Cs(u){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,u),this.Za=xi("retryDelaySeedMs",1e4,u),this.Ta=xi("forwardChannelMaxRetries",2,u),this.va=xi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Oo(u&&u.concurrentRequestLimit),this.Ba=new Rs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Cs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,b,T){Oe(0),this.W=u,this.H=m||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=Du(this,null,this.W),Ai(this)};function Go(u){if(Ta(u),u.I==3){var m=u.V++,b=It(u.J);if(tt(b,"SID",u.M),tt(b,"RID",m),tt(b,"TYPE","terminate"),kr(u,b),m=new Kn(u,u.j,m),m.M=2,m.A=Nr(It(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.A,b=!0),b||(m.g=Mu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),pi(m)}Iu(u)}function Is(u){u.g&&(Ko(u),u.g.cancel(),u.g=null)}function Ta(u){Is(u),u.v&&(d.clearTimeout(u.v),u.v=null),xa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ai(u){if(!ko(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ve||A(),Te||(Ve(),Te=!0),w.add(m,u),u.D=0}}function Sa(u,m){return vi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=en(v(u.Ea,u,m),Cu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Kn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),ne(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=Au(this,L,m),b=It(this.J),tt(b,"RID",u),tt(b,"CVER",22),this.G&&tt(b,"X-HTTP-Session-Id",this.G),kr(this,b),B&&(this.R?m="headers="+Ki(kn(B))+"&"+m:this.u&&Dr(b,this.u,B)),Vo(this.h,L),this.Ra&&tt(b,"TYPE","init"),this.S?(tt(b,"$req",m),tt(b,"SID","null"),L.U=!0,gi(L,b,null)):gi(L,b,m),this.I=2}}else this.I==3&&(u?Yo(this,u):this.i.length==0||ko(this.h)||Yo(this))};function Yo(u,m){var b;m?b=m.l:b=u.V++;const T=It(u.J);tt(T,"SID",u.M),tt(T,"RID",b),tt(T,"AID",u.K),kr(u,T),u.u&&u.o&&Dr(T,u.u,u.o),b=new Kn(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Au(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Vo(u.h,b),gi(b,T,m)}function kr(u,m){u.H&&je(u.H,function(b,T){tt(m,T,b)}),u.l&&je({},function(b,T){tt(m,T,b)})}function Au(u,m,b){b=Math.min(u.i.length,b);const T=u.l?v(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ie=-1;for(;;){const xt=["count="+b];Ie==-1?b>0?(Ie=L[0].g,xt.push("ofs="+Ie)):Ie=0:xt.push("ofs="+Ie);let Ze=!0;for(let gt=0;gt<b;gt++){var B=L[gt].g;const Vn=L[gt].map;if(B-=Ie,B<0)Ie=Math.max(0,L[gt].g-100),Ze=!1;else try{B="req"+B+"_"||"";try{var ee=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Ri,Zn]of ee){let Wn=Zn;g(Zn)&&(Wn=hi(Zn)),xt.push(B+Ri+"="+encodeURIComponent(Wn))}}catch(Ri){throw xt.push(B+"type="+encodeURIComponent("_badmap")),Ri}}catch{T&&T(Vn)}}if(Ze){ee=xt.join("&");break e}}ee=void 0}return u=u.i.splice(0,b),m.G=u,ee}function wu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ve||A(),Te||(Ve(),Te=!0),w.add(m,u),u.A=0}}function Vr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=en(v(u.Da,u),Cu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=en(v(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Oe(10),Is(this),Ru(this))};function Ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Ru(u){u.g=new Kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=It(u.na);tt(m,"RID","rpc"),tt(m,"SID",u.M),tt(m,"AID",u.K),tt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&tt(m,"TO",u.ia),tt(m,"TYPE","xmlhttp"),kr(u,m),u.u&&u.o&&Dr(m,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Nr(It(m)),b.u=null,b.R=!0,ga(b,u)}s.Va=function(){this.C!=null&&(this.C=null,Is(this),Vr(this),Oe(19))};function xa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Nu(u,m){var b=null;if(u.g==m){xa(u),Ko(u),u.g=null;var T=2}else if(bi(u.h,m))b=m.G,jo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=di(),St(T,new bt(T,b)),Ai(u)}else wu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Sa(u,m)||T==2&&Vr(u)))switch(b&&b.length>0&&(m=u.h,m.i=m.i.concat(b)),L){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function Cu(u,m){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*m}function wi(u,m){if(u.j.info("Error code "+m),m==2){var b=v(u.bb,u),T=u.Ua;const L=!T;T=new xn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qt(T,"https"),Nr(T),L?Xn(T.toString(),b):qo(T.toString(),b)}else Oe(2);u.I=0,u.l&&u.l.pa(m),Iu(u),Ta(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))};function Iu(u){if(u.I=0,u.ja=[],u.l){const m=Lo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Du(u,m,b){var T=b instanceof xn?It(b):new xn(b);if(T.g!="")m&&(T.g=m+"."+T.g),Ss(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new xn(null);T&&qt(B,T),m&&(B.g=m),L&&Ss(B,L),b&&(B.h=b),T=B}return b=u.G,m=u.wa,b&&m&&tt(T,b,m),tt(T,"VER",u.ka),kr(u,T),T}function Mu(u,m,b){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new rt(new Ti({ab:b})):new rt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ou(){}s=Ou.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ds(){}Ds.prototype.g=function(u,m){return new ln(u,m)};function ln(u,m){vt.call(this),this.g=new Cs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $i(this)}R(ln,vt),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Go(this.g)},ln.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=hi(u),u=b);m.i.push(new Ct(m.Ya++,u)),m.I==3&&Ai(m)},ln.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,ln.Z.N.call(this)};function ku(u){Ae.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}R(ku,Ae);function Vu(){Je.call(this),this.status=1}R(Vu,Je);function $i(u){this.g=u}R($i,Ou),$i.prototype.ra=function(){St(this.g,"a")},$i.prototype.qa=function(u){St(this.g,new ku(u))},$i.prototype.pa=function(u){St(this.g,new Vu)},$i.prototype.oa=function(){St(this.g,"b")},Ds.prototype.createWebChannel=Ds.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,L1=function(){return new Ds},j1=function(){return di()},V1=Ke,ym={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,Xc=wr,Do.COMPLETE="complete",k1=Do,ie.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Ll=ie,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,O1=rt}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});let rn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let Ao="12.9.0";function J2(s){Ao=s}const aa=new Lm("@firebase/firestore");function no(){return aa.logLevel}function re(s,...e){if(aa.logLevel<=qe.DEBUG){const i=e.map(Qm);aa.debug(`Firestore (${Ao}): ${s}`,...i)}}function ys(s,...e){if(aa.logLevel<=qe.ERROR){const i=e.map(Qm);aa.error(`Firestore (${Ao}): ${s}`,...i)}}function oa(s,...e){if(aa.logLevel<=qe.WARN){const i=e.map(Qm);aa.warn(`Firestore (${Ao}): ${s}`,...i)}}function Qm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ee(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,P1(s,a,i)}function P1(s,e,i){let a=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ys(a),new Error(a)}function et(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||P1(e,l,a)}function Re(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends vs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ea{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class U1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Z2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class W2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class ew{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){et(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ea,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ea)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(et(typeof a.accessToken=="string",31837,{l:a}),new U1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class tw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class nw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new tw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){et(this.o===void 0,3512);const a=c=>{c.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,re("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(et(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new V_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function sw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Xm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=sw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function He(s,e){return s<e?-1:s>e?1:0}function _m(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return tm(l)===tm(c)?He(l,c):tm(l)?1:-1}return He(s.length,e.length)}const rw=55296,aw=57343;function tm(s){const e=s.charCodeAt(0);return e>=rw&&e<=aw}function go(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}const j_="__name__";class Mi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ee(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ee(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Mi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return He(e.length,i.length)}static compareSegments(e,i){const a=Mi.isNumericId(e),l=Mi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Mi.extractNumericId(e).compare(Mi.extractNumericId(i)):_m(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cr.fromString(e.substring(4,e.length-2))}}class dt extends Mi{construct(e,i,a){return new dt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new he($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new dt(i)}static emptyPath(){return new dt([])}}const ow=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Mi{construct(e,i,a){return new Zt(e,i,a)}static isValidIdentifier(e){return ow.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j_}static keyField(){return new Zt([j_])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new he($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new he($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new he($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new he($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(i)}static emptyPath(){return new Zt([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(dt.fromString(e))}static fromName(e){return new ge(dt.fromString(e).popFirst(5))}static empty(){return new ge(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return dt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new dt(e.slice()))}}function z1(s,e,i){if(!i)throw new he($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function lw(s,e,i,a){if(e===!0&&a===!0)throw new he($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function L_(s){if(!ge.isDocumentKey(s))throw new he($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function P_(s){if(ge.isDocumentKey(s))throw new he($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function B1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function $m(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ee(12329,{type:typeof s})}function ta(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new he($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=$m(s);throw new he($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function jt(s,e){const i={typeString:s};return e&&(i.value=e),i}function cu(s,e){if(!B1(s))throw new he($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new he($.INVALID_ARGUMENT,i);return!0}const U_=-62135596800,z_=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*z_);return new mt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new he($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new he($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<U_)throw new he($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z_}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cu(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:jt("string",mt._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new mt(0,0))}static max(){return new Se(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $l=-1;function uw(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Se.fromTimestamp(a===1e9?new mt(i+1,0):new mt(i,a));return new fr(l,ge.empty(),e)}function cw(s){return new fr(s.readTime,s.key,$l)}class fr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new fr(Se.min(),ge.empty(),$l)}static max(){return new fr(Se.max(),ge.empty(),$l)}}function hw(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ge.comparator(s.documentKey,e.documentKey),i!==0?i:He(s.largestBatchId,e.largestBatchId))}const fw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function wo(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==fw)throw s;re("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,l)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const v=_;i(e[v]).next((S=>{d[v]=S,++g,g===c&&a(d)}),(S=>l(S)))}}))}static doWhile(e,i){return new X(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function mw(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ro(s){return s.name==="IndexedDbTransactionError"}class Ch{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ch.ce=-1;const Jm=-1;function Ih(s){return s==null}function ch(s){return s===0&&1/s==-1/0}function gw(s){return typeof s=="number"&&Number.isInteger(s)&&!ch(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const q1="";function pw(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=B_(e)),e=yw(s.get(i),e);return B_(e)}function yw(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case q1:i+="";break;default:i+=c}}return i}function B_(s){return s+q1+""}function q_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ua(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function H1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class yt{constructor(e,i){this.comparator=e,this.root=i||Jt.EMPTY}insert(e,i){return new yt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??Jt.RED,this.left=l??Jt.EMPTY,this.right=c??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new Jt(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Jt.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new Jt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new H_(this.data.getIterator())}getIteratorFrom(e){return new H_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new zt(this.comparator);return i.data=e,i}}class H_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ri{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new ri([])}unionWith(e){let i=new zt(Zt.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new ri(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class F1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new F1("Invalid base64 string: "+c):c}})(e);return new Wt(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Wt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const _w=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(s){if(et(!!s,39018),typeof s=="string"){let e=0;const i=_w.exec(s);if(et(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Rt(s.seconds),nanos:Rt(s.nanos)}}function Rt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function mr(s){return typeof s=="string"?Wt.fromBase64String(s):Wt.fromUint8Array(s)}const G1="server_timestamp",Y1="__type__",K1="__previous_value__",Q1="__local_write_time__";function Zm(s){return(s?.mapValue?.fields||{})[Y1]?.stringValue===G1}function Dh(s){const e=s.mapValue.fields[K1];return Zm(e)?Dh(e):e}function Jl(s){const e=dr(s.mapValue.fields[Q1].timestampValue);return new mt(e.seconds,e.nanos)}class vw{constructor(e,i,a,l,c,d,g,_,v,S,R){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=S,this.apiKey=R}}const hh="(default)";class Zl{constructor(e,i){this.projectId=e,this.database=i||hh}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===hh}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}function bw(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new he($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(s.options.projectId,e)}const X1="__type__",Ew="__max__",qc={mapValue:{}},$1="__vector__",fh="value";function gr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Zm(s)?4:Sw(s)?9007199254740991:Tw(s)?10:11:Ee(28295,{value:s})}function zi(s,e){if(s===e)return!0;const i=gr(s);if(i!==gr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Jl(s).isEqual(Jl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=dr(l.timestampValue),g=dr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return mr(l.bytesValue).isEqual(mr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Rt(l.geoPointValue.latitude)===Rt(c.geoPointValue.latitude)&&Rt(l.geoPointValue.longitude)===Rt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Rt(l.integerValue)===Rt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Rt(l.doubleValue),g=Rt(c.doubleValue);return d===g?ch(d)===ch(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return go(s.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(q_(d)!==q_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!zi(d[_],g[_])))return!1;return!0})(s,e);default:return Ee(52216,{left:s})}}function Wl(s,e){return(s.values||[]).find((i=>zi(i,e)))!==void 0}function po(s,e){if(s===e)return 0;const i=gr(s),a=gr(e);if(i!==a)return He(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return He(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Rt(c.integerValue||c.doubleValue),_=Rt(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return F_(s.timestampValue,e.timestampValue);case 4:return F_(Jl(s),Jl(e));case 5:return _m(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=mr(c),_=mr(d);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const S=He(g[v],_[v]);if(S!==0)return S}return He(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=He(Rt(c.latitude),Rt(d.latitude));return g!==0?g:He(Rt(c.longitude),Rt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return G_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},v=g[fh]?.arrayValue,S=_[fh]?.arrayValue,R=He(v?.values?.length||0,S?.values?.length||0);return R!==0?R:G_(v,S)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===qc.mapValue&&d===qc.mapValue)return 0;if(c===qc.mapValue)return 1;if(d===qc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),v=d.fields||{},S=Object.keys(v);_.sort(),S.sort();for(let R=0;R<_.length&&R<S.length;++R){const V=_m(_[R],S[R]);if(V!==0)return V;const G=po(g[_[R]],v[S[R]]);if(G!==0)return G}return He(_.length,S.length)})(s.mapValue,e.mapValue);default:throw Ee(23264,{he:i})}}function F_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return He(s,e);const i=dr(s),a=dr(e),l=He(i.seconds,a.seconds);return l!==0?l:He(i.nanos,a.nanos)}function G_(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=po(i[l],a[l]);if(c)return c}return He(i.length,a.length)}function yo(s){return vm(s)}function vm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=dr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return mr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ge.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=vm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${vm(i.fields[d])}`;return l+"}"})(s.mapValue):Ee(61005,{value:s})}function $c(s){switch(gr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dh(s);return e?16+$c(e):16;case 5:return 2*s.stringValue.length;case 6:return mr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+$c(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return ua(a.fields,((c,d)=>{l+=c.length+$c(d)})),l})(s.mapValue);default:throw Ee(13486,{value:s})}}function bm(s){return!!s&&"integerValue"in s}function Wm(s){return!!s&&"arrayValue"in s}function Y_(s){return!!s&&"nullValue"in s}function K_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Jc(s){return!!s&&"mapValue"in s}function Tw(s){return(s?.mapValue?.fields||{})[X1]?.stringValue===$1}function Hl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ua(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Hl(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hl(s.arrayValue.values[i]);return e}return{...s}}function Sw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Ew}class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Jc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(i)}setAll(e){let i=Zt.emptyPath(),a={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Hl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());Jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){ua(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new Fn(Hl(this.value))}}function J1(s){const e=[];return ua(s.fields,((i,a)=>{const l=new Zt([i]);if(Jc(a)){const c=J1(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new ri(e)}class an{constructor(e,i,a,l,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new an(e,0,Se.min(),Se.min(),Se.min(),Fn.empty(),0)}static newFoundDocument(e,i,a,l){return new an(e,1,i,Se.min(),a,l,0)}static newNoDocument(e,i){return new an(e,2,i,Se.min(),Se.min(),Fn.empty(),0)}static newUnknownDocument(e,i){return new an(e,3,i,Se.min(),Se.min(),Fn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dh{constructor(e,i){this.position=e,this.inclusive=i}}function Q_(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=ge.comparator(ge.fromName(d.referenceValue),i.key):a=po(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function X_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!zi(s.position[i],e.position[i]))return!1;return!0}class mh{constructor(e,i="asc"){this.field=e,this.dir=i}}function xw(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Z1{}class Pt extends Z1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new ww(e,i,a):i==="array-contains"?new Cw(e,a):i==="in"?new Iw(e,a):i==="not-in"?new Dw(e,a):i==="array-contains-any"?new Mw(e,a):new Pt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new Rw(e,a):new Nw(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(po(i,this.value)):i!==null&&gr(this.value)===gr(i)&&this.matchesComparison(po(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bi extends Z1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Bi(e,i)}matches(e){return W1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function W1(s){return s.op==="and"}function eb(s){return Aw(s)&&W1(s)}function Aw(s){for(const e of s.filters)if(e instanceof Bi)return!1;return!0}function Em(s){if(s instanceof Pt)return s.field.canonicalString()+s.op.toString()+yo(s.value);if(eb(s))return s.filters.map((e=>Em(e))).join(",");{const e=s.filters.map((i=>Em(i))).join(",");return`${s.op}(${e})`}}function tb(s,e){return s instanceof Pt?(function(a,l){return l instanceof Pt&&a.op===l.op&&a.field.isEqual(l.field)&&zi(a.value,l.value)})(s,e):s instanceof Bi?(function(a,l){return l instanceof Bi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&tb(d,l.filters[g])),!0):!1})(s,e):void Ee(19439)}function nb(s){return s instanceof Pt?(function(i){return`${i.field.canonicalString()} ${i.op} ${yo(i.value)}`})(s):s instanceof Bi?(function(i){return i.op.toString()+" {"+i.getFilters().map(nb).join(" ,")+"}"})(s):"Filter"}class ww extends Pt{constructor(e,i,a){super(e,i,a),this.key=ge.fromName(a.referenceValue)}matches(e){const i=ge.comparator(e.key,this.key);return this.matchesComparison(i)}}class Rw extends Pt{constructor(e,i){super(e,"in",i),this.keys=ib("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Nw extends Pt{constructor(e,i){super(e,"not-in",i),this.keys=ib("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function ib(s,e){return(e.arrayValue?.values||[]).map((i=>ge.fromName(i.referenceValue)))}class Cw extends Pt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Wm(i)&&Wl(i.arrayValue,this.value)}}class Iw extends Pt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Wl(this.value.arrayValue,i)}}class Dw extends Pt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Wl(this.value.arrayValue,i)}}class Mw extends Pt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Wm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Wl(this.value.arrayValue,a)))}}class Ow{constructor(e,i=null,a=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function $_(s,e=null,i=[],a=[],l=null,c=null,d=null){return new Ow(s,e,i,a,l,c,d)}function eg(s){const e=Re(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>Em(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Ih(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>yo(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>yo(a))).join(",")),e.Te=i}return e.Te}function tg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!xw(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!tb(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!X_(s.startAt,e.startAt)&&X_(s.endAt,e.endAt)}function Tm(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Mh{constructor(e,i=null,a=[],l=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function kw(s,e,i,a,l,c,d,g){return new Mh(s,e,i,a,l,c,d,g)}function ng(s){return new Mh(s)}function J_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Vw(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function jw(s){return s.collectionGroup!==null}function Fl(s){const e=Re(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new zt(Zt.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new mh(c,a))})),i.has(Zt.keyField().canonicalString())||e.Ie.push(new mh(Zt.keyField(),a))}return e.Ie}function Vi(s){const e=Re(s);return e.Ee||(e.Ee=Lw(e,Fl(s))),e.Ee}function Lw(s,e){if(s.limitType==="F")return $_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new mh(l.field,c)}));const i=s.endAt?new dh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new dh(s.startAt.position,s.startAt.inclusive):null;return $_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Sm(s,e,i){return new Mh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Oh(s,e){return tg(Vi(s),Vi(e))&&s.limitType===e.limitType}function sb(s){return`${eg(Vi(s))}|lt:${s.limitType}`}function io(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>nb(l))).join(", ")}]`),Ih(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>yo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>yo(l))).join(",")),`Target(${a})`})(Vi(s))}; limitType=${s.limitType})`}function kh(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ge.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of Fl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,g,_){const v=Q_(d,g,_);return d.inclusive?v<=0:v<0})(a.startAt,Fl(a),l)||a.endAt&&!(function(d,g,_){const v=Q_(d,g,_);return d.inclusive?v>=0:v>0})(a.endAt,Fl(a),l))})(s,e)}function Pw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function rb(s){return(e,i)=>{let a=!1;for(const l of Fl(s)){const c=Uw(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function Uw(s,e,i){const a=s.field.isKeyField()?ge.comparator(e.key,i.key):(function(c,d,g){const _=d.data.field(c),v=g.data.field(c);return _!==null&&v!==null?po(_,v):Ee(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Ee(19790,{direction:s.dir})}}class ca{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return H1(this.inner)}size(){return this.innerSize}}const zw=new yt(ge.comparator);function _s(){return zw}const ab=new yt(ge.comparator);function Pl(...s){let e=ab;for(const i of s)e=e.insert(i.key,i);return e}function ob(s){let e=ab;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Wr(){return Gl()}function lb(){return Gl()}function Gl(){return new ca((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Bw=new yt(ge.comparator),qw=new zt(ge.comparator);function Fe(...s){let e=qw;for(const i of s)e=e.add(i);return e}const Hw=new zt(He);function Fw(){return Hw}function ig(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function ub(s){return{integerValue:""+s}}function Gw(s,e){return gw(e)?ub(e):ig(s,e)}class Vh{constructor(){this._=void 0}}function Yw(s,e,i){return s instanceof gh?(function(l,c){const d={fields:{[Y1]:{stringValue:G1},[Q1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Zm(c)&&(c=Dh(c)),c&&(d.fields[K1]=c),{mapValue:d}})(i,e):s instanceof eu?hb(s,e):s instanceof tu?fb(s,e):(function(l,c){const d=cb(l,c),g=Z_(d)+Z_(l.Ae);return bm(d)&&bm(l.Ae)?ub(g):ig(l.serializer,g)})(s,e)}function Kw(s,e,i){return s instanceof eu?hb(s,e):s instanceof tu?fb(s,e):i}function cb(s,e){return s instanceof ph?(function(a){return bm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class gh extends Vh{}class eu extends Vh{constructor(e){super(),this.elements=e}}function hb(s,e){const i=db(e);for(const a of s.elements)i.some((l=>zi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class tu extends Vh{constructor(e){super(),this.elements=e}}function fb(s,e){let i=db(e);for(const a of s.elements)i=i.filter((l=>!zi(l,a)));return{arrayValue:{values:i}}}class ph extends Vh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Z_(s){return Rt(s.integerValue||s.doubleValue)}function db(s){return Wm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Qw(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof eu&&l instanceof eu||a instanceof tu&&l instanceof tu?go(a.elements,l.elements,zi):a instanceof ph&&l instanceof ph?zi(a.Ae,l.Ae):a instanceof gh&&l instanceof gh})(s.transform,e.transform)}class Xw{constructor(e,i){this.version=e,this.transformResults=i}}class ji{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ji}static exists(e){return new ji(void 0,e)}static updateTime(e){return new ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class jh{}function mb(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new sg(s.key,ji.none()):new hu(s.key,s.data,ji.none());{const i=s.data,a=Fn.empty();let l=new zt(Zt.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new ha(s.key,a,new ri(l.toArray()),ji.none())}}function $w(s,e,i){s instanceof hu?(function(l,c,d){const g=l.value.clone(),_=ev(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof ha?(function(l,c,d){if(!Zc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=ev(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(gb(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Yl(s,e,i,a){return s instanceof hu?(function(c,d,g,_){if(!Zc(c.precondition,d))return g;const v=c.value.clone(),S=tv(c.fieldTransforms,_,d);return v.setAll(S),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,e,i,a):s instanceof ha?(function(c,d,g,_){if(!Zc(c.precondition,d))return g;const v=tv(c.fieldTransforms,_,d),S=d.data;return S.setAll(gb(c)),S.setAll(v),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((R=>R.field)))})(s,e,i,a):(function(c,d,g){return Zc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function Jw(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=cb(a.transform,l||null);c!=null&&(i===null&&(i=Fn.empty()),i.set(a.field,c))}return i||null}function W_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&go(a,l,((c,d)=>Qw(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class hu extends jh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ha extends jh{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function gb(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function ev(s,e,i){const a=new Map;et(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=e.data.field(c.field);a.set(c.field,Kw(d,g,i[l]))}return a}function tv(s,e,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,Yw(c,d,e))}return a}class sg extends jh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zw extends jh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ww{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&$w(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Yl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Yl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=lb();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=mb(d,g);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Se.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,((i,a)=>W_(i,a)))&&go(this.baseMutations,e.baseMutations,((i,a)=>W_(i,a)))}}class rg{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){et(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return Bw})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new rg(e,i,a,l)}}class eR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class tR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Vt,Ye;function nR(s){switch(s){case $.OK:return Ee(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Ee(15467,{code:s})}}function pb(s){if(s===void 0)return ys("GRPC error has no .code"),$.UNKNOWN;switch(s){case Vt.OK:return $.OK;case Vt.CANCELLED:return $.CANCELLED;case Vt.UNKNOWN:return $.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return $.INTERNAL;case Vt.UNAVAILABLE:return $.UNAVAILABLE;case Vt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Vt.NOT_FOUND:return $.NOT_FOUND;case Vt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Vt.ABORTED:return $.ABORTED;case Vt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Vt.DATA_LOSS:return $.DATA_LOSS;default:return Ee(39323,{code:s})}}(Ye=Vt||(Vt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function iR(){return new TextEncoder}const sR=new cr([4294967295,4294967295],0);function nv(s){const e=iR().encode(s),i=new M1;return i.update(e),new Uint8Array(i.digest())}function iv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new cr([i,a],0),new cr([l,c],0)]}class ag{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ul(`Invalid padding: ${i}`);if(a<0)throw new Ul(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=cr.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(cr.fromNumber(a)));return l.compare(sR)===1&&(l=new cr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=nv(e),[a,l]=iv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new ag(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=nv(e),[a,l]=iv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lh{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Lh(Se.min(),l,new yt(He),_s(),Fe())}}class fu{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new fu(a,i,Fe(),Fe(),Fe())}}class Wc{constructor(e,i,a,l){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=l}}class yb{constructor(e,i){this.targetId=e,this.Ce=i}}class _b{constructor(e,i,a=Wt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class sv{constructor(){this.ve=0,this.Fe=rv(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),i=Fe(),a=Fe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Ee(38017,{changeType:c})}})),new fu(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=rv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class rR{constructor(e){this.Ge=e,this.ze=new Map,this.je=_s(),this.He=Hc(),this.Je=Hc(),this.Ze=new yt(He)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Tm(c))if(a===0){const d=new ge(c.path);this.et(i,d,an.newNoDocument(d,Se.min()))}else et(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=mr(a).toUint8Array()}catch(_){if(_ instanceof F1)return oa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new ag(d,l,c)}catch(_){return oa(_ instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&Tm(g.target)){const _=new ge(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,an.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Fe();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Lh(e,i,this.Ze,this.je,a);return this.je=_s(),this.He=Hc(),this.Je=Hc(),this.Ze=new yt(He),l}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new sv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new zt(He),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new zt(He),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||re("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Hc(){return new yt(ge.comparator)}function rv(){return new yt(ge.comparator)}const aR={asc:"ASCENDING",desc:"DESCENDING"},oR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lR={and:"AND",or:"OR"};class uR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function xm(s,e){return s.useProto3Json||Ih(e)?e:{value:e}}function yh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function cR(s,e){return yh(s,e.toTimestamp())}function Li(s){return et(!!s,49232),Se.fromTimestamp((function(i){const a=dr(i);return new mt(a.seconds,a.nanos)})(s))}function og(s,e){return Am(s,e).canonicalString()}function Am(s,e){const i=(function(l){return new dt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function bb(s){const e=dt.fromString(s);return et(Ab(e),10190,{key:e.toString()}),e}function wm(s,e){return og(s.databaseId,e.path)}function nm(s,e){const i=bb(e);if(i.get(1)!==s.databaseId.projectId)throw new he($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new he($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ge(Tb(i))}function Eb(s,e){return og(s.databaseId,e)}function hR(s){const e=bb(s);return e.length===4?dt.emptyPath():Tb(e)}function Rm(s){return new dt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Tb(s){return et(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function av(s,e,i){return{name:wm(s,e),fields:i.value.mapValue.fields}}function fR(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ee(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(v,S){return v.useProto3Json?(et(S===void 0||typeof S=="string",58123),Wt.fromBase64String(S||"")):(et(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Wt.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(v){const S=v.code===void 0?$.UNKNOWN:pb(v.code);return new he(S,v.message||"")})(d);i=new _b(a,l,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=nm(s,a.document.name),c=Li(a.document.updateTime),d=a.document.createTime?Li(a.document.createTime):Se.min(),g=new Fn({mapValue:{fields:a.document.fields}}),_=an.newFoundDocument(l,c,d,g),v=a.targetIds||[],S=a.removedTargetIds||[];i=new Wc(v,S,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=nm(s,a.document),c=a.readTime?Li(a.readTime):Se.min(),d=an.newNoDocument(l,c),g=a.removedTargetIds||[];i=new Wc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=nm(s,a.document),c=a.removedTargetIds||[];i=new Wc([],c,l,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new tR(l,c),g=a.targetId;i=new yb(g,d)}}return i}function dR(s,e){let i;if(e instanceof hu)i={update:av(s,e.key,e.value)};else if(e instanceof sg)i={delete:wm(s,e.key)};else if(e instanceof ha)i={update:av(s,e.key,e.data),updateMask:TR(e.fieldMask)};else{if(!(e instanceof Zw))return Ee(16599,{dt:e.type});i={verify:wm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof gh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof eu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof tu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ph)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Ee(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:cR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(s,e.precondition)),i}function mR(s,e){return s&&s.length>0?(et(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Li(l.updateTime):Li(c);return d.isEqual(Se.min())&&(d=Li(c)),new Xw(d,l.transformResults||[])})(i,e)))):[]}function gR(s,e){return{documents:[Eb(s,e.path)]}}function pR(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Eb(s,l);const c=(function(v){if(v.length!==0)return xb(Bi.create(v,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((S=>(function(V){return{field:so(V.field),direction:vR(V.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=xm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:l}}function yR(s){let e=hR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){et(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(R){const V=Sb(R);return V instanceof Bi&&eb(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(R){return R.map((V=>(function(W){return new mh(ro(W.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(R){let V;return V=typeof R=="object"?R.value:R,Ih(V)?null:V})(i.limit));let _=null;i.startAt&&(_=(function(R){const V=!!R.before,G=R.values||[];return new dh(G,V)})(i.startAt));let v=null;return i.endAt&&(v=(function(R){const V=!R.before,G=R.values||[];return new dh(G,V)})(i.endAt)),kw(e,l,d,c,g,"F",_,v)}function _R(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Sb(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ro(i.unaryFilter.field);return Pt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=ro(i.unaryFilter.field);return Pt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ro(i.unaryFilter.field);return Pt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ro(i.unaryFilter.field);return Pt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Pt.create(ro(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Bi.create(i.compositeFilter.filters.map((a=>Sb(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(i.compositeFilter.op))})(s):Ee(30097,{filter:s})}function vR(s){return aR[s]}function bR(s){return oR[s]}function ER(s){return lR[s]}function so(s){return{fieldPath:s.canonicalString()}}function ro(s){return Zt.fromServerFormat(s.fieldPath)}function xb(s){return s instanceof Pt?(function(i){if(i.op==="=="){if(K_(i.value))return{unaryFilter:{field:so(i.field),op:"IS_NAN"}};if(Y_(i.value))return{unaryFilter:{field:so(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(K_(i.value))return{unaryFilter:{field:so(i.field),op:"IS_NOT_NAN"}};if(Y_(i.value))return{unaryFilter:{field:so(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(i.field),op:bR(i.op),value:i.value}}})(s):s instanceof Bi?(function(i){const a=i.getFilters().map((l=>xb(l)));return a.length===1?a[0]:{compositeFilter:{op:ER(i.op),filters:a}}})(s):Ee(54877,{filter:s})}function TR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Ab(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function wb(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class ar{constructor(e,i,a,l,c=Se.min(),d=Se.min(),g=Wt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new ar(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class SR{constructor(e){this.yt=e}}function xR(s){const e=yR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Sm(e,e.limit,"L"):e}class AR{constructor(){this.Sn=new wR}addToCollectionParentIndex(e,i){return this.Sn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(fr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(fr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class wR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new zt(dt.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new zt(dt.comparator)).toArray()}}const ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rb=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(Rb,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class _o{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new _o(0)}static ar(){return new _o(-1)}}const lv="LruGarbageCollector",RR=1048576;function uv([s,e],[i,a]){const l=He(s,i);return l===0?He(e,a):l}class NR{constructor(e){this.Pr=e,this.buffer=new zt(uv),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();uv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class CR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){re(lv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ro(i)?re(lv,"Ignoring IndexedDB error during garbage collection: ",i):await wo(i)}await this.Ar(3e5)}))}}class IR{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(Ch.ce);const a=new NR(i);return this.Vr.forEachTarget(e,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(ov)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ov):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,l,c,d,g,_,v;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),l=this.params.maximumSequenceNumbersToCollect):l=R,d=Date.now(),this.nthSequenceNumber(e,l)))).next((R=>(a=R,g=Date.now(),this.removeTargets(e,a,i)))).next((R=>(c=R,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((R=>(v=Date.now(),no()<=qe.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${R} documents in `+(v-_)+`ms
Total Duration: ${v-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:R}))))}}function DR(s,e){return new IR(s,e)}class MR{constructor(){this.changes=new ca((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class OR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class kR{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Yl(a.mutation,l,ri.empty(),mt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Fe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Fe()){const l=Wr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Pl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Wr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Fe())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,l){let c=_s();const d=Gl(),g=(function(){return Gl()})();return i.forEach(((_,v)=>{const S=a.get(v.key);l.has(v.key)&&(S===void 0||S.mutation instanceof ha)?c=c.insert(v.key,v):S!==void 0?(d.set(v.key,S.mutation.getFieldMask()),Yl(S.mutation,v,S.mutation.getFieldMask(),mt.now())):d.set(v.key,ri.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((v,S)=>d.set(v,S))),i.forEach(((v,S)=>g.set(v,new OR(S,d.get(v)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Gl();let l=new yt(((d,g)=>d-g)),c=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let S=a.get(_)||ri.empty();S=g.applyToLocalView(v,S),a.set(_,S);const R=(l.get(g.batchId)||Fe()).add(_);l=l.insert(g.batchId,R)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,S=_.value,R=lb();S.forEach((V=>{if(!c.has(V)){const G=mb(i.get(V),a.get(V));G!==null&&R.set(V,G),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,R))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return Vw(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):jw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):X.resolve(Wr());let g=$l,_=c;return d.next((v=>X.forEach(v,((S,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(e,S).next((V=>{_=_.insert(S,V)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,_,v,Fe()))).next((S=>({batchId:g,changes:ob(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ge(i)).next((a=>{let l=Pl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Pl();return this.indexManager.getCollectionParents(e,c).next((g=>X.forEach(g,(_=>{const v=(function(R,V){return new Mh(V,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,a,l).next((S=>{S.forEach(((R,V)=>{d=d.insert(R,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((_,v)=>{const S=v.getKey();d.get(S)===null&&(d=d.insert(S,an.newInvalidDocument(S)))}));let g=Pl();return d.forEach(((_,v)=>{const S=c.get(_);S!==void 0&&Yl(S.mutation,v,ri.empty(),mt.now()),kh(i,v)&&(g=g.insert(_,v))})),g}))}}class VR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Li(l.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:xR(l.bundledQuery),readTime:Li(l.readTime)}})(i)),X.resolve()}}class jR{constructor(){this.overlays=new yt(ge.comparator),this.Lr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Wr();return X.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.bt(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const l=Wr(),c=i.length+1,d=new ge(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new yt(((v,S)=>v-S));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let S=c.get(v.largestBatchId);S===null&&(S=Wr(),c=c.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const g=Wr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,S)=>g.set(v,S))),!(g.size()>=l)););return X.resolve(g)}bt(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new eR(i,a));let c=this.Lr.get(i);c===void 0&&(c=Fe(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class LR{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class lg{constructor(){this.kr=new zt(Ft.Kr),this.qr=new zt(Ft.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Ft(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Ft(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new ge(new dt([])),a=new Ft(i,e),l=new Ft(i,e+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ge(new dt([])),a=new Ft(i,e),l=new Ft(i,e+1);let c=Fe();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Ft(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ft{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ge.comparator(e.key,i.key)||He(e.Hr,i.Hr)}static Ur(e,i){return He(e.Hr,i.Hr)||ge.comparator(e.key,i.key)}}class PR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new zt(Ft.Kr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Ww(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new Ft(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Jm:this.Yn-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ft(i,0),l=new Ft(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new zt(He);return i.forEach((l=>{const c=new Ft(l,0),d=new Ft(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;ge.isDocumentKey(c)||(c=c.child(""));const d=new Ft(new ge(c),0);let g=new zt(He);return this.Jr.forEachWhile((_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===l&&(g=g.add(_.Hr)),!0)}),d),X.resolve(this.Yr(g))}Yr(e){const i=[];return e.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){et(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new Ft(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Ft(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class UR{constructor(e){this.ti=e,this.docs=(function(){return new yt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(e,i){let a=_s();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():an.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=_s();const d=i.path,g=new ge(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:S}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||hw(cw(S),a)<=0||(l.has(S.key)||kh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,l){Ee(9500)}ni(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new zR(this)}getSize(e){return X.resolve(this.size)}}class zR extends MR{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class BR{constructor(e){this.persistence=e,this.ri=new ca((i=>eg(i)),tg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new lg,this.targetCount=0,this.oi=_o._r()}forEachTarget(e,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new _o(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.lr(i),X.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this.si.containsKey(i))}}class Nb{constructor(e,i){this._i={},this.overlays={},this.ai=new Ch(0),this.ui=!1,this.ui=!0,this.ci=new LR,this.referenceDelegate=e(this),this.li=new BR(this),this.indexManager=new AR,this.remoteDocumentCache=(function(l){return new UR(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new SR(i),this.Pi=new VR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new jR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new PR(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){re("MemoryPersistence","Starting transaction:",e);const l=new qR(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class qR extends dw{constructor(e){super(),this.currentSequenceNumber=e}}class ug{constructor(e){this.persistence=e,this.Ri=new lg,this.Ai=null}static Vi(e){return new ug(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=ge.fromPath(a);return this.mi(e,l).next((c=>{c||i.removeEntry(l,Se.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class _h{constructor(e,i){this.persistence=e,this.fi=new ca((a=>pw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=DR(this,i)}static Vi(e,i){return new _h(e,i)}Ti(){}Ii(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return X.forEach(this.fi,((a,l)=>this.wr(e,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((g=>{g||(a++,c.removeEntry(d,Se.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=$c(e.data.value)),i}wr(e,i,a){return X.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class cg{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=l}static Es(e,i){let a=Fe(),l=Fe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new cg(e,i.fromCache,a,l)}}class HR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class FR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return mS()?8:mw(on())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new HR;return this.ys(e,i,d).next((g=>{if(c.result=g,this.As)return this.ws(e,i,d,g.size)}))})).next((()=>c.result))}ws(e,i,a,l){return a.documentReadCount<this.Vs?(no()<=qe.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",io(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(no()<=qe.DEBUG&&re("QueryEngine","Query:",io(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(no()<=qe.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",io(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(i))):X.resolve())}gs(e,i){if(J_(i))return X.resolve(null);let a=Vi(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Sm(i,null,"F"),a=Vi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Fe(...c);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((_=>{const v=this.bs(i,g);return this.Ss(i,v,d,_.readTime)?this.gs(e,Sm(i,null,"F")):this.Ds(e,v,i,_)}))))})))))}ps(e,i,a,l){return J_(i)||l.isEqual(Se.min())?X.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(no()<=qe.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),io(i)),this.Ds(e,d,i,uw(l,$l)).next((g=>g)))}))}bs(e,i){let a=new zt(rb(e));return i.forEach(((l,c)=>{kh(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,a){return no()<=qe.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",io(i)),this.fs.getDocumentsMatchingQuery(e,i,fr.min(),a)}Ds(e,i,a,l){return this.fs.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const hg="LocalStore",GR=3e8;class YR{constructor(e,i,a,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new yt(He),this.Fs=new ca((c=>eg(c)),tg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function KR(s,e,i,a){return new YR(s,e,i,a)}async function Cb(s,e){const i=Re(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=Fe();for(const v of l){d.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}for(const v of c){g.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(a,_).next((v=>({Ns:v,removedBatchIds:d,addedBatchIds:g})))}))}))}function QR(s,e){const i=Re(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,_,v,S){const R=v.batch,V=R.keys();let G=X.resolve();return V.forEach((W=>{G=G.next((()=>S.getEntry(_,W))).next((J=>{const Z=v.docVersions.get(W);et(Z!==null,48541),J.version.compareTo(Z)<0&&(R.applyToRemoteDocument(J,v),J.isValidDocument()&&(J.setReadTime(v.commitVersion),S.addEntry(J)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(_,R)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=Fe();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function Ib(s){const e=Re(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function XR(s,e){const i=Re(s),a=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const g=[];e.targetChanges.forEach(((S,R)=>{const V=l.get(R);if(!V)return;g.push(i.li.removeMatchingKeys(c,S.removedDocuments,R).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,R))));let G=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(R)!==null?G=G.withResumeToken(Wt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):S.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(S.resumeToken,a)),l=l.insert(R,G),(function(J,Z,ae){return J.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=GR?!0:ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0})(V,G,S)&&g.push(i.li.updateTargetData(c,G))}));let _=_s(),v=Fe();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push($R(c,d,e.documentUpdates).next((S=>{_=S.Bs,v=S.Ls}))),!a.isEqual(Se.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((R=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(S)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,v))).next((()=>_))})).then((c=>(i.vs=l,c)))}function $R(s,e,i){let a=Fe(),l=Fe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=_s();return i.forEach(((g,_)=>{const v=c.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(Se.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):re(hg,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function JR(s,e){const i=Re(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Jm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function ZR(s,e){const i=Re(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,e).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new ar(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function Nm(s,e,i){const a=Re(s),l=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Ro(d))throw d;re(hg,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(l.target)}function cv(s,e,i){const a=Re(s);let l=Se.min(),c=Fe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,S){const R=Re(_),V=R.Fs.get(S);return V!==void 0?X.resolve(R.vs.get(V)):R.li.getTargetData(v,S)})(a,d,Vi(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?l:Se.min(),i?c:Fe()))).next((g=>(WR(a,Pw(e),g),{documents:g,ks:c})))))}function WR(s,e,i){let a=s.Ms.get(e)||Se.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class hv{constructor(){this.activeTargetIds=Fw()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eN{constructor(){this.vo=new hv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new hv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tN{Mo(e){}shutdown(){}}const fv="ConnectivityMonitor";class dv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){re(fv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){re(fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fc=null;function Cm(){return Fc===null?Fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fc++,"0x"+Fc.toString(16)}const im="RestConnection",nN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class iN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===hh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(e,i,a,l,c){const d=Cm(),g=this.Qo(e,i.toUriEncodedString());re(im,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:v}=new URL(g),S=Eo(v);return this.zo(e,g,_,a,S).then((R=>(re(im,`Received RPC '${e}' ${d}: `,R),R)),(R=>{throw oa(im,`RPC '${e}' ${d} failed with error: `,R,"url: ",g,"request:",a),R}))}jo(e,i,a,l,c,d){return this.Wo(e,i,a,l,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ao})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const a=nN[e];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class sN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const nn="WebChannelConnection",Ml=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class co extends iN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!co.c_){const e=j1();Ml(e,V1.STAT_EVENT,(i=>{i.stat===ym.PROXY?re(nn,"STAT_EVENT: detected buffering proxy"):i.stat===ym.NOPROXY&&re(nn,"STAT_EVENT: detected no buffering proxy")})),co.c_=!0}}zo(e,i,a,l,c){const d=Cm();return new Promise(((g,_)=>{const v=new O1;v.setWithCredentials(!0),v.listenOnce(k1.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Xc.NO_ERROR:const R=v.getResponseJson();re(nn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(R)),g(R);break;case Xc.TIMEOUT:re(nn,`RPC '${e}' ${d} timed out`),_(new he($.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const V=v.getStatus();if(re(nn,`RPC '${e}' ${d} failed with status:`,V,"response text:",v.getResponseText()),V>0){let G=v.getResponseJson();Array.isArray(G)&&(G=G[0]);const W=G?.error;if(W&&W.status&&W.message){const J=(function(ae){const ce=ae.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ce)>=0?ce:$.UNKNOWN})(W.status);_(new he(J,W.message))}else _(new he($.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new he($.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{re(nn,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(l);re(nn,`RPC '${e}' ${d} sending request:`,l),v.send(i,"POST",S,a,15)}))}T_(e,i,a){const l=Cm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const v=c.join("");re(nn,`Creating RPC '${e}' stream ${l}: ${v}`,g);const S=d.createWebChannel(v,g);this.I_(S);let R=!1,V=!1;const G=new sN({Ho:W=>{V?re(nn,`Not sending because RPC '${e}' stream ${l} is closed:`,W):(R||(re(nn,`Opening RPC '${e}' stream ${l} transport.`),S.open(),R=!0),re(nn,`RPC '${e}' stream ${l} sending:`,W),S.send(W))},Jo:()=>S.close()});return Ml(S,Ll.EventType.OPEN,(()=>{V||(re(nn,`RPC '${e}' stream ${l} transport opened.`),G.i_())})),Ml(S,Ll.EventType.CLOSE,(()=>{V||(V=!0,re(nn,`RPC '${e}' stream ${l} transport closed`),G.o_(),this.E_(S))})),Ml(S,Ll.EventType.ERROR,(W=>{V||(V=!0,oa(nn,`RPC '${e}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),G.o_(new he($.UNAVAILABLE,"The operation could not be completed")))})),Ml(S,Ll.EventType.MESSAGE,(W=>{if(!V){const J=W.data[0];et(!!J,16349);const Z=J,ae=Z?.error||Z[0]?.error;if(ae){re(nn,`RPC '${e}' stream ${l} received error:`,ae);const ce=ae.status;let fe=(function(Te){const w=Vt[Te];if(w!==void 0)return pb(w)})(ce),xe=ae.message;ce==="NOT_FOUND"&&xe.includes("database")&&xe.includes("does not exist")&&xe.includes(this.databaseId.database)&&oa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),fe===void 0&&(fe=$.INTERNAL,xe="Unknown error status: "+ce+" with message "+ae.message),V=!0,G.o_(new he(fe,xe)),S.close()}else re(nn,`RPC '${e}' stream ${l} received:`,J),G.__(J)}})),co.u_(),setTimeout((()=>{G.s_()}),0),G}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return L1()}}function rN(s){return new co(s)}function sm(){return typeof document<"u"?document:null}function Ph(s){return new uR(s,!0)}co.c_=!1;class Db{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&re("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const mv="PersistentStream";class Mb{constructor(e,i,a,l,c,d,g,_){this.Ci=e,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Db(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ys(i.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new he($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return re(mv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(re(mv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class aN extends Mb{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=fR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Se.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?Li(d.readTime):Se.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=Rm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=Tm(_)?{documents:gR(c,_)}:{query:pR(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=vb(c,d.resumeToken);const v=xm(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(Se.min())>0){g.readTime=yh(c,d.snapshotVersion.toTimestamp());const v=xm(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,e);const a=_R(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=Rm(this.serializer),i.removeTarget=e,this.K_(i)}}class oN extends Mb{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=mR(e.writeResults,e.commitTime),a=Li(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Rm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>dR(this.serializer,a)))};this.K_(i)}}class lN{}class uN extends lN{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new he($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,Am(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he($.UNKNOWN,c.toString())}))}jo(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,Am(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function cN(s,e,i,a){return new uN(s,e,i,a)}class hN{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ys(i),this.aa=!1):re("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const la="RemoteStore";class fN{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{fa(this)&&(re(la,"Restarting streams for network reachability change."),await(async function(_){const v=Re(_);v.Ea.add(4),await du(v),v.Va.set("Unknown"),v.Ea.delete(4),await Uh(v)})(this))}))})),this.Va=new hN(a,l)}}async function Uh(s){if(fa(s))for(const e of s.Ra)await e(!0)}async function du(s){for(const e of s.Ra)await e(!1)}function Ob(s,e){const i=Re(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),gg(i)?mg(i):No(i).O_()&&dg(i,e))}function fg(s,e){const i=Re(s),a=No(i);i.Ia.delete(e),a.O_()&&kb(i,e),i.Ia.size===0&&(a.O_()?a.L_():fa(i)&&i.Va.set("Unknown"))}function dg(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}No(s).Z_(e)}function kb(s,e){s.da.$e(e),No(s).X_(e)}function mg(s){s.da=new rR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),No(s).start(),s.Va.ua()}function gg(s){return fa(s)&&!No(s).x_()&&s.Ia.size>0}function fa(s){return Re(s).Ea.size===0}function Vb(s){s.da=void 0}async function dN(s){s.Va.set("Online")}async function mN(s){s.Ia.forEach(((e,i)=>{dg(s,e)}))}async function gN(s,e){Vb(s),gg(s)?(s.Va.ha(e),mg(s)):s.Va.set("Unknown")}async function pN(s,e,i){if(s.Va.set("Online"),e instanceof _b&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(s,e)}catch(a){re(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await vh(s,a)}else if(e instanceof Wc?s.da.Xe(e):e instanceof yb?s.da.st(e):s.da.tt(e),!i.isEqual(Se.min()))try{const a=await Ib(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const S=c.Ia.get(v);S&&c.Ia.set(v,S.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,v)=>{const S=c.Ia.get(_);if(!S)return;c.Ia.set(_,S.withResumeToken(Wt.EMPTY_BYTE_STRING,S.snapshotVersion)),kb(c,_);const R=new ar(S.target,_,v,S.sequenceNumber);dg(c,R)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){re(la,"Failed to raise snapshot:",a),await vh(s,a)}}async function vh(s,e,i){if(!Ro(e))throw e;s.Ea.add(1),await du(s),s.Va.set("Offline"),i||(i=()=>Ib(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{re(la,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Uh(s)}))}function jb(s,e){return e().catch((i=>vh(s,i,e)))}async function zh(s){const e=Re(s),i=pr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jm;for(;yN(e);)try{const l=await JR(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,_N(e,l)}catch(l){await vh(e,l)}Lb(e)&&Pb(e)}function yN(s){return fa(s)&&s.Ta.length<10}function _N(s,e){s.Ta.push(e);const i=pr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function Lb(s){return fa(s)&&!pr(s).x_()&&s.Ta.length>0}function Pb(s){pr(s).start()}async function vN(s){pr(s).ra()}async function bN(s){const e=pr(s);for(const i of s.Ta)e.ea(i.mutations)}async function EN(s,e,i){const a=s.Ta.shift(),l=rg.from(a,e,i);await jb(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await zh(s)}async function TN(s,e){e&&pr(s).Y_&&await(async function(a,l){if((function(d){return nR(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();pr(a).B_(),await jb(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await zh(a)}})(s,e),Lb(s)&&Pb(s)}async function gv(s,e){const i=Re(s);i.asyncQueue.verifyOperationInProgress(),re(la,"RemoteStore received new credentials");const a=fa(i);i.Ea.add(3),await du(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Uh(i)}async function SN(s,e){const i=Re(s);e?(i.Ea.delete(2),await Uh(i)):e||(i.Ea.add(2),await du(i),i.Va.set("Unknown"))}function No(s){return s.ma||(s.ma=(function(i,a,l){const c=Re(i);return c.sa(),new aN(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:dN.bind(null,s),Yo:mN.bind(null,s),t_:gN.bind(null,s),J_:pN.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),gg(s)?mg(s):s.Va.set("Unknown")):(await s.ma.stop(),Vb(s))}))),s.ma}function pr(s){return s.fa||(s.fa=(function(i,a,l){const c=Re(i);return c.sa(),new oN(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:vN.bind(null,s),t_:TN.bind(null,s),ta:bN.bind(null,s),na:EN.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await zh(s)):(await s.fa.stop(),s.Ta.length>0&&(re(la,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class pg{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,g=new pg(e,i,d,l,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yg(s,e){if(ys("AsyncQueue",`${e}: ${s}`),Ro(s))return new he($.UNAVAILABLE,`${e}: ${s}`);throw s}class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ge.comparator(i.key,a.key):(i,a)=>ge.comparator(i.key,a.key),this.keyedMap=Pl(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ho;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class pv{constructor(){this.ga=new yt(ge.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class vo{constructor(e,i,a,l,c,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new vo(e,i,ho.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class xN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class AN{constructor(){this.queries=yv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Re(i),c=l.queries;l.queries=yv(),c.forEach(((d,g)=>{for(const _ of g.ba)_.onError(a)}))})(this,new he($.ABORTED,"Firestore shutting down"))}}function yv(){return new ca((s=>sb(s)),Oh)}async function wN(s,e){const i=Re(s);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(a=2):(c=new xN,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=yg(d,`Initialization of query '${io(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&_g(i)}async function RN(s,e){const i=Re(s),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function NN(s,e){const i=Re(s);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(a=!0);d.wa=l}}a&&_g(i)}function CN(s,e,i){const a=Re(s),l=a.queries.get(e);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(e)}function _g(s){s.Ca.forEach((e=>{e.next()}))}var Im,_v;(_v=Im||(Im={})).Ma="default",_v.Cache="cache";class IN{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new vo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Im.Cache}}class Ub{constructor(e){this.key=e}}class zb{constructor(e){this.key=e}}class DN{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Fe(),this.mutatedKeys=Fe(),this.eu=rb(e),this.tu=new ho(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new pv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((S,R)=>{const V=l.get(S),G=kh(this.query,R)?R:null,W=!!V&&this.mutatedKeys.has(V.key),J=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Z=!1;V&&G?V.data.isEqual(G.data)?W!==J&&(a.track({type:3,doc:G}),Z=!0):this.su(V,G)||(a.track({type:2,doc:G}),Z=!0,(_&&this.eu(G,_)>0||v&&this.eu(G,v)<0)&&(g=!0)):!V&&G?(a.track({type:0,doc:G}),Z=!0):V&&!G&&(a.track({type:1,doc:V}),Z=!0,(_||v)&&(g=!0)),Z&&(G?(d=d.add(G),c=J?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,R)=>(function(G,W){const J=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:Z})}};return J(G)-J(W)})(S.type,R.type)||this.eu(S.doc,R.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,v=_!==this.Xa;return this.Xa=_,d.length!==0||v?{snapshot:new vo(this.query,e.tu,c,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Fe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new zb(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new Ub(a))})),i}cu(e){this.Za=e.ks,this.Ya=Fe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const vg="SyncEngine";class MN{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class ON{constructor(e){this.key=e,this.hu=!1}}class kN{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ca((g=>sb(g)),Oh),this.Iu=new Map,this.Eu=new Set,this.Ru=new yt(ge.comparator),this.Au=new Map,this.Vu=new lg,this.du={},this.mu=new Map,this.fu=_o.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VN(s,e,i=!0){const a=Yb(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await Bb(a,e,i,!0),l}async function jN(s,e){const i=Yb(s);await Bb(i,e,!0,!1)}async function Bb(s,e,i,a){const l=await ZR(s.localStore,Vi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await LN(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&Ob(s.remoteStore,l),g}async function LN(s,e,i,a,l){s.pu=(R,V,G)=>(async function(J,Z,ae,ce){let fe=Z.view.ru(ae);fe.Ss&&(fe=await cv(J.localStore,Z.query,!1).then((({documents:w})=>Z.view.ru(w,fe))));const xe=ce&&ce.targetChanges.get(Z.targetId),Ve=ce&&ce.targetMismatches.get(Z.targetId)!=null,Te=Z.view.applyChanges(fe,J.isPrimaryClient,xe,Ve);return bv(J,Z.targetId,Te.au),Te.snapshot})(s,R,V,G);const c=await cv(s.localStore,e,!0),d=new DN(e,c.ks),g=d.ru(c.documents),_=fu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),v=d.applyChanges(g,s.isPrimaryClient,_);bv(s,i,v.au);const S=new MN(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),v.snapshot}async function PN(s,e,i){const a=Re(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Oh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Nm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&fg(a.remoteStore,l.targetId),Dm(a,l.targetId)})).catch(wo)):(Dm(a,l.targetId),await Nm(a.localStore,l.targetId,!0))}async function UN(s,e){const i=Re(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),fg(i.remoteStore,a.targetId))}async function zN(s,e,i){const a=KN(s);try{const l=await(function(d,g){const _=Re(d),v=mt.now(),S=g.reduce(((G,W)=>G.add(W.key)),Fe());let R,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let W=_s(),J=Fe();return _.xs.getEntries(G,S).next((Z=>{W=Z,W.forEach(((ae,ce)=>{ce.isValidDocument()||(J=J.add(ae))}))})).next((()=>_.localDocuments.getOverlayedDocuments(G,W))).next((Z=>{R=Z;const ae=[];for(const ce of g){const fe=Jw(ce,R.get(ce.key).overlayedDocument);fe!=null&&ae.push(new ha(ce.key,fe,J1(fe.value.mapValue),ji.exists(!0)))}return _.mutationQueue.addMutationBatch(G,v,ae,g)})).next((Z=>{V=Z;const ae=Z.applyToLocalDocumentSet(R,J);return _.documentOverlayCache.saveOverlays(G,Z.batchId,ae)}))})).then((()=>({batchId:V.batchId,changes:ob(R)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let v=d.du[d.currentUser.toKey()];v||(v=new yt(He)),v=v.insert(g,_),d.du[d.currentUser.toKey()]=v})(a,l.batchId,i),await mu(a,l.changes),await zh(a.remoteStore)}catch(l){const c=yg(l,"Failed to persist write");i.reject(c)}}async function qb(s,e){const i=Re(s);try{const a=await XR(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(et(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?et(d.hu,14607):l.removedDocuments.size>0&&(et(d.hu,42227),d.hu=!1))})),await mu(i,a,e)}catch(a){await wo(a)}}function vv(s,e,i){const a=Re(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=Re(d);_.onlineState=g;let v=!1;_.queries.forEach(((S,R)=>{for(const V of R.ba)V.va(g)&&(v=!0)})),v&&_g(_)})(a.eventManager,e),l.length&&a.Pu.J_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function BN(s,e,i){const a=Re(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new yt(ge.comparator);d=d.insert(c,an.newNoDocument(c,Se.min()));const g=Fe().add(c),_=new Lh(Se.min(),new Map,new yt(He),d,g);await qb(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(e),bg(a)}else await Nm(a.localStore,e,!1).then((()=>Dm(a,e,i))).catch(wo)}async function qN(s,e){const i=Re(s),a=e.batch.batchId;try{const l=await QR(i.localStore,e);Fb(i,a,null),Hb(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await mu(i,l)}catch(l){await wo(l)}}async function HN(s,e,i){const a=Re(s);try{const l=await(function(d,g){const _=Re(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let S;return _.mutationQueue.lookupMutationBatch(v,g).next((R=>(et(R!==null,37113),S=R.keys(),_.mutationQueue.removeMutationBatch(v,R)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,S,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,S))).next((()=>_.localDocuments.getDocuments(v,S)))}))})(a.localStore,e);Fb(a,e,i),Hb(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await mu(a,l)}catch(l){await wo(l)}}function Hb(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function Fb(s,e,i){const a=Re(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.du[a.currentUser.toKey()]=l}}function Dm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||Gb(s,a)}))}function Gb(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(fg(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),bg(s))}function bv(s,e,i){for(const a of i)a instanceof Ub?(s.Vu.addReference(a.key,e),FN(s,a)):a instanceof zb?(re(vg,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||Gb(s,a.key)):Ee(19791,{wu:a})}function FN(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(re(vg,"New document in limbo: "+i),s.Eu.add(a),bg(s))}function bg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ge(dt.fromString(e)),a=s.fu.next();s.Au.set(a,new ON(i)),s.Ru=s.Ru.insert(i,a),Ob(s.remoteStore,new ar(Vi(ng(i.path)),a,"TargetPurposeLimboResolution",Ch.ce))}}async function mu(s,e,i){const a=Re(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,e,i).then((v=>{if((v||i)&&a.isPrimaryClient){const S=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(v){l.push(v);const S=cg.Es(_.targetId,v);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(_,v){const S=Re(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>X.forEach(v,(V=>X.forEach(V.Ts,(G=>S.persistence.referenceDelegate.addReference(R,V.targetId,G))).next((()=>X.forEach(V.Is,(G=>S.persistence.referenceDelegate.removeReference(R,V.targetId,G)))))))))}catch(R){if(!Ro(R))throw R;re(hg,"Failed to update sequence numbers: "+R)}for(const R of v){const V=R.targetId;if(!R.fromCache){const G=S.vs.get(V),W=G.snapshotVersion,J=G.withLastLimboFreeSnapshotVersion(W);S.vs=S.vs.insert(V,J)}}})(a.localStore,c))}async function GN(s,e){const i=Re(s);if(!i.currentUser.isEqual(e)){re(vg,"User change. New user:",e.toKey());const a=await Cb(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new he($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await mu(i,a.Ns)}}function YN(s,e){const i=Re(s),a=i.Au.get(e);if(a&&a.hu)return Fe().add(a.key);{let l=Fe();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function Yb(s){const e=Re(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=qb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BN.bind(null,e),e.Pu.J_=NN.bind(null,e.eventManager),e.Pu.yu=CN.bind(null,e.eventManager),e}function KN(s){const e=Re(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HN.bind(null,e),e}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return KR(this.persistence,new FR,e.initialUser,this.serializer)}Cu(e){return new Nb(ug.Vi,this.serializer)}Du(e){return new eN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class QN extends bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){et(this.persistence.referenceDelegate instanceof _h,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new CR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new Nb((a=>_h.Vi(a,i)),this.serializer)}}class Mm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>vv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=GN.bind(null,this.syncEngine),await SN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new AN})()}createDatastore(e){const i=Ph(e.databaseInfo.databaseId),a=rN(e.databaseInfo);return cN(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,g){return new fN(a,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>vv(this.syncEngine,i,0)),(function(){return dv.v()?new dv:new tN})())}createSyncEngine(e,i){return(function(l,c,d,g,_,v,S){const R=new kN(l,c,d,g,_,v);return S&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Re(i);re(la,"RemoteStore shutting down."),a.Ea.add(5),await du(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Mm.provider={build:()=>new Mm};class XN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ys("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const yr="FirestoreClient";class $N{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=Xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{re(yr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(re(yr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=yg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function rm(s,e){s.asyncQueue.verifyOperationInProgress(),re(yr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await Cb(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Ev(s,e){s.asyncQueue.verifyOperationInProgress();const i=await JN(s);re(yr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>gv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>gv(e.remoteStore,l))),s._onlineComponents=e}async function JN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){re(yr,"Using user provided OfflineComponentProvider");try{await rm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;oa("Error using user provided cache. Falling back to memory cache: "+i),await rm(s,new bh)}}else re(yr,"Using default OfflineComponentProvider"),await rm(s,new QN(void 0));return s._offlineComponents}async function Kb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(re(yr,"Using user provided OnlineComponentProvider"),await Ev(s,s._uninitializedComponentsProvider._online)):(re(yr,"Using default OnlineComponentProvider"),await Ev(s,new Mm))),s._onlineComponents}function ZN(s){return Kb(s).then((e=>e.syncEngine))}async function Tv(s){const e=await Kb(s),i=e.eventManager;return i.onListen=VN.bind(null,e.syncEngine),i.onUnlisten=PN.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=jN.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=UN.bind(null,e.syncEngine),i}function WN(s,e,i,a){const l=new XN(a),c=new IN(e,l,i);return s.asyncQueue.enqueueAndForget((async()=>wN(await Tv(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>RN(await Tv(s),c)))}}function eC(s,e){const i=new ea;return s.asyncQueue.enqueueAndForget((async()=>zN(await ZN(s),e,i))),i.promise}function Qb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const tC="ComponentProvider",Sv=new Map;function nC(s,e,i,a,l){return new vw(s,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Qb(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const Xb="firestore.googleapis.com",xv=!0;class Av{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xb,this.ssl=xv}else this.host=e.host,this.ssl=e.ssl??xv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Rb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RR)throw new he($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qb(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new he($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new he($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new he($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bh{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Av(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Z2;switch(a.type){case"firstParty":return new nw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new he($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Sv.get(i);a&&(re(tC,"Removing Datastore"),Sv.delete(i),a.terminate())})(this),Promise.resolve()}}function iC(s,e,i,a={}){s=ta(s,Bh);const l=Eo(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;l&&(Hv(`https://${g}`),Fv("Firestore",!0)),c.host!==Xb&&c.host!==g&&oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:a};if(!ia(_,d)&&(s._setSettings(_),a.mockUserToken)){let v,S;if(typeof a.mockUserToken=="string")v=a.mockUserToken,S=rn.MOCK_USER;else{v=rS(a.mockUserToken,s._app?.options.projectId);const R=a.mockUserToken.sub||a.mockUserToken.user_id;if(!R)throw new he($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new rn(R)}s._authCredentials=new W2(new U1(v,S))}}class qh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new qh(this.firestore,e,this._query)}}class Ut{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(cu(i,Ut._jsonSchema))return new Ut(e,a||null,new ge(dt.fromString(i.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:jt("string",Ut._jsonSchemaVersion),referencePath:jt("string")};class hr extends qh{constructor(e,i,a){super(e,i,ng(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new ge(e))}withConverter(e){return new hr(this.firestore,e,this._path)}}function Ol(s,e,...i){if(s=cn(s),z1("collection","path",e),s instanceof Bh){const a=dt.fromString(e,...i);return P_(a),new hr(s,null,a)}{if(!(s instanceof Ut||s instanceof hr))throw new he($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(dt.fromString(e,...i));return P_(a),new hr(s.firestore,null,a)}}function ii(s,e,...i){if(s=cn(s),arguments.length===1&&(e=Xm.newId()),z1("doc","path",e),s instanceof Bh){const a=dt.fromString(e,...i);return L_(a),new Ut(s,null,new ge(a))}{if(!(s instanceof Ut||s instanceof hr))throw new he($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(dt.fromString(e,...i));return L_(a),new Ut(s.firestore,s instanceof hr?s.converter:null,new ge(a))}}const wv="AsyncQueue";class Rv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Db(this,"async_queue_retry"),this._c=()=>{const a=sm();a&&re(wv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=sm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=sm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ea;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ro(e))throw e;re(wv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ys("INTERNAL UNHANDLED ERROR: ",Nv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=pg.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ee(47125,{Pc:Nv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Nv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class nu extends Bh{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new Rv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rv(e),this._firestoreClient=void 0,await e}}}function sC(s,e){const i=typeof s=="object"?s:Qv(),a=typeof s=="string"?s:hh,l=Um(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=iS("firestore");c&&iC(l,...c)}return l}function $b(s){if(s._terminated)throw new he($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||rC(s),s._firestoreClient}function rC(s){const e=s._freezeSettings(),i=nC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new $N(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(Wt.fromBase64String(e))}catch(i){throw new he($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Gn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cu(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:jt("string",Gn._jsonSchemaVersion),bytes:jt("string")};class Jb{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new he($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zb{constructor(e){this._methodName=e}}class Pi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new he($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new he($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(e){if(cu(e,Pi._jsonSchema))return new Pi(e.latitude,e.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:jt("string",Pi._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};class oi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cu(e,oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new oi(e.vectorValues);throw new he($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oi._jsonSchemaVersion="firestore/vectorValue/1.0",oi._jsonSchema={type:jt("string",oi._jsonSchemaVersion),vectorValues:jt("object")};const aC=/^__.*__$/;class oC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new ha(e,this.data,this.fieldMask,i,this.fieldTransforms):new hu(e,this.data,i,this.fieldTransforms)}}function Wb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:s})}}class Eg{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Eg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Eh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Wb(this.dataSource)&&aC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class lC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ph(e)}createContext(e,i,a,l=!1){return new Eg({dataSource:e,methodName:i,targetDoc:a,path:Zt.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uC(s){const e=s._freezeSettings(),i=Ph(s._databaseId);return new lC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function cC(s,e,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,l);iE("Data must be an object, but it was:",d,a);const g=tE(a,d);let _,v;if(c.merge)_=new ri(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const R of c.mergeFields){const V=Tg(e,R,i);if(!d.contains(V))throw new he($.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);dC(S,V)||S.push(V)}_=new ri(S),v=d.fieldTransforms.filter((R=>_.covers(R.field)))}else _=null,v=d.fieldTransforms;return new oC(new Fn(g),_,v)}function eE(s,e){if(nE(s=cn(s)))return iE("Unsupported field value:",e,s),tE(s,e);if(s instanceof Zb)return(function(a,l){if(!Wb(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let _=eE(g,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=cn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Gw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=mt.fromDate(a);return{timestampValue:yh(l.serializer,c)}}if(a instanceof mt){const c=new mt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:yh(l.serializer,c)}}if(a instanceof Pi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Gn)return{bytesValue:vb(l.serializer,a._byteString)};if(a instanceof Ut){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:og(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof oi)return(function(d,g){const _=d instanceof oi?d.toArray():d;return{mapValue:{fields:{[X1]:{stringValue:$1},[fh]:{arrayValue:{values:_.map((S=>{if(typeof S!="number")throw g.createError("VectorValues must only contain numeric values.");return ig(g.serializer,S)}))}}}}}})(a,l);if(wb(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${$m(a)}`)})(s,e)}function tE(s,e){const i={};return H1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(s,((a,l)=>{const c=eE(l,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function nE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof mt||s instanceof Pi||s instanceof Gn||s instanceof Ut||s instanceof Zb||s instanceof oi||wb(s))}function iE(s,e,i){if(!nE(i)||!B1(i)){const a=$m(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function Tg(s,e,i){if((e=cn(e))instanceof Jb)return e._internalPath;if(typeof e=="string")return fC(s,e);throw Eh("Field path arguments must be of type string or ",s,!1,void 0,i)}const hC=new RegExp("[~\\*/\\[\\]]");function fC(s,e,i){if(e.search(hC)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Jb(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Eh(s,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new he($.INVALID_ARGUMENT,g+s+_)}function dC(s,e){return s.some((i=>i.isEqual(e)))}class mC{convertValue(e,i="none"){switch(gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return ua(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[fh].arrayValue?.values?.map((a=>Rt(a.doubleValue)));return new oi(i)}convertGeoPoint(e){return new Pi(Rt(e.latitude),Rt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Dh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const i=dr(e);return new mt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=dt.fromString(e);et(Ab(a),9688,{name:e});const l=new Zl(a.get(1),a.get(3)),c=new ge(a.popFirst(5));return l.isEqual(i)||ys(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class sE extends mC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,i)}}const Cv="@firebase/firestore",Iv="4.11.0";function Dv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class rE{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Tg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class gC extends rE{data(){return super.data()}}function pC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new he($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function yC(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class zl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class na extends rE{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Tg("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=na._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:jt("string",na._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class eh extends na{data(e={}){return super.data(e)}}class fo{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new zl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new eh(this._firestore,this._userDataWriter,a.key,a,new zl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new he($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new eh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new zl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new eh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new zl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,S=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:_C(g.type),doc:_,oldIndex:v,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _C(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:s})}}fo._jsonSchemaVersion="firestore/querySnapshot/1.0",fo._jsonSchema={type:jt("string",fo._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};function tr(s,e,i){s=ta(s,Ut);const a=ta(s.firestore,nu),l=yC(s.converter,e),c=uC(a);return aE(a,[cC(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,ji.none())])}function am(s){return aE(ta(s.firestore,nu),[new sg(s._key,ji.none())])}function kl(s,...e){s=cn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Dv(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Dv(e[a])){const v=e[a];e[a]=v.next?.bind(v),e[a+1]=v.error?.bind(v),e[a+2]=v.complete?.bind(v)}let c,d,g;if(s instanceof Ut)d=ta(s.firestore,nu),g=ng(s._key.path),c={next:v=>{e[a]&&e[a](vC(d,s,v))},error:e[a+1],complete:e[a+2]};else{const v=ta(s,qh);d=ta(v.firestore,nu),g=v._query;const S=new sE(d);c={next:R=>{e[a]&&e[a](new fo(d,S,v,R))},error:e[a+1],complete:e[a+2]},pC(s._query)}const _=$b(d);return WN(_,g,l,c)}function aE(s,e){const i=$b(s);return eC(i,e)}function vC(s,e,i){const a=i.docs.get(e._key),l=new sE(s);return new na(s,l,e._key,a,new zl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){J2(To),mo(new sa("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new nu(new ew(a.getProvider("auth-internal")),new iw(d,a.getProvider("app-check-internal")),bw(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),ur(Cv,Iv,e),ur(Cv,Iv,"esm2020")})();const oE=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const bC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const EC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const Mv=s=>{const e=EC(s);return e.charAt(0).toUpperCase()+e.slice(1)};var TC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const SC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const xC=me.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},_)=>me.createElement("svg",{ref:_,...TC,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:oE("lucide",l),...!c&&!SC(g)&&{"aria-hidden":"true"},...g},[...d.map(([v,S])=>me.createElement(v,S)),...Array.isArray(c)?c:[c]]));const ke=(s,e)=>{const i=me.forwardRef(({className:a,...l},c)=>me.createElement(xC,{ref:c,iconNode:e,className:oE(`lucide-${bC(Mv(s))}`,`lucide-${s}`,a),...l}));return i.displayName=Mv(s),i};const AC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],to=ke("arrow-right",AC);const wC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],RC=ke("book-open",wC);const NC=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],bo=ke("brain-circuit",NC);const CC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],gu=ke("calendar-days",CC);const IC=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Sg=ke("chart-column",IC);const DC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],xg=ke("chevron-down",DC);const MC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ag=ke("chevron-left",MC);const OC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wg=ke("chevron-right",OC);const kC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],VC=ke("chevron-up",kC);const jC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],iu=ke("circle-alert",jC);const LC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],su=ke("circle-check",LC);const PC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Om=ke("circle",PC);const UC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],Rg=ke("clock",UC);const zC=[["path",{d:"M10.94 5.274A7 7 0 0 1 15.71 10h1.79a4.5 4.5 0 0 1 4.222 6.057",key:"1uxyv8"}],["path",{d:"M18.796 18.81A4.5 4.5 0 0 1 17.5 19H9A7 7 0 0 1 5.79 5.78",key:"99tcn7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ov=ke("cloud-off",zC);const BC=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],qC=ke("cloud-upload",BC);const HC=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],kv=ke("cloud",HC);const FC=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],GC=ke("external-link",FC);const YC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],KC=ke("file-text",YC);const QC=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],XC=ke("flag",QC);const $C=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],JC=ke("gauge",$C);const ZC=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],WC=ke("graduation-cap",ZC);const eI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],tI=ke("history",eI);const nI=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],iI=ke("layout-dashboard",nI);const sI=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],Hh=ke("list-todo",sI);const rI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],om=ke("loader-circle",rI);const aI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],oI=ke("lock",aI);const lI=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],uI=ke("log-in",lI);const cI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],hI=ke("log-out",cI);const fI=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],dI=ke("mail",fI);const mI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],gI=ke("map-pin",mI);const pI=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],km=ke("palette",pI);const yI=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],_I=ke("pen",yI);const vI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Th=ke("plus",vI);const bI=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],EI=ke("save",bI);const TI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Vv=ke("sparkles",TI);const SI=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],Sh=ke("sticky-note",SI);const xI=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],AI=ke("tag",xI);const wI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Fh=ke("trash-2",wI);const RI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],NI=ke("user",RI);const CI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jv=ke("x",CI);let th=null;typeof __firebase_config<"u"&&(th=JSON.parse(__firebase_config));const xh=th&&th.apiKey!=="AIzaSyBAFxF6ybj4g1EpBathg0oGael7TnYBrWE"?Kv(th):null,fs=xh?X2(xh):null,st=xh?sC(xh):null,sn=typeof __app_id<"u"?__app_id:"default-app-id",II="AIzaSyBM_neRfdZl0LP0qm6upTPz3x2ke7kZZQU",DI=async(s,e,i=5)=>{const a=[1e3,2e3,4e3,8e3,16e3];for(let l=0;l<i;l++)try{const c=await fetch(s,e);if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);return await c.json()}catch(c){if(l===i-1)throw c;await new Promise(d=>setTimeout(d,a[l]))}},MI=async(s,e,i,a,l,c)=>{const d=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${II}`,g=`You are an expert academic study planner for the subject: "${s}". 
Your task is to analyze a provided syllabus and create a realistic, day-by-day study schedule between the start date and end date.
First, extract the core topics from the provided material.
Crucially, you must evaluate the complexity of each topic. Allocate more time for topics you infer to be hard, and less time for easy topics. 
Do not exceed the user's daily study hours.
IMPORTANT: If a topic is 'Easy', but the user's Max Daily Study Hours is higher than needed, provide a 'suggestion' (hasSuggestion: true) with a 'message' and a 'suggestedHours'.
Return the schedule STRICTLY matching the provided JSON schema.`,_=[];i&&(_.push({inlineData:{mimeType:i.mimeType,data:i.data}}),_.push({text:"Please extract the syllabus topics from the provided document."})),e&&e.trim()&&_.push({text:`Additional Syllabus Text:
${e}`}),_.push({text:`
Parameters:
Start Date: ${a}
End Date: ${l}
Max Daily Study Hours: ${c}`});const R=(await DI(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({systemInstruction:{parts:[{text:g}]},contents:[{parts:_}],generationConfig:{responseMimeType:"application/json",responseSchema:{type:"OBJECT",properties:{schedule:{type:"ARRAY",items:{type:"OBJECT",properties:{date:{type:"STRING"},dayNumber:{type:"INTEGER"},totalHoursScheduled:{type:"NUMBER"},topics:{type:"ARRAY",items:{type:"OBJECT",properties:{topicName:{type:"STRING"},difficulty:{type:"STRING"},allocatedHours:{type:"NUMBER"},reasoning:{type:"STRING"},suggestion:{type:"OBJECT",properties:{hasSuggestion:{type:"BOOLEAN"},message:{type:"STRING"},suggestedHours:{type:"NUMBER"}}}},required:["topicName","difficulty","allocatedHours","reasoning"]}}},required:["date","dayNumber","totalHoursScheduled","topics"]}}},required:["schedule"]}}})})).candidates?.[0]?.content?.parts?.[0]?.text;if(!R)throw new Error("Failed to parse AI response");return{...JSON.parse(R),id:Date.now().toString(),subjectName:s}},lE=({level:s})=>{const i={Easy:"bg-green-100 text-green-800 border-green-200",Medium:"bg-yellow-100 text-yellow-800 border-yellow-200",Hard:"bg-red-100 text-red-800 border-red-200"}[s]||"bg-gray-100 text-gray-800 border-gray-200";return y.jsxs("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium border ${i} flex items-center gap-1 w-max`,children:[y.jsx(JC,{size:12})," ",s]})},OI=({setActiveTab:s,setTheme:e,currentTheme:i})=>{const a=me.useRef(null),l=["light","dark","cyber","modern","pastel","midnight","forest","sunset"],c=()=>a.current?.scrollIntoView({behavior:"smooth"});return y.jsxs("div",{className:"space-y-16 pb-20 animate-in fade-in duration-500",children:[y.jsxs("div",{className:"text-center py-16 px-4 bg-white rounded-3xl shadow-sm border border-slate-200 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full max-w-2xl h-64 bg-indigo-50 rounded-full blur-3xl opacity-50 pointer-events-none"}),y.jsxs("div",{className:"relative z-10 max-w-3xl mx-auto space-y-6",children:[y.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-indigo-50 border border-indigo-100 text-indigo-600 text-sm font-semibold mb-4",children:[y.jsx(Vv,{size:16}),y.jsx("span",{children:"All-In-One Study Hub"})]}),y.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 tracking-tight leading-tight",children:["Master your syllabus with ",y.jsx("br",{className:"hidden md:block"})," intelligent scheduling."]}),y.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto leading-relaxed",children:"Upload multiple courseworks and let AI organize your study days. Group your tasks by subject and stay on top of daily goals."}),y.jsx("div",{className:"pt-4 flex items-center justify-center gap-4 flex-wrap",children:y.jsxs("button",{onClick:()=>s("planner"),className:"inline-flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-4 rounded-xl font-bold text-lg shadow-sm transition-all hover:-translate-y-0.5",children:["Start Planning Now ",y.jsx(to,{size:20})]})})]})]}),y.jsxs("div",{className:"space-y-8",children:[y.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2 px-2",children:[y.jsx(Vv,{className:"text-indigo-500",size:24}),"Explore Features"]}),y.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[y.jsxs("div",{onClick:()=>s("planner"),className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200 hover:border-indigo-400 hover:shadow-md cursor-pointer transition-all hover:-translate-y-1 group relative",children:[y.jsx("div",{className:"absolute top-6 right-6 opacity-0 group-hover:opacity-100 transition-opacity text-indigo-400",children:y.jsx(to,{size:20})}),y.jsx("div",{className:"w-12 h-12 bg-indigo-100 text-indigo-600 rounded-xl flex items-center justify-center mb-5 group-hover:scale-110 transition-transform",children:y.jsx(bo,{size:24})}),y.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Multi-Subject AI Planner"}),y.jsxs("p",{className:"text-slate-600 text-sm leading-relaxed",children:["Upload multiple subjects. The AI uses ",y.jsx("strong",{children:"[Inference]"})," to break down topics without overwriting previous subject data."]})]}),y.jsxs("div",{onClick:()=>s("calendar"),className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200 hover:border-indigo-400 hover:shadow-md cursor-pointer transition-all hover:-translate-y-1 group relative",children:[y.jsx("div",{className:"absolute top-6 right-6 opacity-0 group-hover:opacity-100 transition-opacity text-indigo-400",children:y.jsx(to,{size:20})}),y.jsx("div",{className:"w-12 h-12 bg-indigo-100 text-indigo-600 rounded-xl flex items-center justify-center mb-5 group-hover:scale-110 transition-transform",children:y.jsx(gu,{size:24})}),y.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Aggregated Calendar"}),y.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:"View all scheduled topics from all subjects in one global calendar view."})]}),y.jsxs("div",{onClick:()=>s("todo"),className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200 hover:border-indigo-400 hover:shadow-md cursor-pointer transition-all hover:-translate-y-1 group relative",children:[y.jsx("div",{className:"absolute top-6 right-6 opacity-0 group-hover:opacity-100 transition-opacity text-indigo-400",children:y.jsx(to,{size:20})}),y.jsx("div",{className:"w-12 h-12 bg-indigo-100 text-indigo-600 rounded-xl flex items-center justify-center mb-5 group-hover:scale-110 transition-transform",children:y.jsx(Hh,{size:24})}),y.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Priority Task Groups"}),y.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:"Your to-do list groups tasks by subject. Today's items are always pinned at the top."})]}),y.jsxs("div",{onClick:()=>s("notes"),className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200 hover:border-indigo-400 hover:shadow-md cursor-pointer transition-all hover:-translate-y-1 group relative",children:[y.jsx("div",{className:"absolute top-6 right-6 opacity-0 group-hover:opacity-100 transition-opacity text-indigo-400",children:y.jsx(to,{size:20})}),y.jsx("div",{className:"w-12 h-12 bg-indigo-100 text-indigo-600 rounded-xl flex items-center justify-center mb-5 group-hover:scale-110 transition-transform",children:y.jsx(Sh,{size:24})}),y.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Subject Notes"}),y.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:"A dedicated area to jot down notes for each subject separately."})]}),y.jsxs("div",{onClick:()=>s("history"),className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200 hover:border-indigo-400 hover:shadow-md cursor-pointer transition-all hover:-translate-y-1 group relative",children:[y.jsx("div",{className:"absolute top-6 right-6 opacity-0 group-hover:opacity-100 transition-opacity text-indigo-400",children:y.jsx(to,{size:20})}),y.jsx("div",{className:"w-12 h-12 bg-indigo-100 text-indigo-600 rounded-xl flex items-center justify-center mb-5 group-hover:scale-110 transition-transform",children:y.jsx(Sg,{size:24})}),y.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"History & Analysis"}),y.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:"Analyze performance across all subjects. See what you finished and what's left behind."})]}),y.jsxs("div",{onClick:c,className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200 hover:border-indigo-400 hover:shadow-md cursor-pointer transition-all hover:-translate-y-1 group relative",children:[y.jsx("div",{className:"absolute top-6 right-6 opacity-0 group-hover:opacity-100 transition-opacity text-indigo-400",children:y.jsx(xg,{size:20})}),y.jsx("div",{className:"w-12 h-12 bg-indigo-100 text-indigo-600 rounded-xl flex items-center justify-center mb-5 group-hover:scale-110 transition-transform",children:y.jsx(km,{size:24})}),y.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Dynamic Themes"}),y.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:"Customize your hub with one of our eight beautiful themes."})]})]})]}),y.jsxs("div",{className:"bg-indigo-900 text-white rounded-3xl p-8 md:p-12 shadow-2xl relative overflow-hidden group",children:[y.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-800 rounded-full blur-3xl opacity-20 -mr-20 -mt-20"}),y.jsxs("div",{className:"relative z-10 grid md:grid-cols-2 gap-8 items-center",children:[y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"inline-flex items-center gap-2 bg-indigo-800/50 border border-indigo-700 px-3 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider",children:[y.jsx(NI,{size:14})," Meet the Developer"]}),y.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold tracking-tight",children:"Ritik Raj"}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex items-center gap-3 text-indigo-200",children:[y.jsx(WC,{size:20,className:"shrink-0"}),y.jsx("span",{className:"font-medium",children:"SRM KTR, 1st Year Student"})]}),y.jsxs("div",{className:"flex items-center gap-3 text-indigo-200",children:[y.jsx(gI,{size:20,className:"shrink-0"}),y.jsx("span",{className:"font-medium text-sm",children:"Kattankulathur, Tamil Nadu"})]})]}),y.jsx("p",{className:"text-indigo-100/80 leading-relaxed text-sm max-w-md italic",children:'"Driven by a passion for creating intelligent solutions that simplify academic life. This SmartPlanner is a project designed to help students like myself manage complex curriculums with the power of AI."'}),y.jsx("div",{className:"pt-2",children:y.jsxs("a",{href:"https://redx7988.github.io/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-white text-indigo-900 px-6 py-3 rounded-xl font-bold transition-all hover:scale-105 hover:bg-indigo-50 shadow-lg",children:["Visit Portfolio ",y.jsx(GC,{size:18})]})})]}),y.jsx("div",{className:"hidden md:flex justify-center items-center",children:y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"w-48 h-48 bg-indigo-700 rounded-3xl rotate-12 absolute inset-0 blur-sm opacity-50 group-hover:rotate-6 transition-transform"}),y.jsx("div",{className:"w-48 h-48 bg-indigo-600 rounded-3xl -rotate-6 absolute inset-0 blur-sm opacity-50 group-hover:rotate-0 transition-transform"}),y.jsx("div",{className:"w-48 h-48 bg-indigo-500 rounded-3xl flex items-center justify-center relative border-4 border-white group-hover:scale-105 transition-transform",children:y.jsx(bo,{size:80,className:"text-white animate-pulse"})})]})})]})]}),y.jsxs("div",{ref:a,className:"space-y-8 animate-in slide-in-from-bottom-4 duration-700",children:[y.jsxs("div",{className:"text-center space-y-2",children:[y.jsxs("h2",{className:"text-3xl font-extrabold text-slate-900 flex items-center justify-center gap-3",children:[y.jsx(km,{className:"text-indigo-600",size:32}),"Personalize Your Hub"]}),y.jsx("p",{className:"text-slate-500 max-w-lg mx-auto",children:"Select a theme that matches your current study environment."})]}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 px-2",children:l.map(d=>y.jsxs("button",{onClick:()=>e(d),className:`p-6 rounded-3xl border-2 transition-all flex flex-col items-center gap-4 group ${i===d?"bg-indigo-600 text-white border-indigo-600 shadow-xl scale-105":"bg-white text-slate-700 border-slate-100 hover:border-indigo-300 hover:shadow-lg"}`,children:[y.jsx("div",{className:`w-12 h-12 rounded-full border-4 border-white shadow-sm flex items-center justify-center transition-transform group-hover:rotate-12 ${d==="light"?"bg-slate-100":""} ${d==="dark"?"bg-slate-800":""} ${d==="cyber"?"bg-green-500":""} ${d==="modern"?"bg-indigo-400":""} ${d==="pastel"?"bg-pink-200":""} ${d==="midnight"?"bg-blue-900":""} ${d==="forest"?"bg-emerald-800":""} ${d==="sunset"?"bg-orange-500":""}`,children:i===d&&y.jsx(su,{size:24})}),y.jsxs("span",{className:"font-bold capitalize text-sm",children:[d," Theme"]})]},d))})]}),y.jsxs("div",{className:"bg-amber-50 p-6 rounded-2xl border border-amber-200 flex gap-4 items-start",children:[y.jsx(iu,{className:"text-amber-600 shrink-0 mt-0.5",size:24}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-amber-800 font-bold mb-2",children:"[Unverified] Expected AI Behavior"}),y.jsxs("p",{className:"text-amber-700 text-sm leading-relaxed",children:["Topic extraction and difficulty estimations are ",y.jsx("strong",{children:"[Inference]"})," based on academic knowledge. This is expected behavior, not a guaranteed absolute truth regarding specific demands."]})]})]})]})},Vm=({value:s,onChange:e,minDate:i})=>{const[a,l]=me.useState(!1),[c,d]=me.useState(new Date(s||new Date));me.useEffect(()=>{s&&d(new Date(s))},[s]);const g=J=>{const Z=new Date(J);return`${Z.getFullYear()}-${String(Z.getMonth()+1).padStart(2,"0")}-${String(Z.getDate()).padStart(2,"0")}`},_=J=>{J.preventDefault(),d(new Date(c.getFullYear(),c.getMonth()+1,1))},v=J=>{J.preventDefault(),d(new Date(c.getFullYear(),c.getMonth()-1,1))},S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],R=["Su","Mo","Tu","We","Th","Fr","Sa"],V=Array(new Date(c.getFullYear(),c.getMonth(),1).getDay()).fill(null),G=Array.from({length:new Date(c.getFullYear(),c.getMonth()+1,0).getDate()},(J,Z)=>Z+1),W=[...V,...G];return y.jsxs("div",{className:"relative w-full",children:[y.jsxs("div",{onClick:()=>l(!a),className:"w-full pl-9 p-2.5 rounded-xl border border-slate-300 bg-white hover:border-indigo-300 cursor-pointer flex items-center min-h-[46px] transition-colors",children:[y.jsx(gu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),y.jsx("span",{className:"text-slate-700 text-sm",children:s||"Select date"})]}),a&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>l(!1)}),y.jsxs("div",{className:"absolute left-0 top-full mt-2 w-64 bg-white rounded-2xl shadow-lg border border-slate-200 overflow-hidden z-50 p-4",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("button",{onClick:v,className:"p-1 hover:bg-slate-100 rounded-lg text-slate-600 transition-colors",children:y.jsx(Ag,{size:16})}),y.jsxs("span",{className:"font-bold text-slate-800 text-sm",children:[S[c.getMonth()]," ",c.getFullYear()]}),y.jsx("button",{onClick:_,className:"p-1 hover:bg-slate-100 rounded-lg text-slate-600 transition-colors",children:y.jsx(wg,{size:16})})]}),y.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:R.map(J=>y.jsx("div",{className:"text-center text-[10px] font-bold text-slate-400",children:J},J))}),y.jsx("div",{className:"grid grid-cols-7 gap-1",children:W.map((J,Z)=>{if(!J)return y.jsx("div",{className:"h-8"},`blank-${Z}`);const ae=g(new Date(c.getFullYear(),c.getMonth(),J)),ce=s===ae,fe=ae===g(new Date),xe=i&&ae<i;return y.jsx("button",{disabled:xe,onClick:Ve=>{Ve.preventDefault(),xe||(e(ae),l(!1))},className:`h-8 rounded-lg text-xs font-medium flex items-center justify-center transition-all ${xe?"text-slate-300 cursor-not-allowed opacity-40":ce?"bg-indigo-600 text-white shadow-sm":fe?"bg-indigo-50 text-indigo-700 font-bold":"text-slate-700 hover:bg-slate-100"}`,children:J},J)})})]})]})]})},kI=({todos:s,toggleTodo:e,customTodos:i,addCustomTodo:a,toggleCustomTodo:l,deleteCustomTodo:c,editCustomTodo:d})=>{const g=new Date().toISOString().split("T")[0],[_,v]=me.useState(!0),[S,R]=me.useState(""),[V,G]=me.useState("Medium"),[W,J]=me.useState(g),[Z,ae]=me.useState(null),[ce,fe]=me.useState(""),xe={High:1,Medium:2,Low:3},Ve=(x,pe)=>x.completed!==pe.completed?x.completed?1:-1:xe[x.priority]-xe[pe.priority],Te=[...s].sort((x,pe)=>{const Ne=x.date===g,H=pe.date===g;return Ne!==H?Ne?-1:1:x.completed!==pe.completed?x.completed?1:-1:x.subjectName.localeCompare(pe.subjectName)}),w=i.filter(x=>x.dueDate<g&&!x.completed).sort(Ve),A=i.filter(x=>x.dueDate===g).sort(Ve),N=i.filter(x=>x.dueDate>g).sort(Ve),I=x=>x==="High"?"bg-red-100 text-red-700 border-red-200":x==="Medium"?"bg-yellow-100 text-yellow-700 border-yellow-200":"bg-blue-100 text-blue-700 border-blue-200",D=(x,pe)=>x.length===0?y.jsx("div",{className:"text-sm text-slate-400 italic py-2",children:pe}):y.jsx("div",{className:"space-y-3",children:x.map(Ne=>y.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-xl border transition-all ${Ne.completed?"bg-slate-50 border-slate-200 opacity-60":"bg-white border-slate-200 shadow-sm"}`,children:[y.jsx("button",{onClick:()=>l(Ne.id),className:"shrink-0 mt-0.5",children:Ne.completed?y.jsx(su,{className:"text-green-500",size:20}):y.jsx(Om,{className:"text-slate-300 hover:text-indigo-400 transition-colors",size:20})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[Z===Ne.id?y.jsx("input",{value:ce,onChange:H=>fe(H.target.value),onBlur:()=>{ce.trim()&&d(Ne.id,ce),ae(null)},onKeyDown:H=>H.key==="Enter"&&ae(null),autoFocus:!0,className:"w-full p-1 border-b-2 border-indigo-500 outline-none bg-transparent text-sm"}):y.jsx("p",{className:`font-medium text-sm break-words ${Ne.completed?"text-slate-500 line-through":"text-slate-800"}`,children:Ne.text}),y.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[y.jsxs("span",{className:`text-[10px] px-2 py-0.5 rounded-md font-bold border flex items-center gap-1 ${I(Ne.priority)}`,children:[y.jsx(XC,{size:10})," ",Ne.priority]}),y.jsx("span",{className:"text-[10px] text-slate-500 bg-slate-100 px-2 py-0.5 rounded-md font-medium border border-slate-200",children:Ne.dueDate})]})]}),y.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[Z!==Ne.id&&y.jsx("button",{onClick:()=>{ae(Ne.id),fe(Ne.text)},className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:y.jsx(_I,{size:16})}),y.jsx("button",{onClick:()=>c(Ne.id),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:y.jsx(Fh,{size:16})})]})]},Ne.id))}),k=[...new Set(Te.map(x=>x.subjectName))];return y.jsxs("div",{className:"flex flex-col gap-6 h-full min-h-[400px]",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-start flex-1",children:[y.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden flex flex-col max-h-[700px]",children:[y.jsxs("button",{onClick:()=>v(!_),className:"w-full flex items-center justify-between p-5 hover:bg-slate-50 transition-colors shrink-0",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Hh,{className:"text-indigo-500"}),y.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Master To-Do List"}),y.jsx("span",{className:"text-xs text-amber-600 bg-amber-50 px-2 py-1 rounded border border-amber-200 ml-2 hidden xl:inline-block",children:"* Multi-Subject"})]}),y.jsxs("div",{className:"flex items-center gap-3 text-slate-500",children:[y.jsxs("span",{className:"text-sm font-medium bg-slate-100 px-2 py-1 rounded-md",children:[s.length," Tasks"]}),_?y.jsx(VC,{size:20}):y.jsx(xg,{size:20})]})]}),_&&y.jsx("div",{className:"p-5 border-t border-slate-200 bg-slate-50/50 overflow-y-auto space-y-6",children:Te.length===0?y.jsx("div",{className:"text-center text-slate-500 py-8",children:"No AI plans generated yet."}):k.map(x=>y.jsxs("div",{className:"space-y-3",children:[y.jsxs("h3",{className:"text-xs font-bold text-indigo-500 uppercase tracking-widest border-b border-indigo-100 pb-1 flex justify-between items-center",children:[y.jsx("span",{children:x}),y.jsx("span",{className:"text-[9px] bg-indigo-100 text-indigo-700 px-1.5 py-0.5 rounded",children:"Grouped"})]}),Te.filter(pe=>pe.subjectName===x).map(pe=>y.jsxs("div",{onClick:()=>e(pe.id),className:`flex items-center gap-3 p-4 rounded-xl border cursor-pointer transition-all ${pe.completed?"bg-slate-100 border-slate-200 opacity-60":pe.date===g?"bg-indigo-50 border-indigo-300 shadow-md ring-2 ring-indigo-100":"bg-white border-slate-200 hover:border-indigo-300 shadow-sm"}`,children:[pe.completed?y.jsx(su,{className:"text-green-500 shrink-0"}):y.jsx(Om,{className:"text-slate-300 shrink-0"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:`font-medium ${pe.completed?"text-slate-500 line-through":"text-slate-800"}`,children:pe.text}),y.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[pe.date===g&&y.jsx("span",{className:"text-[10px] bg-indigo-600 text-white px-2 py-0.5 rounded-full font-bold animate-pulse",children:"TODAY"}),y.jsxs("p",{className:"text-[10px] text-slate-500",children:[pe.date,"  ",pe.allocatedHours," hrs"]})]})]})]},pe.id))]},x))})]}),y.jsxs("div",{className:"flex flex-col gap-6",children:[y.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[y.jsxs("h3",{className:"text-lg font-bold text-indigo-600 flex items-center gap-2 mb-4",children:[y.jsx(gu,{size:20})," Today's Personal Tasks"]}),D(A,"No personal tasks for today.")]}),w.length>0&&y.jsxs("div",{className:"bg-red-50/30 p-6 rounded-2xl border border-red-100",children:[y.jsxs("h3",{className:"text-lg font-bold text-red-600 flex items-center gap-2 mb-4",children:[y.jsx(iu,{size:20})," Overdue Tasks"]}),D(w,"No overdue tasks.")]}),N.length>0&&y.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[y.jsxs("h3",{className:"text-lg font-bold text-slate-500 flex items-center gap-2 mb-4",children:[y.jsx(Rg,{size:20})," Upcoming Tasks"]}),D(N,"No upcoming tasks.")]})]})]}),y.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 mt-auto",children:[y.jsxs("h2",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[y.jsx(Th,{className:"text-indigo-500",size:20}),"Create New Personal Task"]}),y.jsxs("form",{onSubmit:x=>{x.preventDefault(),S.trim()&&(a(S,V,W),R(""))},className:"flex flex-col lg:flex-row gap-4 bg-slate-50 p-4 rounded-xl border border-slate-200",children:[y.jsx("input",{value:S,onChange:x=>R(x.target.value),placeholder:"What do you need to do?",className:"flex-1 p-3 rounded-xl border border-slate-300 focus:ring-2 focus:ring-indigo-500 outline-none"}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[y.jsx("div",{className:"w-full sm:w-44 shrink-0",children:y.jsx(Vm,{value:W,minDate:g,onChange:J})}),y.jsxs("select",{value:V,onChange:x=>G(x.target.value),className:"w-full sm:w-auto p-3 rounded-xl border border-slate-300 focus:ring-2 focus:ring-indigo-500 outline-none text-sm bg-white text-slate-700",children:[y.jsx("option",{value:"High",children:"High"}),y.jsx("option",{value:"Medium",children:"Medium"}),y.jsx("option",{value:"Low",children:"Low"})]}),y.jsx("button",{type:"submit",disabled:!S.trim(),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-xl font-bold gap-2 shrink-0",children:"Add"})]})]})]})]})},VI=({plans:s,dailySchedules:e,addDailySchedule:i,deleteDailySchedule:a})=>{const[l,c]=me.useState(new Date),d=I=>{const D=new Date(I);return`${D.getFullYear()}-${String(D.getMonth()+1).padStart(2,"0")}-${String(D.getDate()).padStart(2,"0")}`},[g,_]=me.useState(d(new Date)),[v,S]=me.useState("09:00"),[R,V]=me.useState("10:00"),[G,W]=me.useState(""),[J,Z]=me.useState(""),ae=()=>c(new Date(l.getFullYear(),l.getMonth()+1,1)),ce=()=>c(new Date(l.getFullYear(),l.getMonth()-1,1)),fe=["January","February","March","April","May","June","July","August","September","October","November","December"],xe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ve=Array(new Date(l.getFullYear(),l.getMonth(),1).getDay()).fill(null),Te=Array.from({length:new Date(l.getFullYear(),l.getMonth()+1,0).getDate()},(I,D)=>D+1),w=[...Ve,...Te],A=s.flatMap(I=>{const D=I.schedule.find(k=>k.date===g);return D?D.topics.map(k=>({...k,subjectName:I.subjectName})):[]}),N=e[g]||[];return y.jsxs("div",{className:"flex flex-col md:flex-row gap-6 h-full items-start relative",children:[y.jsxs("div",{className:"flex-1 flex flex-col gap-6 order-2 md:order-1 h-full w-full min-w-0",children:[y.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-200 flex-1 flex flex-col",children:[y.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2 mb-4",children:[y.jsx(Hh,{className:"text-indigo-500",size:18}),"My Time Table"]}),N.length===0?y.jsx("p",{className:"text-sm text-slate-500 italic py-8 text-center border border-dashed border-slate-200 rounded-xl flex-1 flex items-center justify-center",children:"No custom schedule set for this date."}):y.jsx("div",{className:"space-y-3 overflow-y-auto pr-1 flex-1 max-h-80",children:N.map(I=>y.jsxs("div",{className:"flex items-start gap-3 p-4 bg-slate-50 border border-slate-200 rounded-xl shadow-sm group hover:border-indigo-200 transition-colors",children:[y.jsxs("div",{className:"text-xs font-bold text-slate-500 w-20 shrink-0 pt-0.5 border-r border-slate-200 pr-2",children:[y.jsx("div",{className:"text-indigo-600",children:I.startTime}),y.jsx("div",{className:"text-slate-400 mt-1",children:I.endTime})]}),y.jsx("div",{className:"flex-1 pl-2",children:y.jsx("p",{className:"text-base font-medium text-slate-800",children:I.activity})}),y.jsx("button",{onClick:()=>a(g,I.id),className:"text-slate-300 hover:text-red-500 transition-colors p-2 bg-white rounded-lg shadow-sm opacity-0 group-hover:opacity-100 focus:opacity-100",children:y.jsx(Fh,{size:16})})]},I.id))})]}),y.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-200",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[y.jsx(bo,{className:"text-indigo-500",size:18}),"Combined AI Topics"]}),y.jsx("span",{className:"text-xs text-amber-600 bg-amber-50 px-2 py-1 rounded border border-amber-200",children:"[Inference] Total Log"})]}),A.length===0?y.jsx("p",{className:"text-sm text-slate-500 italic py-4 text-center bg-slate-50 rounded-xl border border-dashed border-slate-200",children:"No AI topics from any subject for this date."}):y.jsx("div",{className:"space-y-4",children:A.map((I,D)=>y.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100 text-sm",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("span",{className:"text-[10px] font-bold text-indigo-500 uppercase tracking-widest",children:I.subjectName}),y.jsx(lE,{level:I.difficulty})]}),y.jsx("div",{className:"font-medium text-slate-800 mb-1",children:I.topicName}),y.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1",children:[y.jsx(Rg,{size:12})," ",I.allocatedHours," hrs"]})]},D))})]}),y.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-200 mt-auto",children:[y.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2 mb-4 text-sm",children:[y.jsx(Th,{className:"text-indigo-500",size:16}),"Add to Schedule"]}),y.jsxs("form",{onSubmit:I=>{if(I.preventDefault(),G.trim()&&v&&R){if(v>=R){Z("End time must be after start time.");return}if(e[g]?.some(k=>v<k.endTime&&R>k.startTime)){Z("Time overlap detected.");return}Z(""),i(g,v,R,G),W("")}},className:"flex flex-col sm:flex-row gap-3",children:[y.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[y.jsx("input",{type:"time",value:v,onChange:I=>S(I.target.value),required:!0,className:"p-2.5 rounded-lg border border-slate-300 text-sm outline-none focus:ring-2 focus:ring-indigo-500 bg-slate-50"}),y.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"to"}),y.jsx("input",{type:"time",value:R,onChange:I=>V(I.target.value),required:!0,className:"p-2.5 rounded-lg border border-slate-300 text-sm outline-none focus:ring-2 focus:ring-indigo-500 bg-slate-50"})]}),y.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[y.jsx("input",{type:"text",placeholder:"Activity...",value:G,onChange:I=>W(I.target.value),required:!0,className:"flex-1 p-2.5 rounded-lg border border-slate-300 text-sm outline-none focus:ring-2 focus:ring-indigo-500 bg-slate-50"}),y.jsx("button",{type:"submit",disabled:!G.trim(),className:"bg-indigo-600 hover:bg-indigo-700 text-white p-2.5 rounded-lg transition-colors shrink-0",children:y.jsx(Th,{size:20})})]})]}),J&&y.jsxs("div",{className:"mt-3 p-2 bg-red-50 text-red-700 rounded-lg text-xs flex items-center gap-1.5 border border-red-100 animate-bounce",children:[y.jsx(iu,{size:14,className:"shrink-0"}),y.jsx("span",{children:J})]})]})]}),y.jsxs("div",{className:"w-full md:w-80 lg:w-[340px] shrink-0 bg-white p-5 rounded-2xl shadow-sm border border-slate-200 order-1 md:order-2 md:sticky md:top-24 z-10",children:[y.jsxs("div",{className:"flex flex-col items-center mb-6 gap-3",children:[y.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2 w-full justify-center",children:[y.jsx(gu,{className:"text-indigo-500",size:20}),"Global Calendar"]}),y.jsxs("div",{className:"flex items-center justify-between w-full bg-slate-50 rounded-xl border border-slate-200 p-1",children:[y.jsx("button",{onClick:ce,className:"p-1.5 hover:bg-slate-200 rounded-lg transition-colors text-slate-600",children:y.jsx(Ag,{size:16})}),y.jsxs("span",{className:"font-bold text-slate-800 text-sm text-center",children:[fe[l.getMonth()]," ",l.getFullYear()]}),y.jsx("button",{onClick:ae,className:"p-1.5 hover:bg-slate-200 rounded-lg transition-colors text-slate-600",children:y.jsx(wg,{size:16})})]})]}),y.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:xe.map(I=>y.jsx("div",{className:"text-center font-bold text-[10px] text-slate-400 uppercase tracking-wider py-1",children:I.slice(0,2)},I))}),y.jsx("div",{className:"grid grid-cols-7 gap-1",children:w.map((I,D)=>{if(!I)return y.jsx("div",{className:"h-10 md:h-12 rounded-lg border border-transparent"},`blank-${D}`);const k=d(new Date(l.getFullYear(),l.getMonth(),I)),x=g===k,pe=k===d(new Date),Ne=s.some(te=>te.schedule.some(ue=>ue.date===k)),H=(e[k]||[]).length>0;return y.jsxs("div",{onClick:()=>_(k),className:`h-10 md:h-12 rounded-lg border transition-all cursor-pointer flex flex-col items-center justify-center relative group ${x?"bg-indigo-50 border-indigo-400 shadow-sm ring-1 ring-indigo-400":"bg-slate-50 border-slate-200 hover:border-indigo-300 hover:bg-slate-100"}`,children:[y.jsx("span",{className:`text-xs md:text-sm font-semibold flex items-center justify-center rounded-full ${pe?"bg-indigo-600 text-white w-6 h-6":x?"text-indigo-700 w-6 h-6 bg-white shadow-sm":"text-slate-700"}`,children:I}),y.jsxs("div",{className:"flex gap-1 absolute bottom-1 md:bottom-1.5",children:[Ne&&y.jsx("div",{className:"w-1 h-1 md:w-1.5 md:h-1.5 rounded-full bg-indigo-400"}),H&&y.jsx("div",{className:"w-1 h-1 md:w-1.5 md:h-1.5 rounded-full bg-amber-400"})]})]},I)})})]})]})},jI=({notes:s,setNotes:e})=>{const[i,a]=me.useState(null),l=s.find(_=>_.id===i),c=()=>{const _={id:Date.now().toString(),title:"New Subject",content:"",date:new Date().toISOString().split("T")[0]};e(_),a(_.id)},d=(_,v)=>{e({...l,[_]:v,lastEdited:new Date().toLocaleTimeString()},!0)},g=(_,v)=>{_.stopPropagation(),e({id:v},!1,!0),i===v&&a(null)};return y.jsxs("div",{className:"flex flex-col md:flex-row gap-6 h-full min-h-[600px] items-start relative",children:[y.jsxs("div",{className:"w-full md:w-80 shrink-0 flex flex-col gap-4 order-2 md:order-1 h-[400px] md:h-auto md:sticky md:top-24",children:[y.jsxs("button",{onClick:c,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-3 rounded-2xl shadow-sm transition-colors flex items-center justify-center font-bold gap-2",children:[y.jsx(Th,{size:20}),"Create New Note"]}),y.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 flex-1 flex flex-col overflow-hidden",children:[y.jsx("div",{className:"p-4 border-b border-slate-100 bg-slate-50/50",children:y.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[y.jsx(Sh,{className:"text-indigo-500",size:18}),"My Notes"]})}),y.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2 max-h-[400px] md:max-h-[600px]",children:s.length===0?y.jsx("p",{className:"text-sm text-slate-400 italic text-center py-8",children:"No notes created yet."}):s.map(_=>y.jsxs("div",{onClick:()=>a(_.id),className:`p-3 rounded-xl border cursor-pointer transition-all flex items-start justify-between group ${i===_.id?"bg-indigo-50 border-indigo-300 ring-1 ring-indigo-300":"bg-white border-slate-200 hover:border-indigo-200 hover:bg-slate-50"}`,children:[y.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[y.jsx("h4",{className:`font-semibold text-sm truncate ${i===_.id?"text-indigo-900":"text-slate-800"}`,children:_.title||"Untitled"}),y.jsx("p",{className:"text-xs text-slate-500 mt-1 truncate",children:_.content?_.content.substring(0,30)+"...":"No content"})]}),y.jsx("button",{onClick:v=>g(v,_.id),className:`p-1.5 rounded-lg transition-colors shrink-0 ${i===_.id?"text-indigo-400 hover:text-red-500 hover:bg-white":"text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100"}`,title:"Delete note",children:y.jsx(Fh,{size:16})})]},_.id))})]})]}),y.jsx("div",{className:"flex-1 w-full flex flex-col order-1 md:order-2 bg-white rounded-2xl shadow-sm border border-slate-200 min-h-[500px] overflow-hidden",children:l?y.jsxs("div",{className:"flex-1 flex flex-col animate-in fade-in duration-200",children:[y.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center gap-4 bg-slate-50/30",children:[y.jsx("input",{type:"text",value:l.title,onChange:_=>d("title",_.target.value),placeholder:"Subject Name...",className:"flex-1 text-2xl font-bold text-slate-900 bg-transparent border-none outline-none placeholder:text-slate-300"}),y.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-400 shrink-0 px-3 py-1.5 bg-white rounded-lg border border-slate-200",children:[y.jsx(EI,{size:14,className:"text-emerald-500"}),"Saved"]})]}),y.jsx("textarea",{value:l.content,onChange:_=>d("content",_.target.value),placeholder:"Write notes here...",className:"flex-1 p-6 w-full resize-none bg-transparent outline-none text-slate-700 leading-relaxed"}),y.jsxs("div",{className:"p-4 border-t border-slate-100 flex justify-between items-center text-xs text-slate-400 bg-slate-50/50",children:[y.jsxs("span",{children:["Created: ",l.date]}),l.lastEdited&&y.jsxs("span",{children:["Last edited: ",l.lastEdited]})]})]}):y.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400 p-8",children:[y.jsx(Sh,{size:64,className:"mb-4 text-slate-200"}),y.jsx("h3",{className:"text-xl font-medium text-slate-600 mb-2",children:"No Note Selected"}),y.jsx("p",{className:"text-sm max-w-sm text-center",children:"Select a note from the sidebar to edit."})]})})]})},LI=({plans:s,customTodos:e,todos:i,dailySchedules:a})=>{const[l,c]=me.useState(new Date),d=w=>{const A=new Date(w);return`${A.getFullYear()}-${String(A.getMonth()+1).padStart(2,"0")}-${String(A.getDate()).padStart(2,"0")}`},[g,_]=me.useState(d(new Date)),v=()=>c(new Date(l.getFullYear(),l.getMonth()+1,1)),S=()=>c(new Date(l.getFullYear(),l.getMonth()-1,1)),R=["January","February","March","April","May","June","July","August","September","October","November","December"],V=["Su","Mo","Tu","We","Th","Fr","Sa"],G=Array(new Date(l.getFullYear(),l.getMonth(),1).getDay()).fill(null),W=Array.from({length:new Date(l.getFullYear(),l.getMonth()+1,0).getDate()},(w,A)=>A+1),J=[...G,...W];a[g];const Z=s.flatMap(w=>{const A=w.schedule.find(N=>N.date===g);return A?A.topics.map(N=>({...N,subjectName:w.subjectName})):[]}),ae=e.filter(w=>w.dueDate===g),ce=i.filter(w=>w.date===g),fe=[...ae,...ce],xe=fe.filter(w=>w.completed).length,Ve=fe.length,Te=Ve===0?0:Math.round(xe/Ve*100);return y.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-full items-start relative",children:[y.jsxs("div",{className:"w-full lg:w-80 shrink-0 bg-white p-5 rounded-2xl shadow-sm border border-slate-200 order-1 lg:sticky lg:top-24 z-10",children:[y.jsxs("div",{className:"flex flex-col items-center mb-6 gap-3",children:[y.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2 w-full justify-center",children:[y.jsx(tI,{className:"text-indigo-500",size:20}),"Filter History"]}),y.jsxs("div",{className:"flex items-center justify-between w-full bg-slate-50 rounded-xl border border-slate-200 p-1",children:[y.jsx("button",{onClick:S,className:"p-1.5 hover:bg-slate-200 rounded-lg transition-colors text-slate-600",children:y.jsx(Ag,{size:16})}),y.jsxs("span",{className:"font-bold text-slate-800 text-sm text-center",children:[R[l.getMonth()]," ",l.getFullYear()]}),y.jsx("button",{onClick:v,className:"p-1.5 hover:bg-slate-200 rounded-lg transition-colors text-slate-600",children:y.jsx(wg,{size:16})})]})]}),y.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:V.map(w=>y.jsx("div",{className:"text-center font-bold text-[10px] text-slate-400 uppercase tracking-wider py-1",children:w},w))}),y.jsx("div",{className:"grid grid-cols-7 gap-1",children:J.map((w,A)=>{if(!w)return y.jsx("div",{className:"h-10 rounded-lg border border-transparent"},`blank-${A}`);const N=d(new Date(l.getFullYear(),l.getMonth(),w)),I=g===N,D=a[N]?.length>0||s.some(k=>k.schedule.some(x=>x.date===N))||e.some(k=>k.dueDate===N);return y.jsxs("div",{onClick:()=>_(N),className:`h-10 rounded-lg border transition-all cursor-pointer flex flex-col items-center justify-center relative group ${I?"bg-indigo-50 border-indigo-400 shadow-sm ring-1 ring-indigo-400":"bg-slate-50 border-slate-200 hover:border-indigo-300"}`,children:[y.jsx("span",{className:`text-sm font-semibold flex items-center justify-center rounded-full ${N===d(new Date)?"bg-indigo-600 text-white w-7 h-7":I?"text-indigo-700 w-7 h-7 bg-white shadow-sm":"text-slate-700"}`,children:w}),D&&y.jsx("div",{className:"absolute bottom-1 w-1.5 h-1.5 rounded-full bg-emerald-400"})]},w)})})]}),y.jsxs("div",{className:"flex-1 flex flex-col gap-6 order-2 w-full min-w-0",children:[y.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[y.jsx(Sg,{className:"text-indigo-500"}),"Analysis Dashboard"]}),y.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:["Showing all subject data for ",y.jsx("span",{className:"font-semibold text-indigo-600",children:new Date(g).toLocaleDateString()})]})]}),y.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 px-4 py-3 rounded-xl border border-slate-200 w-full md:w-auto",children:[y.jsxs("div",{className:"w-12 h-12 relative flex items-center justify-center",children:[y.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[y.jsx("circle",{cx:"24",cy:"24",r:"20",fill:"transparent",stroke:"currentColor",strokeWidth:"4",className:"text-slate-200"}),y.jsx("circle",{cx:"24",cy:"24",r:"20",fill:"transparent",stroke:"currentColor",strokeWidth:"4",strokeDasharray:"125.6",strokeDashoffset:125.6-125.6*Te/100,className:"text-indigo-600"})]}),y.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-[10px] font-bold text-slate-700",children:[Te,"%"]})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Completion"}),y.jsxs("div",{className:"font-bold text-slate-800",children:[xe," of ",Ve," tasks"]})]})]})]}),y.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[y.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[y.jsx(su,{className:"text-emerald-500",size:20})," Combined Tasks"]}),Ve===0?y.jsx("p",{className:"text-sm text-slate-500 italic py-6 text-center border border-dashed border-slate-200 rounded-xl bg-slate-50",children:"No activity logged."}):y.jsx("div",{className:"space-y-3",children:fe.map((w,A)=>y.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-xl border transition-all ${w.completed?"bg-emerald-50 border-emerald-200 opacity-70":"bg-white border-slate-200"}`,children:[w.completed?y.jsx(su,{className:"text-emerald-500 shrink-0 mt-0.5",size:18}):y.jsx(Om,{className:"text-slate-300 shrink-0 mt-0.5",size:18}),y.jsxs("div",{children:[y.jsx("p",{className:`text-sm font-medium ${w.completed?"text-slate-500 line-through":"text-slate-800"}`,children:w.text}),y.jsx("span",{className:"text-[10px] px-2 py-0.5 mt-1 inline-block rounded-md font-medium border border-slate-200 bg-slate-100 text-slate-500",children:w.subjectName||"Personal"})]})]},A))})]}),y.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[y.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[y.jsx(bo,{className:"text-indigo-500",size:20})," AI Study Log"]}),Z.length===0?y.jsx("p",{className:"text-sm text-slate-500 italic py-6 text-center bg-slate-50 rounded-xl border border-dashed border-slate-200",children:"No AI topics."}):y.jsx("div",{className:"space-y-3",children:Z.map((w,A)=>y.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-[10px] font-bold text-indigo-500 uppercase tracking-widest",children:w.subjectName}),y.jsx("h4",{className:"font-semibold text-slate-800 text-sm mt-0.5",children:w.topicName})]}),y.jsx(lE,{level:w.difficulty})]}),y.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1",children:[y.jsx(Rg,{size:12})," ",w.allocatedHours," hours"]})]},A))})]})]})]})},PI=`
  .theme-dark { background-color: #0f172a !important; color: #f8fafc !important; }
  .theme-dark .bg-slate-50 { background-color: #0f172a !important; }
  .theme-dark .bg-white, .theme-dark .bg-white\\/50 { background-color: #1e293b !important; }
  .theme-dark .text-slate-900, .theme-dark .text-slate-800, .theme-dark .text-slate-700 { color: #f8fafc !important; }
  .theme-dark .border-slate-200 { border-color: #334155 !important; }
  .theme-cyber { background-color: #050505 !important; color: #00ff00 !important; font-family: monospace !important; }
  .theme-cyber .bg-white, .theme-cyber .bg-white\\/50 { background-color: #0a0a0a !important; border: 1px solid #00aa00 !important; }
  .theme-cyber .bg-indigo-600 { background-color: #00ff00 !important; color: #000 !important; }
  .theme-modern { background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%) !important; }
  .theme-modern .bg-white { background-color: rgba(255, 255, 255, 0.7) !important; backdrop-filter: blur(16px); }
  .theme-pastel { background-color: #fff5f8 !important; color: #6d5b7b !important; }
  .theme-pastel .bg-white { background-color: #ffffff !important; border-color: #f8bbd0 !important; }
  .theme-pastel .bg-indigo-600 { background-color: #f8bbd0 !important; color: #6d5b7b !important; }
  .theme-midnight { background-color: #020617 !important; color: #94a3b8 !important; }
  .theme-midnight .bg-white { background-color: #0f172a !important; border-color: #1e293b !important; }
  .theme-midnight .bg-indigo-600 { background-color: #38bdf8 !important; color: #020617 !important; }
  .theme-forest { background-color: #061d15 !important; color: #a3b18a !important; }
  .theme-forest .bg-white { background-color: #1a2f26 !important; border-color: #344e41 !important; }
  .theme-forest .bg-indigo-600 { background-color: #588157 !important; color: #061d15 !important; }
  .theme-sunset { background: linear-gradient(180deg, #2d1b33 0%, #1a1a1a 100%) !important; color: #ffb8b8 !important; }
  .theme-sunset .bg-white { background-color: rgba(60, 30, 70, 0.6) !important; border-color: #ff7e5f !important; }
  .theme-sunset .bg-indigo-600 { background: linear-gradient(90deg, #ff7e5f, #feb47b) !important; color: #2d1b33 !important; }
`;function UI(){const[s,e]=me.useState("home"),[i,a]=me.useState(()=>localStorage.getItem("smartPlannerTheme")||"light"),[l,c]=me.useState(null),[d,g]=me.useState(!1),[_,v]=me.useState("login"),[S,R]=me.useState(""),[V,G]=me.useState(""),[W,J]=me.useState(!0),[Z,ae]=me.useState(""),[ce,fe]=me.useState([]),[xe,Ve]=me.useState([]),[Te,w]=me.useState([]),[A,N]=me.useState({}),[I,D]=me.useState([]),[k,x]=me.useState({}),[pe,Ne]=me.useState(""),[H,te]=me.useState(""),[ue,je]=me.useState(null),[$e,O]=me.useState(""),K=me.useMemo(()=>new Date().toISOString().split("T")[0],[]),[ne,se]=me.useState(K),[ve,Ce]=me.useState(new Date(Date.now()+14*864e5).toISOString().split("T")[0]),[Le,_t]=me.useState(4),[ut,ui]=me.useState(!1),[qi,hn]=me.useState(""),[Hi,fn]=me.useState(!1);me.useEffect(()=>{localStorage.setItem("smartPlannerTheme",i)},[i]),me.useEffect(()=>{if(!fs){J(!1);return}(async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await MA(fs,__initial_auth_token):fs.currentUser||await RA(fs)}catch(Ae){console.error("Auth init error:",Ae)}})();const ye=LA(fs,Ae=>{c(Ae),J(!1)});return()=>ye()},[]);const vr=async ie=>{ie.preventDefault(),J(!0),ae("");try{_==="login"?await kA(fs,S,V):await OA(fs,S,V),g(!1)}catch(ye){ae(ye.message.replace("Firebase: ",""))}finally{J(!1)}},Fi=async()=>{fs&&await PA(fs)};me.useEffect(()=>{if(!l||!st){fe([]),w([]),N({}),D([]),x({});return}const ie=Ol(st,"artifacts",sn,"users",l.uid,"plans"),ye=kl(ie,Oe=>fe(Oe.docs.map(bt=>bt.data())),Oe=>console.error(Oe)),Ae=Ol(st,"artifacts",sn,"users",l.uid,"customTodos"),Je=kl(Ae,Oe=>w(Oe.docs.map(bt=>bt.data())),Oe=>console.error(Oe)),Ke=Ol(st,"artifacts",sn,"users",l.uid,"notes"),fi=kl(Ke,Oe=>D(Oe.docs.map(bt=>bt.data())),Oe=>console.error(Oe)),di=Ol(st,"artifacts",sn,"users",l.uid,"aiTaskCompletions"),Ts=kl(di,Oe=>{const bt={};Oe.docs.forEach(en=>{bt[en.id]=en.data().completed}),x(bt)},Oe=>console.error(Oe)),dn=Ol(st,"artifacts",sn,"users",l.uid,"dailySchedules"),Yi=kl(dn,Oe=>{const bt={};Oe.docs.forEach(en=>{bt[en.id]=en.data().items||[]}),N(bt)},Oe=>console.error(Oe));return()=>{ye(),Je(),fi(),Ts(),Yi()}},[l]),me.useEffect(()=>{const ie=ce.flatMap(ye=>ye.schedule.flatMap(Ae=>Ae.topics.map((Je,Ke)=>{const fi=`${ye.id}-${Ae.date}-${Ke}`;return{id:fi,subjectName:ye.subjectName,date:Ae.date,text:Je.topicName,completed:k[fi]||!1,allocatedHours:Je.allocatedHours,difficulty:Je.difficulty}})));Ve(ie)},[ce,k]);const br=async()=>{if(!pe.trim()){hn("Please give this subject a name.");return}if(!H.trim()&&!ue){hn("Please provide syllabus content.");return}hn(""),ui(!0);try{const ie=await MI(pe,H,ue,ne,ve,Le);l&&st&&await tr(ii(st,"artifacts",sn,"users",l.uid,"plans",ie.id),ie),Ne(""),te(""),je(null),O(""),e("todo")}catch{hn("Error generating plan.")}finally{ui(!1)}},Er=async ie=>{l&&st&&await am(ii(st,"artifacts",sn,"users",l.uid,"plans",ie))},vt=async ie=>{const ye=k[ie]||!1;l&&st&&await tr(ii(st,"artifacts",sn,"users",l.uid,"aiTaskCompletions",ie),{completed:!ye})},St=async(ie,ye,Ae)=>{const Je=Date.now().toString(),Ke={id:Je,text:ie,completed:!1,priority:ye,dueDate:Ae};l&&st&&await tr(ii(st,"artifacts",sn,"users",l.uid,"customTodos",Je),Ke)},ci=async ie=>{const ye=Te.find(Ae=>Ae.id===ie);ye&&l&&st&&await tr(ii(st,"artifacts",sn,"users",l.uid,"customTodos",ie),{...ye,completed:!ye.completed})},Co=async(ie,ye)=>{const Ae=Te.find(Je=>Je.id===ie);Ae&&l&&st&&await tr(ii(st,"artifacts",sn,"users",l.uid,"customTodos",ie),{...Ae,text:ye})},da=async ie=>{l&&st&&await am(ii(st,"artifacts",sn,"users",l.uid,"customTodos",ie))},Gt=async(ie,ye,Ae,Je)=>{if(!l||!st)return;const Ke={id:Date.now().toString(),startTime:ye,endTime:Ae,activity:Je},di=[...A[ie]||[],Ke].sort((Ts,dn)=>Ts.startTime.localeCompare(dn.startTime));await tr(ii(st,"artifacts",sn,"users",l.uid,"dailySchedules",ie),{items:di})},Gi=async(ie,ye)=>{if(!l||!st)return;const Je=(A[ie]||[]).filter(Ke=>Ke.id!==ye);await tr(ii(st,"artifacts",sn,"users",l.uid,"dailySchedules",ie),{items:Je})},Tr=async ie=>{l&&st&&await tr(ii(st,"artifacts",sn,"users",l.uid,"notes",ie.id),ie)},Sr=(ie,ye=!1,Ae=!1)=>{Ae?l&&st&&am(ii(st,"artifacts",sn,"users",l.uid,"notes",ie.id)):Tr(ie)},hi=ie=>{const ye=ie.target.files[0];if(!ye)return;if(ye.type!=="application/pdf"){hn("Currently, only PDF files are supported.");return}const Ae=10;if(ye.size>Ae*1024*1024){hn(`File is too large. Please upload a PDF under ${Ae}MB.`);return}hn(""),O(ye.name);const Je=new FileReader;Je.onloadend=()=>{const Ke=Je.result.replace("data:","").replace(/^.+,/,"");je({mimeType:ye.type,data:Ke})},Je.readAsDataURL(ye)},Io=()=>{je(null),O("")},ma=["light","dark","cyber","modern","pastel","midnight","forest","sunset"],xr=l?l.isAnonymous:!0;return y.jsxs("div",{className:`min-h-screen bg-slate-50 text-slate-800 font-sans theme-${i}`,children:[y.jsx("style",{children:PI}),d&&y.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-md w-full shadow-2xl relative border border-slate-200",children:[y.jsx("button",{onClick:()=>g(!1),className:"absolute top-6 right-6 text-slate-400 hover:text-slate-800",children:y.jsx(jv,{size:20})}),y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("div",{className:"w-16 h-16 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(kv,{size:32})}),y.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:_==="login"?"Welcome Back":"Create Account"}),y.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Save your study progress securely online."})]}),y.jsxs("form",{onSubmit:vr,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Email"}),y.jsxs("div",{className:"relative mt-1",children:[y.jsx(dI,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),y.jsx("input",{type:"email",value:S,onChange:ie=>R(ie.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 rounded-xl border border-slate-300 outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Password"}),y.jsxs("div",{className:"relative mt-1",children:[y.jsx(oI,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),y.jsx("input",{type:"password",value:V,onChange:ie=>G(ie.target.value),required:!0,minLength:"6",className:"w-full pl-10 pr-4 py-3 rounded-xl border border-slate-300 outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),Z&&y.jsxs("div",{className:"p-3 bg-red-50 border border-red-100 text-red-600 text-xs rounded-xl flex items-center gap-2",children:[y.jsx(iu,{size:14})," ",Z]}),y.jsx("button",{type:"submit",disabled:W,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-xl flex items-center justify-center gap-2 transition-colors",children:W?y.jsx(om,{size:18,className:"animate-spin"}):_==="login"?"Login":"Sign Up"})]}),y.jsxs("div",{className:"mt-6 text-center text-sm text-slate-600",children:[_==="login"?"Don't have an account? ":"Already have an account? ",y.jsx("button",{onClick:()=>{v(_==="login"?"signup":"login"),ae("")},className:"font-bold text-indigo-600 hover:underline",children:_==="login"?"Sign Up":"Login"})]})]})}),y.jsx("nav",{className:"bg-white border-b border-slate-200 sticky top-0 z-50 px-4 md:px-8 shadow-sm",children:y.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between py-3",children:[y.jsxs("div",{onClick:()=>e("home"),className:"flex items-center gap-2 cursor-pointer",children:[y.jsx("div",{className:"bg-indigo-600 p-1.5 rounded-lg text-white",children:y.jsx(bo,{size:20})}),y.jsx("h1",{className:"font-bold text-slate-900 hidden sm:block",children:"SmartPlanner"})]}),y.jsxs("div",{className:"flex items-center justify-end gap-1 sm:gap-2 flex-wrap",children:[y.jsxs("button",{onClick:()=>e("planner"),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${s==="planner"?"bg-indigo-50 text-indigo-700":"text-slate-600 hover:bg-slate-50"}`,children:[y.jsx(iI,{size:18}),"Planner"]}),y.jsxs("button",{onClick:()=>e("calendar"),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${s==="calendar"?"bg-indigo-50 text-indigo-700":"text-slate-600 hover:bg-slate-50"}`,children:[y.jsx(gu,{size:18}),"Calendar"]}),y.jsxs("button",{onClick:()=>e("todo"),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${s==="todo"?"bg-indigo-50 text-indigo-700":"text-slate-600 hover:bg-slate-50"}`,children:[y.jsx(Hh,{size:18}),"To-Do"]}),y.jsxs("button",{onClick:()=>e("notes"),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${s==="notes"?"bg-indigo-50 text-indigo-700":"text-slate-600 hover:bg-slate-50"}`,children:[y.jsx(Sh,{size:18}),"Notes"]}),y.jsxs("button",{onClick:()=>e("history"),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${s==="history"?"bg-indigo-50 text-indigo-700":"text-slate-600 hover:bg-slate-50"}`,children:[y.jsx(Sg,{size:18}),"Analysis"]}),y.jsx("div",{className:"h-6 w-px bg-slate-200 mx-1 sm:mx-2 shrink-0"}),y.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 shrink-0 relative",children:[y.jsx(km,{size:16,className:"text-slate-400 hidden lg:block"}),y.jsxs("button",{onClick:()=>fn(!Hi),className:"flex items-center gap-1 p-1 sm:px-3 sm:py-2 rounded-xl border border-slate-200 text-xs font-medium bg-slate-50 text-slate-700 hover:bg-slate-100 transition-colors pointer-cursor",children:[y.jsx("span",{className:"capitalize",children:i}),y.jsx(xg,{size:14})]}),Hi&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>fn(!1)}),y.jsx("div",{className:"absolute right-0 top-full mt-2 w-32 bg-white rounded-2xl shadow-lg border border-slate-200 overflow-hidden z-50 py-1",children:ma.map(ie=>y.jsx("button",{onClick:()=>{a(ie),fn(!1)},className:`w-full text-left px-4 py-2 text-sm transition-colors capitalize ${i===ie?"text-indigo-600 font-bold bg-indigo-50":"text-slate-700 hover:bg-slate-50"}`,children:ie},ie))})]})]})]})]})}),y.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-8 space-y-6",children:[y.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-custom shadow-sm flex flex-col sm:flex-row items-center justify-between gap-4",children:[y.jsx("div",{className:"flex items-center gap-3",children:W?y.jsxs(y.Fragment,{children:[y.jsx(om,{size:18,className:"animate-spin text-sub"}),y.jsx("span",{className:"text-sm font-bold text-sub",children:"Checking sync status..."})]}):xr?y.jsxs(y.Fragment,{children:[y.jsx(Ov,{size:20,className:"text-amber-500"}),y.jsxs("span",{className:"text-sm font-bold text-custom",children:["Local Mode ",y.jsx("span",{className:"font-normal text-sub",children:"(Data not synced)"})]})]}):y.jsxs(y.Fragment,{children:[y.jsx(kv,{size:20,className:"text-emerald-500"}),y.jsxs("span",{className:"text-sm font-bold text-custom",children:["Cloud Sync Active ",y.jsxs("span",{className:"font-normal text-sub",children:["(",l?.email,")"]})]})]})}),y.jsx("div",{children:!W&&(xr?y.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-5 py-2.5 rounded-xl bg-primary text-white text-xs font-bold shadow-sm hover:opacity-90 transition-opacity",children:[y.jsx(uI,{size:16})," Login to Sync"]}):y.jsxs("button",{onClick:Fi,className:"flex items-center gap-2 px-5 py-2.5 rounded-xl border border-custom text-custom hover:opacity-70 text-xs font-bold transition-colors",children:[y.jsx(hI,{size:16})," Logout"]}))})]}),!st&&y.jsxs("div",{className:"bg-amber-50 border border-amber-200 p-4 rounded-2xl flex items-start gap-3",children:[y.jsx(Ov,{className:"text-amber-600 shrink-0 mt-0.5",size:20}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-amber-800 text-sm",children:"Cloud Sync Offline"}),y.jsx("p",{className:"text-amber-700 text-xs mt-1",children:"To enable saving data across devices on your live site, you must add your Firebase Project configuration inside `App.jsx`."})]})]}),s==="home"&&y.jsx(OI,{setActiveTab:e,setTheme:a,currentTheme:i}),s==="planner"&&y.jsxs("div",{className:"animate-in fade-in duration-300",children:[y.jsxs("header",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 mb-6",children:[y.jsx("div",{className:"bg-indigo-600 p-2.5 rounded-xl text-white",children:y.jsx(bo,{size:28})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900",children:"Multi-Subject Planner"}),y.jsx("p",{className:"text-slate-500 text-sm",children:"Add different subjects to generate a global schedule."})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[y.jsx("div",{className:"lg:col-span-1 space-y-6",children:y.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[y.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[y.jsx(RC,{size:20,className:"text-indigo-500"}),"Add New Syllabus"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Subject Name"}),y.jsx("input",{value:pe,onChange:ie=>Ne(ie.target.value),placeholder:"e.g. Physics Final",className:"w-full p-3 rounded-xl border border-slate-300 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Upload PDF"}),ue?y.jsxs("div",{className:"flex items-center justify-between p-2 bg-indigo-50 border border-indigo-100 rounded-xl",children:[y.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[y.jsx(KC,{className:"text-indigo-500 shrink-0",size:20}),y.jsx("span",{className:"text-xs font-medium truncate",children:$e})]}),y.jsx("button",{onClick:Io,className:"p-1 text-indigo-400 hover:text-indigo-600",children:y.jsx(jv,{size:16})})]}):y.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-24 border-2 border-slate-300 border-dashed rounded-xl cursor-pointer bg-slate-50 hover:bg-slate-100 transition-colors",children:[y.jsx(qC,{className:"w-6 h-6 mb-1 text-slate-400"}),y.jsx("p",{className:"text-xs text-slate-400",children:"Click to upload"}),y.jsx("input",{type:"file",className:"hidden",accept:"application/pdf",onChange:hi})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Paste Content"}),y.jsx("textarea",{value:H,onChange:ie=>te(ie.target.value),placeholder:"Or paste text here...",className:"w-full h-24 p-3 rounded-xl border border-slate-300 focus:ring-2 focus:ring-indigo-500 outline-none resize-none text-xs"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Start"}),y.jsx(Vm,{value:ne,onChange:se,minDate:new Date().toISOString().split("T")[0]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"End"}),y.jsx(Vm,{value:ve,onChange:Ce,minDate:ne})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Daily Study Hours"}),y.jsx("input",{type:"number",min:"1",max:"24",value:Le,onChange:ie=>_t(ie.target.value),onBlur:ie=>{let ye=parseInt(ie.target.value);_t(isNaN(ye)||ye<1?1:ye>24?24:ye)},className:"w-full p-2.5 rounded-xl border border-slate-300 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),qi&&y.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-xl text-xs flex items-start gap-2",children:[y.jsx(iu,{size:14,className:"shrink-0"}),y.jsx("span",{children:qi})]}),y.jsx("button",{onClick:br,disabled:ut,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-400 text-white rounded-xl font-bold flex justify-center items-center gap-2",children:ut?y.jsxs(y.Fragment,{children:[y.jsx(om,{size:18,className:"animate-spin"}),"Analyzing..."]}):y.jsx(y.Fragment,{children:"Generate Plan"})})]})]})}),y.jsx("div",{className:"lg:col-span-2 space-y-6",children:y.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[y.jsxs("h2",{className:"text-xl font-bold text-slate-800 mb-6 flex items-center gap-2",children:[y.jsx(AI,{className:"text-indigo-500"})," Active Subjects"]}),ce.length===0?y.jsx("div",{className:"text-center py-12 border-2 border-dashed border-slate-200 rounded-2xl text-slate-400",children:"No active plans."}):y.jsx("div",{className:"grid gap-4",children:ce.map(ie=>y.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-2xl group relative shadow-sm",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsx("h3",{className:"text-lg font-extrabold text-indigo-700 uppercase tracking-tighter",children:ie.subjectName}),y.jsx("button",{onClick:()=>Er(ie.id),className:"p-1 text-slate-300 hover:text-red-500 transition-colors",children:y.jsx(Fh,{size:18})})]}),y.jsxs("div",{className:"flex gap-4 text-xs font-bold text-slate-500 uppercase tracking-widest mb-4",children:[y.jsxs("span",{children:[ie.schedule.length," Days"]}),y.jsxs("span",{children:[ie.schedule[0].date," to ",ie.schedule[ie.schedule.length-1].date]})]}),y.jsx("div",{className:"space-y-2",children:ie.schedule.slice(0,2).map((ye,Ae)=>y.jsxs("div",{className:"bg-white p-3 rounded-xl border border-slate-200 flex justify-between items-center",children:[y.jsx("div",{className:"text-xs font-bold text-slate-800",children:ye.date}),y.jsxs("div",{className:"text-[10px] text-slate-400",children:[ye.topics.length," topics"]})]},Ae))}),ie.schedule.length>2&&y.jsx("p",{className:"text-[10px] text-center text-slate-400 mt-2 font-bold uppercase tracking-widest",children:"... more in tabs ..."})]},ie.id))})]})})]})]}),s==="calendar"&&y.jsx("div",{className:"animate-in fade-in duration-300",children:y.jsx(VI,{plans:ce,dailySchedules:A,addDailySchedule:Gt,deleteDailySchedule:Gi})}),s==="todo"&&y.jsx("div",{className:"animate-in fade-in duration-300",children:y.jsx(kI,{todos:xe,toggleTodo:vt,customTodos:Te,addCustomTodo:St,toggleCustomTodo:ci,deleteCustomTodo:da,editCustomTodo:Co})}),s==="notes"&&y.jsx("div",{className:"animate-in fade-in duration-300",children:y.jsx(jI,{notes:I,setNotes:Sr})}),s==="history"&&y.jsx("div",{className:"animate-in fade-in duration-300",children:y.jsx(LI,{plans:ce,customTodos:Te,todos:xe,dailySchedules:A})})]})]})}QT.createRoot(document.getElementById("root")).render(y.jsx(me.StrictMode,{children:y.jsx(UI,{})}));
